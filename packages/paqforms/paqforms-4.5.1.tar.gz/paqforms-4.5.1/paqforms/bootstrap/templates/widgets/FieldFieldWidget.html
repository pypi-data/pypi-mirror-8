<fieldset data-name="{{ field.fullname }}" data-counter="{{ field.fields | length }}" data-widget="FieldField">
    <legend>{{ widget.caption }}</legend>

    <div class="hidden">
        {% set proto_attrs = Attrs(attrs, {'disabled': True, 'id': field.fullname + '-0'}) %}
        <div class="row form-row" data-tag="prototype">
            <div class="col-md-11">
                {{ prototype(attrs=proto_attrs) }}
            </div>
            <div class="col-md-1">
                <div class="btn-group btn-group-sm">
                    <button type="button" data-action="remove" class="btn btn-orange"><span class="fa fa-minus"></span></button>
                </div>
            </div>
        </div>
    </div>

    <div class="controls" data-tag="holder">
        {% for field in field.fields %}
            <div class="row form-row" data-tag="item">
                <div class="col-md-11">
                    {{ field(attrs=attrs) }}
                </div>
                <div class="col-md-1">
                    <div class="btn-group btn-group-sm">
                        <button type="button" data-action="remove" class="btn btn-orange"><span class="fa fa-minus"></span></button>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="form-group"><div class="controls">
        <div class="btn-group btn-group-sm">
            <button type="button" data-action="add" class="btn btn-orange"><span class="fa fa-plus"></span></button>
        </div>
    </div></div>

    {{ field.alerts() }}
</fieldset>