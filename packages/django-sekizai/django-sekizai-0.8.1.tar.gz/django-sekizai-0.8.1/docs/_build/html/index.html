<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to django-sekizai’s documentation! &mdash; django-sekizai 0.6.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-sekizai 0.6.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">django-sekizai 0.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-django-sekizai-s-documentation">
<h1>Welcome to django-sekizai&#8217;s documentation!<a class="headerlink" href="#welcome-to-django-sekizai-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you get an error when using django-sekizai that starts with
<strong>Invalid block tag:</strong>, please read <a class="reference internal" href="#restrictions"><em>Restrictions</em></a>.</p>
</div>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>Sekizai means &#8220;blocks&#8221; in Japanese, and that&#8217;s what this app provides. A fresh
look at blocks. With django-sekizai you can define placeholders where your
blocks get rendered and at different places in your templates append to those
blocks. This is especially useful for css and javascript. Your sub-templates can
now define css and Javascript files to be included, and the css will be nicely
put at the top and the Javascript to the bottom, just like you should. Also
sekizai will ignore any duplicate content in a single block.</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Python 2.6, 2.7, 3.2 or higher.</li>
<li>Django 1.2.7 or higher.</li>
<li>django-classy-tags 0.3.1 or higher.</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>In order to get started with django-sekizai, you&#8217;ll need to do the following
steps:</p>
<ul>
<li><p class="first">Put &#8216;sekizai&#8217; into your <tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt> setting.</p>
</li>
<li><dl class="first docutils">
<dt>Use one of the following:</dt>
<dd><ul class="first last simple">
<li>Put <tt class="docutils literal"><span class="pre">sekizai.context_processors.sekizai</span></tt> into your
<tt class="docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></tt> setting and use
<tt class="docutils literal"><span class="pre">django.template.RequestContext</span></tt> when rendering your templates.</li>
<li>Use <tt class="docutils literal"><span class="pre">sekizai.context.SekizaiContext</span></tt> when rendering your templates.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="template-tag-reference">
<h3>Template Tag Reference<a class="headerlink" href="#template-tag-reference" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All sekizai template tags require the <tt class="docutils literal"><span class="pre">sekizai_tags</span></tt> template tag
library to be loaded.</p>
</div>
<div class="section" id="handling-code-snippets">
<h4>Handling code snippets<a class="headerlink" href="#handling-code-snippets" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>The <tt class="docutils literal"><span class="pre">strip</span></tt> flag was added.</p>
</div>
<p>Sekizai uses <tt class="docutils literal"><span class="pre">render_block</span></tt> and <tt class="docutils literal"><span class="pre">addtoblock</span></tt> to handle unique code snippets.
Define your blocks using <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">&lt;name&gt;</span> <span class="pre">%}</span></tt> and add data to that
block using <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">addtoblock</span> <span class="pre">&lt;name&gt;</span> <span class="pre">[strip]</span> <span class="pre">%}...{%</span> <span class="pre">endaddotblock</span> <span class="pre">%}</span></tt>. If the
strip flag is set, leading and trailing whitespace will be removed.</p>
<p>Example Template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">sekizai_tags</span> <span class="cp">%}</span>

<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;css&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
Your content comes here.
Maybe you want to throw in some css:
<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;css&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/media/css/stylesheet.css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>
Some more content here.
<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello django-sekizai&quot;</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>
And even more content.
<span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Above example would roughly render like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/media/css/stylesheet.css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
Your content comes here.
Maybe you want to throw in some css:
Some more content here.
And even more content.
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello django-sekizai&quot;</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It&#8217;s recommended to have all <tt class="docutils literal"><span class="pre">render_block</span></tt> tags in your base template, the one that gets extended by all your
other templates.</p>
</div>
</div>
<div class="section" id="restrictions">
<span id="id1"></span><h4>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">%}</span></tt> tags <strong>must not</strong> be placed inside a template tag block (a template tag which has an
end tag, such as <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}...{%</span> <span class="pre">endblock</span> <span class="pre">%}</span></tt> or <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">if</span> <span class="pre">%}...{%</span> <span class="pre">endif</span> <span class="pre">%}</span></tt>).</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">%}</span></tt> tags <strong>must not</strong> be in an included template!</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">addtoblock</span> <span class="pre">%}</span></tt> tag is used in an <strong>included</strong> or <strong>extending</strong> template, the tags <strong>must</strong> be
placed within <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}...{%</span> <span class="pre">endblock</span> <span class="pre">%}</span></tt> tags.</p>
</div>
</div>
<div class="section" id="handling-data">
<h4>Handling data<a class="headerlink" href="#handling-data" title="Permalink to this headline">¶</a></h4>
<p>Sometimes you might not want to use code snippets but rather just add a value to
a list. For this purpose there are the
<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">with_data</span> <span class="pre">&lt;name&gt;</span> <span class="pre">as</span> <span class="pre">&lt;varname&gt;</span> <span class="pre">%}...{%</span> <span class="pre">end_with_data</span> <span class="pre">%}</span></tt> and
<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">add_data</span> <span class="pre">&lt;name&gt;</span> <span class="pre">&lt;value&gt;</span> <span class="pre">%}</span></tt> template tags.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">sekizai_tags</span> <span class="cp">%}</span>

<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="cp">{%</span> <span class="k">with_data</span> <span class="s2">&quot;css-data&quot;</span> <span class="k">as</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">stylesheet</span> <span class="k">in</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}{{</span> <span class="nv">stylesheet</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">media=</span><span class="s">&quot;screen&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">end_with_data</span> <span class="cp">%}</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
Your content comes here.
Maybe you want to throw in some css:
<span class="cp">{%</span> <span class="k">add_data</span> <span class="s2">&quot;css-data&quot;</span> <span class="s2">&quot;css/stylesheet.css&quot;</span> <span class="cp">%}</span>
Some more content here.
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Above example would roughly render like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/media/css/stylesheet.css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
Your content comes here.
Maybe you want to throw in some css:
Some more content here.
And even more content.
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The restrictions for <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">%}</span></tt> also apply to <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">with_data</span> <span class="pre">%}</span></tt>, see above.</p>
<p class="last">The restrictions for <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">addtoblock</span> <span class="pre">%}</span></tt> also apply to <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">add_data</span> <span class="pre">%}</span></tt>, see above.</p>
</div>
</div>
<div class="section" id="sekizai-data-is-unique">
<h4>Sekizai data is unique<a class="headerlink" href="#sekizai-data-is-unique" title="Permalink to this headline">¶</a></h4>
<p>All data in sekizai is enforced to be unique within its block namespace. This
is because the main purpose of sekizai is to handle javascript and css
dependencies in templates.</p>
<p>A simple example using <tt class="docutils literal"><span class="pre">addtoblock</span></tt> and <tt class="docutils literal"><span class="pre">render_block</span></tt> would be:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">sekizai_tags</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/mootools/1.3.0/mootools-yui-compressed.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;firstelement&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/mootools/1.3.0/mootools-yui-compressed.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;secondelement&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Above template would roughly render to:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/mootools/1.3.0/mootools-yui-compressed.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;firstelement&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;secondelement&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.5.</span></p>
</div>
</div>
<div class="section" id="processing-sekizai-data">
<h4>Processing sekizai data<a class="headerlink" href="#processing-sekizai-data" title="Permalink to this headline">¶</a></h4>
<p>Because of the restrictions of the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">render_block</span> <span class="pre">%}</span></tt> tag, it is not possible
to use sekizai with libraries such as django-compressor directly. For that
reason, sekizai added postprocessing capabilities to <tt class="docutils literal"><span class="pre">render_block</span></tt> in
version 0.5.</p>
<p>Postprocessors are callable Python objects (usually functions) that get the
render context, the data in a sekizai namespace and the name of the namespace
passed as arguments and should return a string.</p>
<p>An example for a processor that uses the Django builtin spaceless functionality
would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">spaceless_post_processor</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">django.utils.html</span> <span class="kn">import</span> <span class="n">strip_spaces_between_tags</span>
    <span class="k">return</span> <span class="n">strip_spaces_between_tags</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>To use this post processor you have to tell <tt class="docutils literal"><span class="pre">render_block</span></tt> where it&#8217;s
located. If above code sample lives in the Python module
<tt class="docutils literal"><span class="pre">myapp.sekizai_processors</span></tt> you could use it like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre>...
<span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;js&quot;</span> <span class="nv">postprocessor</span> <span class="s2">&quot;myapp.sekizai_processors.spaceless_post_processor&quot;</span> <span class="cp">%}</span>
...
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="helpers">
<h2>Helpers<a class="headerlink" href="#helpers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sekizai-helpers">
<h3><tt class="xref py py-mod docutils literal"><span class="pre">sekizai.helpers</span></tt><a class="headerlink" href="#sekizai-helpers" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="get_namespaces">
<tt class="descname">get_namespaces</tt><big>(</big><em>template</em><big>)</big><a class="headerlink" href="#get_namespaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all sekizai namespaces found in <tt class="docutils literal"><span class="pre">template</span></tt>, which should
be the name of a template. This method also checks extended templates.</p>
</dd></dl>

<dl class="function">
<dt id="validate_template">
<tt class="descname">validate_template</tt><big>(</big><em>template</em>, <em>namespaces</em><big>)</big><a class="headerlink" href="#validate_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if all namespaces given are found in the template given.
Useful to check that the namespaces required by your application are
available, so you can failfast if they&#8217;re not.</p>
</dd></dl>

</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>A full example on how to use django-sekizai and when.</p>
<p>Let&#8217;s assume you have a website, where all templates extend base.html, which
just contains your basic HTML structure. Now you also have a small template
which gets included on some pages. This template needs to load a javascript
library and execute some specific javascript code.</p>
<p>Your <tt class="docutils literal"><span class="pre">base.html</span></tt> might look like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">sekizai_tags</span> <span class="cp">%}&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span> <span class="na">dir=</span><span class="s">&quot;ltr&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;x-ua-compatible&quot;</span> <span class="na">content=</span><span class="s">&quot;ie=8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Your website<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;shortcut icon&quot;</span> <span class="na">type=</span><span class="s">&quot;image/x-icon&quot;</span> <span class="na">href=</span><span class="s">&quot;/favicon.ico&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}</span><span class="s">css/base.css&quot;</span> <span class="na">media=</span><span class="s">&quot;all&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}</span><span class="s">css/print.css&quot;</span> <span class="na">media=</span><span class="s">&quot;print&quot;</span> <span class="nt">/&gt;</span>
    <span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;css&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="s2">&quot;content&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}</span><span class="s">js/libs/jquery-1.4.2.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">render_block</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>As you can see, we load <tt class="docutils literal"><span class="pre">sekizai_tags</span></tt> at the very beginning. We have two
sekizai namespaces: &#8220;css&#8221; and &#8220;js&#8221;. The &#8220;css&#8221; namespace is rendered in the head
right after the base css files, the &#8220;js&#8221; namespace is rendered at the very
bottom of the body, right after we load jQuery.</p>
<p>Now to our included template. We assume there&#8217;s a context variable called
<tt class="docutils literal"><span class="pre">userid</span></tt> which will be used with the javascript code.</p>
<p>Your template (<tt class="docutils literal"><span class="pre">inc.html</span></tt>) might look like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">sekizai_tags</span> <span class="cp">%}</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;my-div&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;dynamic-content-</span><span class="cp">{{</span> <span class="nv">userid</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}</span><span class="s">js/libs/mylib.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">addtoblock</span> <span class="s2">&quot;js&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#dynamic-conent-</span><span class="cp">{{</span> <span class="nv">userid</span> <span class="cp">}}</span><span class="s1">&#39;</span><span class="p">).</span><span class="nx">do_something</span><span class="p">();</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="cp">{%</span> <span class="k">endaddtoblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>The important thing to notice here is that we split the javascript into two
<tt class="docutils literal"><span class="pre">addtoblock</span></tt> blocks. Like this, the library &#8216;mylib.js&#8217; is only included once,
and the userid specific code will be included once per userid.</p>
<p>Now to put it all together let&#8217;s assume we render a third template with
<tt class="docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></tt> as <tt class="docutils literal"><span class="pre">my_userids</span></tt> variable.</p>
<p>The third template looks like this:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="s2">&quot;content&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">userid</span> <span class="k">in</span> <span class="nv">my_userids</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;inc.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>And here&#8217;s the rendered template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span> <span class="na">dir=</span><span class="s">&quot;ltr&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;x-ua-compatible&quot;</span> <span class="na">content=</span><span class="s">&quot;ie=8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Your website<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;shortcut icon&quot;</span> <span class="na">type=</span><span class="s">&quot;image/x-icon&quot;</span> <span class="na">href=</span><span class="s">&quot;/favicon.ico&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;/media/css/base.css&quot;</span> <span class="na">media=</span><span class="s">&quot;all&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;/media/css/print.css&quot;</span> <span class="na">media=</span><span class="s">&quot;print&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;my-div&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;dynamic-content-1&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;my-div&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;dynamic-content-2&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;my-div&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;dynamic-content-3&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/media/js/libs/jquery-1.4.2.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}</span><span class="s">js/libs/mylib.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#dynamic-conent-1&#39;</span><span class="p">).</span><span class="nx">do_something</span><span class="p">();</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#dynamic-conent-2&#39;</span><span class="p">).</span><span class="nx">do_something</span><span class="p">();</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#dynamic-conent-3&#39;</span><span class="p">).</span><span class="nx">do_something</span><span class="p">();</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to django-sekizai&#8217;s documentation!</a><ul>
<li><a class="reference internal" href="#about">About</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#template-tag-reference">Template Tag Reference</a><ul>
<li><a class="reference internal" href="#handling-code-snippets">Handling code snippets</a></li>
<li><a class="reference internal" href="#restrictions">Restrictions</a></li>
<li><a class="reference internal" href="#handling-data">Handling data</a></li>
<li><a class="reference internal" href="#sekizai-data-is-unique">Sekizai data is unique</a></li>
<li><a class="reference internal" href="#processing-sekizai-data">Processing sekizai data</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#helpers">Helpers</a><ul>
<li><a class="reference internal" href="#sekizai-helpers"><tt class="docutils literal"><span class="pre">sekizai.helpers</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">django-sekizai 0.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Jonas Obrist.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>