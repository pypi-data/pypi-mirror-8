<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Text indexing for Pootle &mdash; Pootle 2.6.0-rc1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.6.0-rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Pootle 2.6.0-rc1 documentation" href="../index.html" />
    <link rel="up" title="Administering a server" href="index.html" />
    <link rel="next" title="Management commands" href="commands.html" />
    <link rel="prev" title="Caching System" href="cache.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.6.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">User&#8217;s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Pootle API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_docs.html">External documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Text indexing for Pootle</a><ul>
<li><a class="reference internal" href="#supported-indexing-engines">Supported indexing engines</a></li>
<li><a class="reference internal" href="#pootle-s-usage-of-the-indexing-engine">Pootle&#8217;s usage of the indexing engine</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#indexing-lucene">Lucene</a></li>
<li><a class="reference internal" href="#indexing-xapian">Xapian</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging">Debugging</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="cache.html"
         title="previous chapter">&laquo; Caching System</a></li>
  <li><a href="commands.html"
         title="next chapter">Management commands &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="text-indexing-for-pootle">
<span id="indexing"></span><h1>Text indexing for Pootle<a class="headerlink" href="#text-indexing-for-pootle" title="Permalink to this headline">¶</a></h1>
<p>Pootle provides <a class="reference internal" href="../features/searching.html"><em>searching</em></a> functionality, which
is a great way to do searches over all files in a project. If there are many
strings to search through, then performance can be slow, but installing a
text indexing library will speed things up, allowing searching even in very
large projects.</p>
<div class="section" id="supported-indexing-engines">
<span id="indexing-supported-indexing-engines"></span><h2>Supported indexing engines<a class="headerlink" href="#supported-indexing-engines" title="Permalink to this headline">¶</a></h2>
<p>The following indexing engines are supported:</p>
<ul class="simple">
<li><a class="reference external" href="http://lucene.apache.org/">Lucene</a>:  This should be the fastest, but is
not packaged for many Linux distributions, and is a bit harder to build.</li>
<li><a class="reference external" href="http://xapian.org">Xapian</a> (v1.0 or higher): Note that you need at least
<a class="reference external" href="http://svn.xapian.org/*checkout*/tags/1.0.13/xapian-bindings/NEWS">version 1.0.13</a> to run
under Apache with mod_wsgi or mod_python.</li>
</ul>
</div>
<div class="section" id="pootle-s-usage-of-the-indexing-engine">
<span id="indexing-usage"></span><h2>Pootle&#8217;s usage of the indexing engine<a class="headerlink" href="#pootle-s-usage-of-the-indexing-engine" title="Permalink to this headline">¶</a></h2>
<p>The indexing database helps to speed up
<a class="reference internal" href="../features/searching.html"><em>search queries</em></a> performed from the Pootle interface.</p>
</div>
<div class="section" id="installation">
<span id="indexing-administration"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>If you want to use an indexing engine to speed up text searches, then you need
to install one of the supported indexing engines and its Python binding.</p>
<p>The indexing engine will be used, as soon as the required Python bindings are
available.</p>
<p>See below for details.</p>
<div class="section" id="indexing-lucene">
<span id="id1"></span><h3>Lucene<a class="headerlink" href="#indexing-lucene" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Install the <a class="reference external" href="http://lucene.apache.org/pylucene/">PyLucene</a> package<ul>
<li>For debian: follow this <a class="reference external" href="https://systemausfall.org/wikis/howto/PyLuceneOnDebian">Howto</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="indexing-xapian">
<span id="id2"></span><h3>Xapian<a class="headerlink" href="#indexing-xapian" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Install the <a class="reference external" href="http://xapian.org/docs/bindings/python/">Python bindings for Xapian</a><ul>
<li>Debian: <tt class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">python-xapian</span> <span class="pre">xapian-tools</span></tt></li>
<li><a class="reference external" href="http://xapian.org/download">Other distributions and platforms</a></li>
</ul>
</li>
</ul>
<p>The Xapian tools packaged is required for the <em>xapian-check</em> command which
is used to determines whether the Xapian version is compatible with Pootle.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you are deploying using a virtualenv and want to make use of
Xapian then you will need to, either:</p>
<ol class="last arabic">
<li><p class="first">Install your virtualenv with access to the system packages using the
<a class="reference external" href="http://www.virtualenv.org/en/latest/#the-system-site-packages-option">&#8211;system-site-packages</a>
option:</p>
<div class="highlight-python"><div class="highlight"><pre>virtualenv --system-site-packages ENV
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://nomad.coop/blog/installing-xapian-in-virtualenv-django/">Compile the Python bindings</a></p>
</li>
<li><p class="first">Symbolically link the Xapian bindings into your virtualenv, as follows on
an Ubuntu system:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir <span class="k">${</span><span class="nv">ENV</span><span class="k">}</span>/lib/python2.6/dist-packages
<span class="nv">$ </span><span class="nb">cd</span> <span class="k">${</span><span class="nv">ENV</span><span class="k">}</span>/lib/python2.6/dist-packages
<span class="nv">$ </span>ln -s /usr/lib/python2.6/dist-packages/xapian.py
<span class="nv">$ </span>ln -s /usr/lib/python2.6/dist-packages/_xapian.so
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="debugging">
<span id="indexing-debugging"></span><h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<p>If you want to check which indexing engines are currently detected on your
system you can execute the self-tests of the indexing engine interface of
Pootle:</p>
<div class="highlight-python"><div class="highlight"><pre>python translate/search/indexing/test_indexers.py
</pre></div>
</div>
<p>This will display the installed engines and check if they work as expected.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please file a <a class="reference external" href="http://bugs.locamotion.org/enter_bug.cgi?product=Pootle&amp;component=Pootle">bug report</a>
if you encounter any errors when running these tests.</p>
</div>
<p>The actual test for xapian is <tt class="docutils literal"><span class="pre">xapian-check</span> <span class="pre">--version</span></tt>.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2014, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>