<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Automated deployment using Fabric &mdash; Pootle 2.6.0-rc1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.6.0-rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Pootle 2.6.0-rc1 documentation" href="../index.html" />
    <link rel="up" title="Administering a server" href="index.html" />
    <link rel="next" title="Available Fabric commands" href="fabric_commands.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.6.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">User&#8217;s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Pootle API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_docs.html">External documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Automated deployment using Fabric</a><ul>
<li><a class="reference internal" href="#preparing-the-remote-server">Preparing the remote server</a><ul>
<li><a class="reference internal" href="#installing-required-software-on-the-remote-server">Installing required software on the remote server</a></li>
<li><a class="reference internal" href="#hardware-requirements">Hardware requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#preparing-fabric-deployment">Preparing Fabric deployment</a><ul>
<li><a class="reference internal" href="#installing-required-software-on-the-local-computer">Installing required software on the local computer</a></li>
<li><a class="reference internal" href="#getting-pootle-fabric-files">Getting Pootle Fabric files</a></li>
<li><a class="reference internal" href="#setting-up-fabric">Setting up Fabric</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-run-fabric-commands">How to run Fabric commands</a><ul>
<li><a class="reference internal" href="#provide-arguments">Provide arguments</a></li>
<li><a class="reference internal" href="#tweak-the-environment">Tweak the environment</a></li>
<li><a class="reference internal" href="#run-several-commands-in-a-row">Run several commands in a row</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-passwordless-access">Configuring passwordless access</a></li>
<li><a class="reference internal" href="#typical-usage-example">Typical Usage Example</a><ul>
<li><a class="reference internal" href="#bootstrapping-the-environment">Bootstrapping the environment</a></li>
<li><a class="reference internal" href="#setting-up-the-database">Setting Up the Database</a></li>
<li><a class="reference internal" href="#enabling-the-web-server">Enabling the web server</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="installation.html"
         title="previous chapter">&laquo; Installation</a></li>
  <li><a href="fabric_commands.html"
         title="next chapter">Available Fabric commands &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="automated-deployment-using-fabric">
<span id="fabric-deployment"></span><h1>Automated deployment using Fabric<a class="headerlink" href="#automated-deployment-using-fabric" title="Permalink to this headline">¶</a></h1>
<p>Pootle can be deployed using Fabric automation scripts. There are other methods
to deploy Pootle, but using Fabric with these scripts allows automated
deployments and simplifies maintenance tasks and the upgrade to newer versions.</p>
<p>The sample scripts bundled with Pootle allow you to deploy a Pootle server
using a Python virtualenv, running on a <strong>Apache</strong> server with <em>mod_wsgi</em> using
<strong>MySQL</strong> as database server on <strong>Debian</strong>-based systems. These sample scripts
can be modified to perform different deployments.</p>
<p>To see a comprehensive list of all Fabric commands available to deploy Pootle
check the <a class="reference internal" href="fabric_commands.html#fabric-commands"><em>Fabric commands reference</em></a>.</p>
<div class="section" id="preparing-the-remote-server">
<span id="fabric-deployment-preparing-the-remote-server"></span><h2>Preparing the remote server<a class="headerlink" href="#preparing-the-remote-server" title="Permalink to this headline">¶</a></h2>
<p>Before performing an automated deployment using Fabric, make sure the
server where Pootle is going to be deployed has the required software.</p>
<div class="section" id="installing-required-software-on-the-remote-server">
<span id="fabric-deployment-installing-required-software-on-the-remote-server"></span><h3>Installing required software on the remote server<a class="headerlink" href="#installing-required-software-on-the-remote-server" title="Permalink to this headline">¶</a></h3>
<p>Before proceeding, install the following software (if absent) on the
remote server:</p>
<ul class="simple">
<li>Python 2.5, 2.6, or 2.7</li>
<li><a class="reference external" href="http://www.pip-installer.org/">python-pip</a></li>
<li>Git distributed version control system</li>
<li>Apache web server</li>
<li>MySQL database server</li>
<li>OpenSSH server</li>
<li>C compiler (to install Pootle&#8217;s Python dependencies &#8211; can be removed later)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently only Debian-based (e.g. Ubuntu) servers are supported.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have problems installing the dependencies during the bootstrap
you are probably missing other packages needed to build those third-party
Python modules. For example, <a class="reference external" href="http://lxml.de/installation.html">lxml</a>
needs development files for libxml2 and libxslt1 (as well as the C compiler
mentioned above).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Also consider <a class="reference internal" href="optimization.html#optimization-optional-software"><em>installing optional packages</em></a> for optimal performance.</p>
</div>
</div>
<div class="section" id="hardware-requirements">
<span id="fabric-deployment-hardware-requirements"></span><h3>Hardware requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this headline">¶</a></h3>
<p>Check the <a class="reference internal" href="installation.html#installation-hardware-requirements"><em>Hardware requirements</em></a> on
Installation docs.</p>
</div>
</div>
<div class="section" id="preparing-fabric-deployment">
<span id="fabric-deployment-preparing-fabric-deployment"></span><h2>Preparing Fabric deployment<a class="headerlink" href="#preparing-fabric-deployment" title="Permalink to this headline">¶</a></h2>
<p>Before performing a deployment you will need to install some software on the
local computer and configure the necessary settings to connect to the remote
server.</p>
<div class="section" id="installing-required-software-on-the-local-computer">
<span id="fabric-deployment-installing-required-software-on-the-local-computer"></span><h3>Installing required software on the local computer<a class="headerlink" href="#installing-required-software-on-the-local-computer" title="Permalink to this headline">¶</a></h3>
<p>The first step is to install the necessary software on the local computer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We strongly recommend using a virtual environment (virtualenv). Check
the <a class="reference internal" href="installation.html#installation-setup-environment"><em>Setting up the Environment</em></a> docs
for information about virtualenvs.</p>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install Fabric
</pre></div>
</div>
</div>
<div class="section" id="getting-pootle-fabric-files">
<span id="fabric-deployment-getting-pootle-fabric-files"></span><h3>Getting Pootle Fabric files<a class="headerlink" href="#getting-pootle-fabric-files" title="Permalink to this headline">¶</a></h3>
<p>Pootle is bundled with sample scripts for deploying using Fabric. The relevant
files are:</p>
<ul class="simple">
<li><tt class="file docutils literal"><span class="pre">fabfile.py</span></tt></li>
<li>Files inside the <tt class="file docutils literal"><span class="pre">deploy/</span></tt> directory</li>
</ul>
<p>You can get those files from the <a class="reference external" href="https://github.com/translate/pootle">Pootle GitHub repository</a>. The rest of the Pootle files are not
necessary for this kind of deployment.</p>
</div>
<div class="section" id="setting-up-fabric">
<span id="fabric-deployment-setting-up-fabric"></span><h3>Setting up Fabric<a class="headerlink" href="#setting-up-fabric" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="file docutils literal"><span class="pre">deploy/</span></tt> directory contains sample files that can be used in
combination with the <tt class="file docutils literal"><span class="pre">fabfile.py</span></tt> file for deploying Pootle servers.</p>
<p>There are two different deployment environments. Each one has a directory inside
<tt class="file docutils literal"><span class="pre">deploy/</span></tt>:</p>
<ul class="simple">
<li>Staging environment: <tt class="file docutils literal"><span class="pre">deploy/staging/</span></tt> directory</li>
<li>Production environment: <tt class="file docutils literal"><span class="pre">deploy/production/</span></tt> directory</li>
</ul>
<p>This way server administrators can separate their testing and real-world Pootle
servers.</p>
<p>For deploying a Pootle server using one of the environments it is necessary to
put some configuration files in place:</p>
<ul class="simple">
<li><tt class="file docutils literal"><span class="pre">deploy/pootle.wsgi</span></tt>
WSGI script that will be used to run Pootle.</li>
<li><tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/fabric.py</span></tt>
Module with settings that will be used in Fabric.</li>
<li><tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/settings.conf</span></tt>
Pootle-specific settings for the server (it will override the defaults). For
example, the settings for connecting to the database will go here.</li>
<li><tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/virtualhost.conf</span></tt>
Apache VirtualHost configuration file.</li>
</ul>
<p>In the previous paths <tt class="docutils literal"><span class="pre">ENVIRONMENT</span></tt> is the directory name for the chosen
environment (production or staging).</p>
<p>All the settings defined in the <tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/fabric.py</span></tt> module
will populate the Fabric <tt class="docutils literal"><span class="pre">env</span></tt> dictionary, making the configuration keys
available in the <tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/settings.conf</span></tt> and
<tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/virtualhost.conf</span></tt> files. You can use basic Python
string formatting to access the configuration values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Sample configuration files are provided for reference under the
<tt class="file docutils literal"><span class="pre">deploy/</span></tt> directory. Put them in the desired environment directory,
and adapt them to your needs before running any Fabric commands.</p>
</div>
<p>Check <tt class="file docutils literal"><span class="pre">pootle/settings/90-local.conf.sample</span></tt> to see settings that you
might want to use in <tt class="file docutils literal"><span class="pre">deploy/ENVIRONMENT/settings.conf</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If it is necessary you can adapt the <tt class="file docutils literal"><span class="pre">deploy/pootle.wsgi</span></tt> file
to meet your needs.</p>
</div>
<p>Once you make your changes to the settings you are ready to run the
Fabric commands.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For security, please make sure you change the <tt class="docutils literal"><span class="pre">db_password</span></tt> setting
&#8211; using the example one could make your server vulnerable to exploits.  The
<tt class="docutils literal"><span class="pre">db_password</span></tt> setting is used both to properly configure Pootle, as well
as to set up the database user access for the deployment.</p>
<p class="last">The <tt class="docutils literal"><span class="pre">db_root_password</span></tt> setting, on the other hand, is only used to
configure the MySQL options file, if you choose to do this, and is only
needed when creating the database (if the normal user does not have the
necessary permissions).  Leaving this with default setting will have no
security impact.</p>
</div>
</div>
</div>
<div class="section" id="how-to-run-fabric-commands">
<span id="fabric-deployment-how-to-run-fabric-commands"></span><h2>How to run Fabric commands<a class="headerlink" href="#how-to-run-fabric-commands" title="Permalink to this headline">¶</a></h2>
<p>In order to run Fabric commands for Pootle it is necessary that the directory
containing the <tt class="file docutils literal"><span class="pre">fabfile.py</span></tt> file and the <tt class="docutils literal"><span class="pre">deploy</span></tt> subdirectory be
included in the <tt class="docutils literal"><span class="pre">PYTHONPATH</span></tt>.  If it is not, then add it using:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
<p>The fabric commands need to know the type of environment in which
they are going to work, e.g. if the deployment will be for the production
environment. The Fabric commands for Pootle support two environments:
<tt class="docutils literal"><span class="pre">production</span></tt> and <tt class="docutils literal"><span class="pre">staging</span></tt>. To select the environment for running a
command just add it before the command like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production bootstrap  <span class="c"># Use the &#39;production&#39; environment</span>
<span class="nv">$ </span>fab staging bootstrap     <span class="c"># Or use the &#39;staging&#39; environment</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is necessary to <a class="reference internal" href="#fabric-deployment-installing-required-software-on-the-local-computer"><em>install Fabric</em></a> in
order to be able to run the <strong class="command">fab</strong> command.</p>
</div>
<div class="section" id="provide-arguments">
<span id="fabric-deployment-provide-arguments"></span><h3>Provide arguments<a class="headerlink" href="#provide-arguments" title="Permalink to this headline">¶</a></h3>
<p>Some commands do accept arguments &#8211; the argument name is followed by a colon
(:) and the value for the argument (with no spaces):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production load_db:dumpfile<span class="o">=</span>backup_mysql.sql  <span class="c"># Call load_db providing a database dump to load</span>
</pre></div>
</div>
<p>The previous call runs the <a class="reference internal" href="fabric_commands.html#fabric-commands-load-db"><em>load_db</em></a> command
providing the value <tt class="docutils literal"><span class="pre">backup_mysql.sql</span></tt> for its <em class="xref std std-option">dumpfile</em> argument.</p>
</div>
<div class="section" id="tweak-the-environment">
<span id="fabric-deployment-tweak-the-environment"></span><h3>Tweak the environment<a class="headerlink" href="#tweak-the-environment" title="Permalink to this headline">¶</a></h3>
<p>One possible use for arguments is to tweak the environment when setting it,
before calling the commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production:branch<span class="o">=</span>stable/2.5.0 bootstrap  <span class="c"># Run bootstrap for a branch</span>
</pre></div>
</div>
<p>In the previous example <a class="reference internal" href="fabric_commands.html#fabric-commands-bootstrap"><em>bootstrap</em></a> is run
after setting the environment using <a class="reference internal" href="fabric_commands.html#fabric-commands-production"><em>production</em></a> but changing the branch to work on, to be the
value <tt class="docutils literal"><span class="pre">stable/2.5.0</span></tt> passed to the <em class="xref std std-option">branch</em> argument.</p>
</div>
<div class="section" id="run-several-commands-in-a-row">
<span id="fabric-deployment-run-several-commands-in-a-row"></span><h3>Run several commands in a row<a class="headerlink" href="#run-several-commands-in-a-row" title="Permalink to this headline">¶</a></h3>
<p>It is possible to run several commands in a row with a single call:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="c"># Run several commands in a row using a single call to fab</span>
<span class="nv">$ </span>fab production:branch<span class="o">=</span>stable/2.5.0 bootstrap create_db load_db:dumpfile<span class="o">=</span>backup_mysql.sql
</pre></div>
</div>
<p>The previous call will run <a class="reference internal" href="fabric_commands.html#fabric-commands-production"><em>production</em></a>
followed by <a class="reference internal" href="fabric_commands.html#fabric-commands-bootstrap"><em>bootstrap</em></a>, <a class="reference internal" href="fabric_commands.html#fabric-commands-create-db"><em>create_db</em></a> and <a class="reference internal" href="fabric_commands.html#fabric-commands-load-db"><em>load_db</em></a>, in
that exact order.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to know more about Fabric, please read <a class="reference external" href="http://docs.fabfile.org/en/latest/">its documentation</a>.</p>
</div>
<p>See the <a class="reference internal" href="fabric_commands.html#fabric-commands"><em>Fabric commands reference</em></a> for a
comprehensive list of all Fabric commands available for deploying Pootle,
with detailed descriptions of each command.</p>
</div>
</div>
<div class="section" id="configuring-passwordless-access">
<span id="fabric-deployment-configuring-passwordless-access"></span><h2>Configuring passwordless access<a class="headerlink" href="#configuring-passwordless-access" title="Permalink to this headline">¶</a></h2>
<p>While it is not required, it is much easier to perform deployment operations
without interactive prompts for login, sudo, or MySQL database passwords:</p>
<ul>
<li><p class="first">You can eliminate the need for an SSH login password by adding your public
SSH key(s) to the <tt class="file docutils literal"><span class="pre">~/.ssh/authorized_hosts</span></tt> file of the user on the
remote server.</p>
</li>
<li><p class="first">You can eliminate the need for sudo passwords by adding in the
<tt class="file docutils literal"><span class="pre">/etc/sudoers.d/</span></tt> directory on the remote server, a file (with
permissions mode <tt class="docutils literal"><span class="pre">440</span></tt>) containing the line:</p>
<div class="highlight-python"><div class="highlight"><pre>username ALL = (ALL) NOPASSWD: ALL
</pre></div>
</div>
<p>where <em>username</em> must be replaced with the user configured in the
<tt class="file docutils literal"><span class="pre">fabric.py</span></tt> settings file.</p>
</li>
<li><p class="first">You can eliminate the need for MySQL passwords by configuring the database
password(s) in the <tt class="file docutils literal"><span class="pre">fabric.py</span></tt> settings file, running the
<a class="reference internal" href="fabric_commands.html#fabric-commands-mysql-conf"><em>mysql_conf</em></a> fabric command to create a
MySQL options file for the remote user:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production mysql_conf  <span class="c"># Set up MySQL options file</span>
</pre></div>
</div>
<p>and then modifying the <tt class="file docutils literal"><span class="pre">fabric.py</span></tt> settings file to un-comment the
alternate value for <tt class="xref std std-setting docutils literal"><span class="pre">db_password_opt</span></tt> (and optionally
<tt class="xref std std-setting docutils literal"><span class="pre">db_root_password_opt</span></tt>, if <tt class="xref std std-setting docutils literal"><span class="pre">db_root_password</span></tt> is
configured).</p>
</li>
</ul>
</div>
<div class="section" id="typical-usage-example">
<span id="fabric-deployment-typical-usage-example"></span><h2>Typical Usage Example<a class="headerlink" href="#typical-usage-example" title="Permalink to this headline">¶</a></h2>
<p>A typical usage example is included here in order to provide a more easy to
understand example on how to use this deployment method and the available
commands.</p>
<div class="section" id="bootstrapping-the-environment">
<span id="fabric-deployment-bootstrap-environment"></span><h3>Bootstrapping the environment<a class="headerlink" href="#bootstrapping-the-environment" title="Permalink to this headline">¶</a></h3>
<p>You can install the Pootle software, configuration files, and directory tree(s)
with the bootstrap command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:<span class="nv">$PYTHONPATH</span>
<span class="nv">$ </span>fab production:branch<span class="o">=</span>stable/2.5.0 bootstrap  <span class="c"># Install Pootle 2.5</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-the-database">
<span id="fabric-deployment-setting-up-the-database"></span><h3>Setting Up the Database<a class="headerlink" href="#setting-up-the-database" title="Permalink to this headline">¶</a></h3>
<p>When setting up the database there are several possible scenarios:</p>
<ul>
<li><p class="first">If creating a new database from scratch:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production create_db  <span class="c"># Creates Pootle DB on MySQL</span>
<span class="nv">$ </span>fab production update_config  <span class="c"># Uploads the settings</span>
<span class="nv">$ </span>fab production setup  <span class="c"># Creates the DB tables and populates the DB</span>
</pre></div>
</div>
</li>
<li><p class="first">If creating a blank database and populating with a (local) database backup:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production create_db  <span class="c"># Creates Pootle DB on MySQL</span>
<span class="nv">$ </span>fab production load_db:dumpfile<span class="o">=</span>backup_mysql.sql <span class="c"># Populate DB from local dump</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em class="xref std std-option">dumpfile</em> (for <a class="reference internal" href="fabric_commands.html#fabric-commands-load-db"><em>load_db</em></a> and <a class="reference internal" href="fabric_commands.html#fabric-commands-dump-db"><em>dump_db</em></a>)
is local to the system where Fabric runs, and is automatically copied
to/from the remote server.</p>
</div>
</li>
<li><p class="first">If updating a previous version database (possibly just loaded with
<a class="reference internal" href="fabric_commands.html#fabric-commands-load-db"><em>load_db</em></a>) to the latest version of the
schema:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production update_config  <span class="c"># Uploads the settings</span>
<span class="nv">$ </span>fab production setup  <span class="c"># Updates the DB to the latest version</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="enabling-the-web-server">
<span id="fabric-deployment-enabling-the-web-server"></span><h3>Enabling the web server<a class="headerlink" href="#enabling-the-web-server" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>fab production:branch<span class="o">=</span>stable/2.5.0 deploy
</pre></div>
</div>
</div>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2014, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>