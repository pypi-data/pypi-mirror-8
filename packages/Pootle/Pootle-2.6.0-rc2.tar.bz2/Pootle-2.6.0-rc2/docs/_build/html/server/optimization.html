<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Optimization &mdash; Pootle 2.6.0-rc1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.6.0-rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Pootle 2.6.0-rc1 documentation" href="../index.html" />
    <link rel="up" title="Administering a server" href="index.html" />
    <link rel="next" title="Caching System" href="cache.html" />
    <link rel="prev" title="Settings" href="settings.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.6.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">User&#8217;s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Pootle API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_docs.html">External documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Optimization</a><ul>
<li><a class="reference internal" href="#optional-software">Optional Software</a><ul>
<li><a class="reference internal" href="#database-backends">Database Backends</a></li>
<li><a class="reference internal" href="#caching">Caching</a></li>
<li><a class="reference internal" href="#indexing-engines">Indexing Engines</a></li>
<li><a class="reference internal" href="#web-servers">Web Servers</a></li>
<li><a class="reference internal" href="#speed-ups-and-extras">Speed-ups and Extras</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tips">Tips</a><ul>
<li><a class="reference internal" href="#optimization-apache">Apache</a></li>
<li><a class="reference internal" href="#mysql">MySQL</a></li>
<li><a class="reference internal" href="#fast-po-implementation">Fast PO implementation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="settings.html"
         title="previous chapter">&laquo; Settings</a></li>
  <li><a href="cache.html"
         title="next chapter">Caching System &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="optimization">
<span id="id1"></span><h1>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">¶</a></h1>
<p>This page lists extra optional software you can install to improve Pootle&#8217;s
performance. Some configuration tips are given too.</p>
<div class="section" id="optional-software">
<span id="optimization-optional-software"></span><h2>Optional Software<a class="headerlink" href="#optional-software" title="Permalink to this headline">¶</a></h2>
<p>By installing optional software you can gain performance and extra features.</p>
<div class="section" id="database-backends">
<h3>Database Backends<a class="headerlink" href="#database-backends" title="Permalink to this headline">¶</a></h3>
<p>You should really switch to a real database backend in production environments.
Adjust the <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/settings/#std:setting-DATABASES" title="(in Django v1.8)"><tt class="xref std std-setting docutils literal"><span class="pre">DATABASES</span></tt></a> setting accordingly.</p>
<dl class="docutils">
<dt><a class="reference external" href="http://mysql-python.sourceforge.net/">MySQL-python</a></dt>
<dd>MySQL adapter for Python.</dd>
<dt><a class="reference external" href="http://initd.org/psycopg/">Psycopg2</a></dt>
<dd>PostgreSQL adapter for Python.</dd>
</dl>
</div>
<div class="section" id="caching">
<h3>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h3>
<p>Fast and efficient caching avoids hitting the DB when it&#8217;s not really needed.
Adjust the <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/settings/#std:setting-CACHES" title="(in Django v1.8)"><tt class="xref std std-setting docutils literal"><span class="pre">CACHES</span></tt></a> setting accordingly.</p>
<p><a class="reference external" href="http://www.tummy.com/software/python-memcached/">python-memcached</a> Efficient
caching.</p>
</div>
<div class="section" id="indexing-engines">
<h3>Indexing Engines<a class="headerlink" href="#indexing-engines" title="Permalink to this headline">¶</a></h3>
<p>Installing an <a class="reference internal" href="indexing.html"><em>indexing engine</em></a> will speed-up searches. Pootle
will automatically pick one from any of the available engines.</p>
<dl class="docutils">
<dt><a class="reference external" href="http://xapian.org/docs/bindings/python/">Xapian</a></dt>
<dd>Python bindings for Xapian <a class="footnote-reference" href="#f1" id="id2">[1]</a>.</dd>
<dt><a class="reference external" href="https://lucene.apache.org/pylucene/">PyLucene</a></dt>
<dd>Python bindings for Lucene.</dd>
</dl>
<p class="rubric">Note</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><p class="first">Xapian versions before 1.0.13 are incompatible with Apache; Pootle will
detect Xapian version and disable indexing when running under <em>mod_wsgi</em> if
needed.</p>
<p class="last">Checking for Xapian relies on the <cite>xapian-check</cite> command, which is found in
the <cite>xapian-tools</cite> package in Debian-based systems.</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="web-servers">
<h3>Web Servers<a class="headerlink" href="#web-servers" title="Permalink to this headline">¶</a></h3>
<p>You should really run Pootle behind a <a class="reference internal" href="web.html#web"><em>real web server</em></a>, at least to
serve static content. For generating the dynamic content, you can also use
alternative WSGI servers that might better suit your environment.</p>
<dl class="docutils">
<dt><a class="reference external" href="http://httpd.apache.org/">Apache</a></dt>
<dd>Apache web server.</dd>
<dt><a class="reference external" href="http://nginx.org/">Nginx</a></dt>
<dd>Ngninx web server.</dd>
<dt><a class="reference external" href="http://gunicorn.org/">gunicorn</a></dt>
<dd>Python WSGI HTTP server.</dd>
</dl>
</div>
<div class="section" id="speed-ups-and-extras">
<h3>Speed-ups and Extras<a class="headerlink" href="#speed-ups-and-extras" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>zip and unzip</dt>
<dd>Fast (un)compression of file archives.</dd>
<dt><a class="reference external" href="https://pypi.python.org/pypi/python-Levenshtein/">python-Levenshtein</a></dt>
<dd>Provides speed-up when updating against templates.</dd>
<dt><a class="reference external" href="http://packages.debian.org/unstable/source/iso-codes">iso-codes</a></dt>
<dd>Enables translated language and country names.</dd>
<dt><a class="reference external" href="http://raven.readthedocs.org/">raven</a></dt>
<dd>Enables logging server exceptions to a <a class="reference external" href="http://sentry.readthedocs.org/en/latest/">Sentry server</a>. If installed and configured,
Pootle will automatically use the raven client.</dd>
<dt><a class="reference external" href="http://www.python-ldap.org/">python-ldap</a></dt>
<dd>Enables <a class="reference internal" href="../features/authentication.html#authentication-ldap"><em>LDAP authentication</em></a>. Be sure to check the
<a class="reference internal" href="settings.html#settings-ldap"><em>LDAP settings</em></a>.</dd>
</dl>
</div>
</div>
<div class="section" id="tips">
<span id="optimization-tips"></span><h2>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<p>With a few extra steps, you can support more users and more data.  Here are
some tips for performance tuning on your Pootle installation.</p>
<ul class="simple">
<li>Ensure that Pootle runs under a proper <a class="reference internal" href="web.html"><em>web server</em></a>.</li>
<li>Be sure to use a proper database server like <a class="reference internal" href="#optimization-mysql"><em>MySQL</em></a> instead of the default SQLite.  You can <a class="reference internal" href="database_migration.html"><em>migrate
an existing installation</em></a> if you already have data you
don&#8217;t want to lose.</li>
<li>Install <a class="reference internal" href="cache.html"><em>memcached</em></a> and enable it in the settings file.</li>
<li>Install the latest recommended version of all dependencies. Django and the
Translate Toolkit might affect performance.  Later versions of Pootle should
also give better performance.  You can <a class="reference internal" href="upgrading.html"><em>upgrade</em></a> to newer
versions of Pootle easily.</li>
<li>Ensure <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/settings/#std:setting-DEBUG" title="(in Django v1.8)"><tt class="xref std std-setting docutils literal"><span class="pre">DEBUG</span></tt></a> mode is disabled.</li>
<li>Ensure that the <tt class="docutils literal"><span class="pre">zip</span></tt> and <tt class="docutils literal"><span class="pre">unzip</span></tt> commands are installed on your
server.  These can improve the performance during upload and download
of large ZIP files.</li>
<li>Ensure that you have an <a class="reference internal" href="indexing.html"><em>indexing engine</em></a> installed with its
Python bindings. This will improve the performance of searching in big
projects. PyLucene should perform better, although it might be harder to
install.</li>
<li>Ensure that you have python-levenshtein installed. This will improve the
performance when updating against templates.</li>
<li>Increase the cache timeout for users who are not logged in.</li>
<li>Increase your <a class="reference internal" href="settings.html#std:setting-PARSE_POOL_SIZE"><tt class="xref std std-setting docutils literal"><span class="pre">PARSE_POOL_SIZE</span></tt></a> if you have enough memory available.</li>
<li>Enable <tt class="docutils literal"><span class="pre">'django.contrib.sessions.backends.cached_db'</span></tt>.</li>
<li>Disable swap on the server.  Things should be configured so that physical
memory of the server is never exceeded. Swapping is bound to seriously
degrade the user experience.</li>
<li>Ensure gzip compression is enabled on your web server. For Apache,
<a class="reference external" href="https://httpd.apache.org/docs/2.4/mod/mod_deflate.html">mod_deflate</a>
handles this. Also see <a class="reference external" href="http://wiki.nginx.org/HttpGzipModule">nginx wiki</a>.</li>
</ul>
<div class="section" id="optimization-apache">
<span id="id3"></span><h3>Apache<a class="headerlink" href="#optimization-apache" title="Permalink to this headline">¶</a></h3>
<p>For Apache, review your server settings so that you don&#8217;t support too many or
too few clients. Supporting too many clients increases memory usage, and can
actually reduce performance.</p>
<p>No specific settings can be recommended, since this depends heavily on your
users, your files, and your hardware. However the default value for the
<tt class="docutils literal"><span class="pre">MaxClient</span></tt> directive (usually 256) is almost always too high. Experiment
with values between 10 and 80.</p>
</div>
<div class="section" id="mysql">
<span id="optimization-mysql"></span><h3>MySQL<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h3>
<p>Using MySQL is well tested and recommended. You can <a class="reference internal" href="database_migration.html"><em>migrate your current
database</em></a> if you already have data you don&#8217;t want to lose.</p>
<p>If using MySQL backend, for smaller installations it is suggested to go with
<a class="reference external" href="https://dev.mysql.com/doc/refman/5.6/en/myisam-storage-engine.html">MyISAM backend</a> (which
might result in smaller memory usage and better performance). If high
concurrency is expected, <a class="reference external" href="https://dev.mysql.com/doc/refman/5.6/en/innodb-storage-engine.html">InnoDB</a> is
suggested to avoid locking issues.</p>
</div>
<div class="section" id="fast-po-implementation">
<span id="optimization-fast-po-implementation"></span><h3>Fast PO implementation<a class="headerlink" href="#fast-po-implementation" title="Permalink to this headline">¶</a></h3>
<p>If you want better performance for your PO based operations, you can try to
enable the fast PO implementation. This implementation will be used if
<tt class="docutils literal"><span class="pre">USECPO=2</span></tt> is available in the operating system environment variables. Note
that this is different from the web server&#8217;s environment variables.</p>
<p>Your PO files will have to have character encodings specified, and be perfectly
valid PO files (no duplicate messages or other format errors). Be sure to test
this extensively before you migrate your live server to this setup.</p>
</div>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2014, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>