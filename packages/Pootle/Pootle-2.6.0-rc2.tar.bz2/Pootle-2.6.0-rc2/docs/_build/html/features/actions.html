<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extension Actions &mdash; Pootle 2.6.0-rc1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.6.0-rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Pootle 2.6.0-rc1 documentation" href="../index.html" />
    <link rel="up" title="Features" href="index.html" />
    <link rel="next" title="Tags" href="tags.html" />
    <link rel="prev" title="Terminology" href="terminology.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.6.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">User&#8217;s guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Pootle API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_docs.html">External documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Extension Actions</a><ul>
<li><a class="reference internal" href="#implementing-an-extension-action">Implementing an extension action</a></li>
<li><a class="reference internal" href="#extension-action-properties">Extension Action properties</a></li>
<li><a class="reference internal" href="#extension-action-tooltips">Extension action tooltips</a></li>
<li><a class="reference internal" href="#localization-of-categories-and-titles">Localization of categories and titles</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="terminology.html"
         title="previous chapter">&laquo; Terminology</a></li>
  <li><a href="tags.html"
         title="next chapter">Tags &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="extension-actions">
<span id="actions"></span><h1>Extension Actions<a class="headerlink" href="#extension-actions" title="Permalink to this headline">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.5.1.</span></p>
</div>
<p>Extension actions are used to add custom action links to Pootle.  Extension
actions are Python scripts that can perform tasks such as generating language
packs, provide downloads,  or performing checks across several languages and
returning a report.</p>
<div class="section" id="implementing-an-extension-action">
<span id="actions-implementing"></span><h2>Implementing an extension action<a class="headerlink" href="#implementing-an-extension-action" title="Permalink to this headline">¶</a></h2>
<p>Extension actions are Python classes in module files stored in the
<em>pootle/scripts/ext_actions</em> directory. The names of modules or classes are not
important, but only classes derived from the subclasses of ExtensionAction will
actually create extension actions.</p>
<p>There are several subclasses of ExtensionAction defined, depending on the scope
of the action.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ProjectAction</span></tt> &#8211; an action that will apply to all or part of a project.</li>
<li><tt class="docutils literal"><span class="pre">LanguageAction</span></tt> &#8211; an action that will apply to a language across multiple
projects.</li>
<li><tt class="docutils literal"><span class="pre">TranslationProjectAction</span></tt> &#8211; an action that will apply to a single
language within a project.</li>
<li><tt class="docutils literal"><span class="pre">StoreAction</span></tt> &#8211; an action that will apply only to a single translation
file (store) within a specific language and project.</li>
</ul>
</div>
<div class="section" id="extension-action-properties">
<span id="actions-properties"></span><h2>Extension Action properties<a class="headerlink" href="#extension-action-properties" title="Permalink to this headline">¶</a></h2>
<p>Every extension action has a category and a title.  The category is used to
group related actions together, and is displayed as a small text label on the
left margin of the <strong>Actions</strong> section of the relevant Pootle screens.  The
built-in actions for downloading and uploading translation files and archives
use the category &#8216;Translate offline&#8217; but extension actions can use any category
they wish to.  The title of the extension action is the text of the link that
is displayed to the right of the category label, and clicking on that link will
invoke the action with the current project, language, and/or store.</p>
</div>
<div class="section" id="extension-action-tooltips">
<span id="actions-tooltips"></span><h2>Extension action tooltips<a class="headerlink" href="#extension-action-tooltips" title="Permalink to this headline">¶</a></h2>
<p>The docstring for an extension action class is used as the tooltip (mouseover
text) for the link created.  Like all the other strings in an extension actions
module, it too is implicitly internationalized, and can be localized by
creating translation files and importing them into Pootle.</p>
</div>
<div class="section" id="localization-of-categories-and-titles">
<span id="actions-localization"></span><h2>Localization of categories and titles<a class="headerlink" href="#localization-of-categories-and-titles" title="Permalink to this headline">¶</a></h2>
<p>It may be desirable to have the category and title text displayed in different
languages depending on the preferences of users.  If either property is a
string that is already in the Pootle localization (e.g. &#8216;Translate offline&#8217;) it
will be displayed using the standard Pootle localization for the current locale
selected by the user preferences.</p>
<p>Titles and categories that are not already localized (or for which a different
localization is desired) should be extracted from the extension action module
using the <tt class="docutils literal"><span class="pre">i18n</span></tt> script located in the <tt class="docutils literal"><span class="pre">pootle/scripts/ext_actions</span></tt>
directory:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$POOTLE_HOME</span>/pootle/scripts/ext_actions
<span class="nv">$ </span>ls
hello.py    i18n
<span class="nv">$ </span>./i18n hello
<span class="nv">$ </span>ls
hello.pot   hello.py    i18n
</pre></div>
</div>
<p>The generated <em>module</em>.pot file is a translation template file that can be
moved to a templates subdirectory (and copied to a language subdirectory as a PO
file).  These directories would be <tt class="docutils literal"><span class="pre">pootle/scripts/locale/templates</span></tt> and e.g.
<tt class="docutils literal"><span class="pre">pootle/scripts/locale/fr</span></tt>.  The PO file can be localized using Pootle,
Virtaal, or any other translation tool that works with PO files.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2014, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>