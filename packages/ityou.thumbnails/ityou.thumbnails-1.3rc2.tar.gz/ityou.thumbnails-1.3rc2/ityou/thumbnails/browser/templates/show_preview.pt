<metal:page define-macro="master">
<tal:doctype tal:replace="structure string:&lt;!DOCTYPE html PUBLIC
  &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
  &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" />

<html xmlns="http://www.w3.org/1999/xhtml"
    tal:define="portal_state context/@@plone_portal_state;
        context_state context/@@plone_context_state;
        plone_view context/@@plone;
        lang portal_state/language;
        view nocall:view | nocall: plone_view;
        dummy python: plone_view.mark_view(view);
        portal_url portal_state/portal_url;
        checkPermission nocall: context/portal_membership/checkPermission;
        site_properties context/portal_properties/site_properties;
        ajax_load request/ajax_load | nothing;
        ajax_include_head request/ajax_include_head | nothing"
    tal:attributes="lang lang;"
    i18n:domain="ityou.thumbnails">

    <metal:cache use-macro="context/global_cache_settings/macros/cacheheaders">
    Get the global cache headers located in global_cache_settings.
    </metal:cache>
<body>
<div class="show-preview">
	<div id="edit-bar"
	    tal:content="structure provider:plone.contentviews" />
	<img tal:condition="python: context.portal_type == 'Image'" tal:attributes="src string:${context/absolute_url}/image_large" class="preview-image"/>
	<a tal:attributes="href context/absolute_url" tal:condition="python: context.portal_type != 'Image'">
		<img tal:attributes="src string:${context/absolute_url}/@@show_thumbnail?size=large" class="preview-image img-responsive"/>
	</a>
	<div id="folder_name" tal:condition="python: context.portal_type == 'Folder'" tal:content="context/title_or_id"></div>
</div>
</body>
</html>

</metal:page>
