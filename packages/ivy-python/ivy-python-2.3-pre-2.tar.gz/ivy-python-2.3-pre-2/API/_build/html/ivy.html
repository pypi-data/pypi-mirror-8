<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ivy package &mdash; ivy-python: a python library for the Ivy software bus 1.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ivy-python: a python library for the Ivy software bus 1.2 documentation" href="index.html" />
    <link rel="prev" title="Welcome to ivy-python: a python library for the Ivy software bus’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to ivy-python: a python library for the Ivy software bus’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ivy-python: a python library for the Ivy software bus 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ivy-package">
<h1>ivy package<a class="headerlink" href="#ivy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ivy.ivy">
<span id="ivy-ivy-module"></span><h2>ivy.ivy module<a class="headerlink" href="#module-ivy.ivy" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-an-ivyserver">
<h3>Using an IvyServer<a class="headerlink" href="#using-an-ivyserver" title="Permalink to this headline">¶</a></h3>
<p>The following code is a typical example of use:</p>
</div>
<div class="section" id="implementation-details">
<h3>Implementation details<a class="headerlink" href="#implementation-details" title="Permalink to this headline">¶</a></h3>
<p>An Ivy client is made of several threads:</p>
<blockquote>
<div><ul class="simple">
<li>an <cite>IvyServer</cite> instance</li>
<li>a UDP server, launched by the Ivy server, listening to incoming UDP
broadcast messages</li>
<li><cite>IvyTimer</cite> objects</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">group Messages types:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">BYE, ADD_REGEXP, MSG, ERROR, DEL_REGEXP, END_REGEXP,
END_INIT, START_REGEXP, START_INIT, DIRECT_MSG, DIE</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">group Separators:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">ARG_START, ARG_END</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">group Misc. constants:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">DEFAULT_IVYBUS, PROTOCOL_VERSION, IVY_SHOULD_NOT_DIE
IvyApplicationConnected, IvyApplicationDisconnected, DEFAULT_TTL</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">group Objects and functions related to logging:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">ivylogger, debug, log, warn,
error, ivy_loghdlr, ivy_logformatter</td>
</tr>
</tbody>
</table>
<p>Copyright (c) 2005-2011 Sebastien Bigaret &lt;<a class="reference external" href="mailto:sbigaret&#37;&#52;&#48;users&#46;sourceforge&#46;net">sbigaret<span>&#64;</span>users<span>&#46;</span>sourceforge<span>&#46;</span>net</a>&gt;</p>
<dl class="class">
<dt id="ivy.ivy.IvyClient">
<em class="property">class </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyClient</tt><big>(</big><em>ip</em>, <em>port</em>, <em>client_socket</em>, <em>agent_id=None</em>, <em>agent_name=None</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a client connected to the bus. Every callback methods
registered by an agent receive an object of this type as their first
parameter, so that they know which agent on the bus is the cause of the
event which triggered the callback.</p>
<p>An IvyClient is responsible for:</p>
<blockquote>
<div><ul class="simple">
<li>managing the remote agent&#8217;s subscriptions,</li>
<li>sending messages to the remote agent.</li>
</ul>
</div></blockquote>
<p>It is <strong>not</strong> responsible for receiving messages from the client: another
object is in charge of that, namely an <cite>IvyHandler</cite> object.</p>
<p>The local IvyServer creates one IvyClient per agent on the bus.</p>
<p>See the discussion in <cite>regexps</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Group Protocol-related methods:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">start_init, end_init,
send_new_subscription, remove_subscription, wave_bye</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Group Manipulating the remote agent&#8217;s subscriptions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">add_regexp, remove_regexp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Group Sending messages:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">send_msg, send_direct_message, send_die_message</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>regexps</strong> &#8211; a dictionary mapping subscriptions&#8217; ids (as delivered by
<cite>add_regexp</cite>) to the corresponding regular expressions. Precisely, it
maps ids to tuples being <tt class="docutils literal"><span class="pre">(regexp_as_string,</span> <span class="pre">compiled_regexp)</span></tt>.  You
shouldn&#8217;t directly access or manipulate this variable, use <cite>add_regexp</cite>
and <cite>remove_regexp</cite> instead; however if you really need/want to, you
must acquire the <cite>regexp_lock</cite> before accessing/modifying it.</li>
<li><strong>regexp_lock</strong> &#8211; a non-reentrant lock protecting the variable
<cite>regexps</cite>. Used by methods <cite>add_regexp</cite>, <cite>remove_regexp</cite> and <cite>send_msg</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ivy.ivy.IvyClient.add_regexp">
<tt class="descname">add_regexp</tt><big>(</big><em>regexp_id</em>, <em>regexp</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.add_regexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.add_regexp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises IvyIllegalStateError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the client has not been fully
initialized yet (see <cite>start_init</cite>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.end_init">
<tt class="descname">end_init</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.end_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.end_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be called when the initialization process ends.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises IvyIllegalStateError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the method has already been called
(and <tt class="docutils literal"><span class="pre">self.status</span></tt> has already been set to <tt class="docutils literal"><span class="pre">INITIALIZED</span></tt>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.get_regexps">
<tt class="descname">get_regexps</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.get_regexps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.get_regexps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.remove_regexp">
<tt class="descname">remove_regexp</tt><big>(</big><em>regexp_id</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.remove_regexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.remove_regexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a regexp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the regexp that has been removed</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IvyIllegalStateError</strong> &#8211; if the client has not been fully
initialized yet (see <cite>start_init</cite>)</li>
<li><strong>KeyError</strong> &#8211; if no such subscription exists</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.remove_subscription">
<tt class="descname">remove_subscription</tt><big>(</big><em>idx</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.remove_subscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.remove_subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies the remote agent that we (the local agent) are not
interested in a given subscription.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>idx</cite>: the index/id of a subscription previously registered with
<cite>send_new_subscription</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.send_die_message">
<tt class="descname">send_die_message</tt><big>(</big><em>num_id=0</em>, <em>msg=''</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.send_die_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.send_die_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a die message</p>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.send_direct_message">
<tt class="descname">send_direct_message</tt><big>(</big><em>num_id</em>, <em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.send_direct_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.send_direct_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a direct message</p>
<p>Note: the message will be encoded by <cite>encode_message</cite> with
<tt class="docutils literal"><span class="pre">numerical_id=num_id</span></tt> and <tt class="docutils literal"><span class="pre">params==msg</span></tt>; this means that if <cite>msg</cite>
is not a string but a list or a tuple, the direct message will contain
more than one parameter.  This is an <strong>extension</strong> of the original Ivy
design, supported by python, but if you want to inter-operate with
applications using the standard Ivy API the message you send <em>must</em> be
a string. See in particular in <tt class="docutils literal"><span class="pre">ivy.h</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>typedef void (*MsgDirectCallback)( IvyClientPtr app, void *user_data, int id, char *msg ) ;
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.send_error">
<tt class="descname">send_error</tt><big>(</big><em>num_id</em>, <em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.send_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.send_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an error message</p>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.send_msg">
<tt class="descname">send_msg</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.send_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.send_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the message to the client.  The client will receive one message
for each of its subscriptions (regexps) that the message matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">True</span></tt> if the message was actually sent to the client, that
is: if there is one or more regexps matching the message in the
client&#8217;s subscriptions; returns <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.send_new_subscription">
<tt class="descname">send_new_subscription</tt><big>(</big><em>idx</em>, <em>regexp</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.send_new_subscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.send_new_subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies the remote agent that we (the local agent) subscribe to
a new type of messages</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>idx</cite>: the index/id of the new subscription. It is the
responsibility of the local agent to make sure that every
subscription gets a unique id.</li>
<li><cite>regexp</cite>: a regular expression. The subscription consists in
receiving messages matching the regexp.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.start_init">
<tt class="descname">start_init</tt><big>(</big><em>agent_name</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.start_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.start_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalizes the initialization process by setting the client&#8217;s
agent_name.  This is a Ivy protocol requirement that an application
sends its agent-name only once during the initial handshake (beginning
with message of type <tt class="docutils literal"><span class="pre">START_INIT</span></tt> and ending with a type
<tt class="docutils literal"><span class="pre">END_INIT</span></tt>).  After this method is called, we expect to receive the
initial subscriptions for that client (or none); the initialization
process completes after <cite>end_init</cite> is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises IvyIllegalStateError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the method has already been called
once</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyClient.wave_bye">
<tt class="descname">wave_bye</tt><big>(</big><em>num_id=0</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyClient.wave_bye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyClient.wave_bye" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies the remote agent that we are about to quit</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ivy.ivy.IvyHandler">
<em class="property">class </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyHandler</tt><big>(</big><em>request</em>, <em>client_address</em>, <em>server</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">SocketServer.StreamRequestHandler</span></tt></p>
<p>An IvyHandler is associated to one IvyClient connected to our server.</p>
<p>It runs into a dedicate thread as long as the remote client is connected
to us.</p>
<p>It is in charge of examining all messages that are received and to
take any appropriate actions.</p>
<p>Implementation note: the IvyServer is accessible in <tt class="docutils literal"><span class="pre">self.server</span></tt></p>
<dl class="method">
<dt id="ivy.ivy.IvyHandler.handle">
<tt class="descname">handle</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyHandler.handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyHandler.process_ivymessage">
<tt class="descname">process_ivymessage</tt><big>(</big><em>msg</em>, <em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyHandler.process_ivymessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyHandler.process_ivymessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Examines the message (after passing it through the <cite>decode_msg()</cite>
filter) and takes the appropriate actions depending on the message
types.  Please refer to the document <a class="reference external" href="http://www.tls.cena.fr/products/ivy/documentation">The Ivy Architecture and
Protocol</a> and to
the python code for further details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>msg</cite>: (should not include a newline at end)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">False</span></tt> if the connection should be terminated, <tt class="docutils literal"><span class="pre">True</span></tt>
otherwise</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ivy.ivy.IvyIllegalStateError">
<em class="property">exception </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyIllegalStateError</tt><a class="reference internal" href="_modules/ivy/ivy.html#IvyIllegalStateError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyIllegalStateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.RuntimeError</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="ivy.ivy.IvyMalformedMessage">
<em class="property">exception </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyMalformedMessage</tt><a class="reference internal" href="_modules/ivy/ivy.html#IvyMalformedMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyMalformedMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="ivy.ivy.IvyProtocolError">
<em class="property">exception </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyProtocolError</tt><a class="reference internal" href="_modules/ivy/ivy.html#IvyProtocolError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyProtocolError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="ivy.ivy.IvyServer">
<em class="property">class </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyServer</tt><big>(</big><em>agent_name</em>, <em>ready_msg=''</em>, <em>app_callback=&lt;function void_function at 0x3a14938&gt;</em>, <em>die_callback=&lt;function void_function at 0x3a14938&gt;</em>, <em>usesDaemons=False</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">SocketServer.ThreadingTCPServer</span></tt></p>
<p>An Ivy server is responsible for receiving and handling the messages
that other clients send on an Ivy bus to a given agent.</p>
<p>An IvyServer has two important attributes: <cite>usesDaemons</cite> and
<cite>server_termination</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>usesDaemons</strong> &#8211; whether the threads are daemonic or not.  Daemonic
threads do not prevent python from exiting when the main thread stop,
while non-daemonic ones do.  Default is False.  This attribute should
be set through at <cite>__init__()</cite> time and should not be modified
afterwards.</li>
<li><strong>server_termination</strong> &#8211; a <cite>threading.Event</cite> object that is set on server shutdown.  It can be
used either to test whether the server has been stopped
(<tt class="docutils literal"><span class="pre">server_termination.isSet()</span></tt>) or to wait until it is stopped
(<tt class="docutils literal"><span class="pre">server_termination.wait()</span></tt>).  Application code should not try to set
the Event directly, rather it will call <cite>stop()</cite> to terminate the
server.</li>
<li><strong>port</strong> &#8211; tells on which port the TCP server awaits connection</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>All public methods (not starting with an underscore <tt class="docutils literal"><span class="pre">_</span></tt>) are
MT-safe</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Group Communication on the ivybus:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">start, send_msg, send_direct_message,
send_ready_message, handle_msg, stop</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Group Inspecting the ivybus:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">get_clients, _get_client, get_client_with_name</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Group Our own subscriptions:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">get_subscriptions, bind_msg, unbind_msg,
_add_subscription, _remove_subscription, _get_fct_for_subscription</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ivy.ivy.IvyServer.bind_direct_msg">
<tt class="descname">bind_direct_msg</tt><big>(</big><em>on_direct_msg_fct</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.bind_direct_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.bind_direct_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.bind_msg">
<tt class="descname">bind_msg</tt><big>(</big><em>on_msg_fct</em>, <em>regexp</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.bind_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.bind_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a new subscriptions, by binding a regexp to a function, so
that this function is called whenever a message matching the regexp
is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>on_msg_fct</cite>: a function accepting as many parameters as there is
groups in the regexp. For example:<ul>
<li>the regexp <tt class="docutils literal"><span class="pre">'^hello</span> <span class="pre">.*'</span></tt> corresponds to a function called w/ no
parameter,</li>
<li><tt class="docutils literal"><span class="pre">'^hello</span> <span class="pre">(.*)'</span></tt>: one parameter,</li>
<li><tt class="docutils literal"><span class="pre">'^hello=([^</span> <span class="pre">]*)</span> <span class="pre">from=([^</span> <span class="pre">]*)'</span></tt>: two parameters</li>
</ul>
</li>
<li><cite>regexp</cite>: (string) a regular expression</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the binding&#8217;s id, which can be used to unregister the binding
with <cite>unbind_msg()</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.bind_regexp_change">
<tt class="descname">bind_regexp_change</tt><big>(</big><em>on_regexp_change_callback</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.bind_regexp_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.bind_regexp_change" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.get_client_with_name">
<tt class="descname">get_client_with_name</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.get_client_with_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.get_client_with_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of the clients registered with a given agent-name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">See:</th><td class="field-body">get_clients</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.get_clients">
<tt class="descname">get_clients</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.get_clients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.get_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of the agent names of all connected clients</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">See:</th><td class="field-body">get_client_with_name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.get_subscriptions">
<tt class="descname">get_subscriptions</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.get_subscriptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.get_subscriptions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.handle_die_message">
<tt class="descname">handle_die_message</tt><big>(</big><em>msg_id</em>, <em>from_client=None</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.handle_die_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.handle_die_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.handle_direct_msg">
<tt class="descname">handle_direct_msg</tt><big>(</big><em>client</em>, <em>num_id</em>, <em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.handle_direct_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.handle_direct_msg" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>client</strong> &#8211; </li>
<li><strong>num_id</strong> &#8211; </li>
<li><strong>msg</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.handle_msg">
<tt class="descname">handle_msg</tt><big>(</big><em>client</em>, <em>idx</em>, <em>*params</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.handle_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.handle_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply call the function bound to the subscription id <cite>idx</cite> with
the supplied parameters.</p>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.handle_new_client">
<tt class="descname">handle_new_client</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.handle_new_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.handle_new_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Completes connection with the client
TODO: maybe add a flag (while connecting) on the client, that would prevent sending msg. etc..
as CNX. not confirmed</p>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.handle_regexp_change">
<tt class="descname">handle_regexp_change</tt><big>(</big><em>client</em>, <em>event</em>, <em>num_id</em>, <em>regexp</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.handle_regexp_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.handle_regexp_change" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.isAlive">
<tt class="descname">isAlive</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.isAlive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.isAlive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.remove_client">
<tt class="descname">remove_client</tt><big>(</big><em>ip</em>, <em>port</em>, <em>trigger_application_callback=True</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.remove_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a registered client</p>
<p>This method is responsible for calling <tt class="docutils literal"><span class="pre">server.app_callback</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the removed client, or None if no such client was found</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">NO NETWORK CLEANUP IS DONE</p>
</div>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.send_direct_message">
<tt class="descname">send_direct_message</tt><big>(</big><em>agent_name</em>, <em>num_id</em>, <em>msg</em>, <em>stop_on_first=True</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.send_direct_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.send_direct_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a direct message to the agent named <tt class="docutils literal"><span class="pre">agent_name</span></tt>.  If there
is more than one agent with that name on the bus, parameter
<cite>stop_on_first</cite> determines the behaviour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>agent_name</cite>: the name of the agent(s) to which the direct message
should be sent.</li>
<li><cite>num_id</cite>: a numerical identifier attached to the direct message</li>
<li><cite>msg</cite>: the direct message itself</li>
<li><cite>stop_on_first</cite>: if <tt class="docutils literal"><span class="pre">True</span></tt>, the message to all agents having the
same name will receive the message; if <tt class="docutils literal"><span class="pre">False</span></tt> the method exits
after the first message has been sent.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt> if at least one direct message was sent</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.send_msg">
<tt class="descname">send_msg</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.send_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.send_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Examine the message and choose to send a message to the clients
that subscribed to such a msg</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the number of clients to which the message was sent</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.send_ready_message">
<tt class="descname">send_ready_message</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.send_ready_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.send_ready_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.serve_forever">
<tt class="descname">serve_forever</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.serve_forever"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.serve_forever" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle requests (calling <cite>handle_request()</cite>) until doomsday... or
until <cite>stop()</cite> is called.</p>
<p>This method is registered as the target method for the thread.
It is also responsible for launching the UDP server in a separate
thread, see <cite>UDP_init_and_listen</cite> for details.</p>
<p>You should not need to call this method, use <cite>start</cite> instead.</p>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.start">
<tt class="descname">start</tt><big>(</big><em>ivybus=None</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds the server to the ivybus. The server remains connected until
<cite>stop</cite> is called, or until it receives and accepts a &#8216;die&#8217; message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises IvyIllegalStateError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the server has already been
started</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects the server from the ivybus. It also sets the
<cite>server_termination</cite> event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises IvyIllegalStateError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the server is not running started</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ivy.ivy.IvyServer.unbind_msg">
<tt class="descname">unbind_msg</tt><big>(</big><em>num_id</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyServer.unbind_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyServer.unbind_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Unbinds a subscription</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num_id</strong> &#8211; the binding&#8217;s id, as returned by <cite>bind_msg()</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the regexp corresponding to the unsubscribed binding</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises KeyError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if no such subscription can be found</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ivy.ivy.IvyTimer">
<em class="property">class </em><tt class="descclassname">ivy.ivy.</tt><tt class="descname">IvyTimer</tt><big>(</big><em>server</em>, <em>nbticks</em>, <em>delay</em>, <em>callback</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyTimer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyTimer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></tt></p>
<p>An IvyTimer object is responsible for calling a function regularly.  It is
bound to an IvyServer and stops when its server stops.</p>
<ul class="simple">
<li>Each timer gets a unique id, stored in the attribute <tt class="docutils literal"><span class="pre">id</span></tt>. Note that
a dead timer&#8217;s id can be reassigned to another one (a dead timer is a
timer that has been stopped)</li>
<li>To start a timer, simply call its method <tt class="docutils literal"><span class="pre">start()</span></tt></li>
<li>To modify a timer&#8217;s delay: simply assign <tt class="docutils literal"><span class="pre">timer.delay</span></tt>, the
modification will be taken into account after the next tick. The delay
should be given in milliseconds.</li>
<li>to stop a timer, assign <tt class="docutils literal"><span class="pre">timer.abort</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt>, the timer will stop
at the next tick (the callback won&#8217;t be called)</li>
</ul>
<p><strong>Please note:</strong> <tt class="docutils literal"><span class="pre">start()</span></tt> starts a new thread; if the same function is
given as the callback to different timers, that function should be
prepared to be called concurrently.  Specifically, if the callback
accesses shared variables, they should be protected against concurrency
problems (using locks e.g.).</p>
<dl class="method">
<dt id="ivy.ivy.IvyTimer.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#IvyTimer.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.IvyTimer.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ivy.ivy.UDP_init_and_listen">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">UDP_init_and_listen</tt><big>(</big><em>broadcast_addr</em>, <em>port</em>, <em>socket_server</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#UDP_init_and_listen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.UDP_init_and_listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by an IvyServer at startup; the method is responsible for:</p>
<ul class="simple">
<li>sending the initial UDP broadcast message,</li>
<li>waiting for incoming UDP broadcast messages being sent by new clients
connecting on the bus.  When it receives such a message, a connection
is established to that client and that connection (a socket) is then
passed to the IvyServer instance.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>broadcast_addr</cite>: the broadcast address used on the Ivy bus</li>
<li><cite>port</cite>: the port dedicated to the Ivy bus</li>
<li><cite>socket_server</cite>: instance of an IvyServer handling communications
for our client.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.ivy.decode_ivybus">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">decode_ivybus</tt><big>(</big><em>ivybus=None</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#decode_ivybus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.decode_ivybus" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the supplied string into the corresponding broadcast address
and port</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ivybus</strong> &#8211; if <tt class="docutils literal"><span class="pre">None</span></tt> or empty, defaults to environment variable
<tt class="docutils literal"><span class="pre">IVYBUS</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple made of (broadcast address, port number). For example:<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">decode_ivybus</span><span class="p">(</span><span class="s">&#39;192.168.12:2010&#39;</span><span class="p">)</span>
<span class="go">(&#39;192.168.12.255&#39;, 2010)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.ivy.decode_msg">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">decode_msg</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#decode_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.decode_msg" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">msg_id, numerical_id, parameters</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises IvyMalformedMessage:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.ivy.encode_message">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">encode_message</tt><big>(</big><em>msg_type</em>, <em>numerical_id</em>, <em>params=''</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#encode_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.encode_message" title="Permalink to this definition">¶</a></dt>
<dd><p>params is string -&gt; added as-is
params is list -&gt; concatenated, separated by ARG_END</p>
</dd></dl>

<dl class="function">
<dt id="ivy.ivy.is_multicast">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">is_multicast</tt><big>(</big><em>ip</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#is_multicast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.is_multicast" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the specified ip is a multicast address or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ip</strong> &#8211; an IPv4 address in dotted-quad string format, for example
192.168.2.3</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.ivy.trace">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">trace</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#ivy.ivy.trace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ivy.ivy.void_function">
<tt class="descclassname">ivy.ivy.</tt><tt class="descname">void_function</tt><big>(</big><em>*arg</em>, <em>**kw</em><big>)</big><a class="reference internal" href="_modules/ivy/ivy.html#void_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.ivy.void_function" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that accepts any number of parameters and does nothing</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-ivy.std_api">
<span id="ivy-std-api-module"></span><h2>ivy.std_api module<a class="headerlink" href="#module-ivy.std_api" title="Permalink to this headline">¶</a></h2>
<p>Implements the standard Ivy API.</p>
<p>You can refer to the example code <tt class="docutils literal"><span class="pre">pyhello.py</span></tt> for an example of use.</p>
<p>All methods in this module are frontends to a <cite>ivy.IvyServer</cite> instance, stored
in the module&#8217;s attributes <cite>_IvyServer</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">group Connecting to/disconnecting from the Ivy bus:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">IvyInit, IvyStart,IvyMainLoop, IvyStop</td>
</tr>
<tr class="field-even field"><th class="field-name">group Bindings:</th><td class="field-body">IvyBindMsg, IvyUnBindMsg, IvyBindDirectMsg</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">group Inspecting the Ivy bus:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">IvyGetApplicationList, IvyGetApplication, IvyGetApplicationName,
IvyGetApplicationHost</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">group Interacting with other Ivy clients:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">IvySendMsg, IvySendDieMsg, IvySendDirectMsg</td>
</tr>
<tr class="field-odd field"><th class="field-name">group Timers:</th><td class="field-body">IvyTimerRepeatAfter, IvyTimerModify, IvyTimerRemove</td>
</tr>
</tbody>
</table>
<p>Copyright (c) 2005-2011 Sebastien Bigaret &lt;<a class="reference external" href="mailto:sbigaret&#37;&#52;&#48;users&#46;sourceforge&#46;net">sbigaret<span>&#64;</span>users<span>&#46;</span>sourceforge<span>&#46;</span>net</a>&gt;</p>
<dl class="function">
<dt id="ivy.std_api.IvyBindDirectMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyBindDirectMsg</tt><big>(</big><em>on_msg_fct</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyBindDirectMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyBindDirectMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a method that should be called each time someone sends us
a direct message</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyBindMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyBindMsg</tt><big>(</big><em>on_msg_fct</em>, <em>regexp</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyBindMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyBindMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a method that should be called each time a message matching
regexps is sent on the Ivy bus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an id identifying the binding, that can be used to unregister it
(see <cite>IvyUnBindMsg()</cite>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyBindRegexpChange">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyBindRegexpChange</tt><big>(</big><em>regexp_change_callback</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyBindRegexpChange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyBindRegexpChange" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyGetApplication">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyGetApplication</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyGetApplication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyGetApplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Ivy client registered on the bus under the given name.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if multiple applications are registered w/ the same name only
one is returned</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an <cite>ivy.IvyClient</cite> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyGetApplicationHost">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyGetApplicationHost</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyGetApplicationHost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyGetApplicationHost" title="Permalink to this definition">¶</a></dt>
<dd><p>Equivalent to <tt class="docutils literal"><span class="pre">client.fqdn</span></tt>. IP address is stored under <tt class="docutils literal"><span class="pre">client.ip</span></tt>,
and port number under <tt class="docutils literal"><span class="pre">client.port</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>client</strong> &#8211; an <cite>ivy.IvyClient</cite> object,  as returned by
<cite>IvyGetApplication()</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyGetApplicationList">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyGetApplicationList</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyGetApplicationList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyGetApplicationList" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the applications that are currently connected</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyGetApplicationMessages">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyGetApplicationMessages</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyGetApplicationMessages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyGetApplicationMessages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all subscriptions for that client</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>client</strong> &#8211; an <cite>ivy.IvyClient</cite> object,  as returned by
<cite>IvyGetApplication()</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of tuples (idx, regexp)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyGetApplicationName">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyGetApplicationName</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyGetApplicationName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyGetApplicationName" title="Permalink to this definition">¶</a></dt>
<dd><p>Equivalent to <tt class="docutils literal"><span class="pre">client.agent_name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>client</strong> &#8211; an <cite>ivy.IvyClient</cite> object, as returned by
<cite>IvyGetApplication()</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyInit">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyInit</tt><big>(</big><em>agent_name</em>, <em>ready_msg=None</em>, <em>main_loop_type_ignored=0</em>, <em>on_cnx_fct=&lt;function void_function at 0x3a14938&gt;</em>, <em>on_die_fct=&lt;function void_function at 0x3a14938&gt;</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyInit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyInit" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the module. This method should be called exactly once before any
other method is called.</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyMainLoop">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyMainLoop</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyMainLoop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyMainLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates the original main loop: simply waits for the server termination.</p>
<p>Note that while the original API requires this to be called, this module
does NOT rely in any way on this method. In particular, a client is
fully functional and begins to receive messages as soon as the <cite>IvyStart()</cite>
method is called.</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvySendDieMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvySendDieMsg</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvySendDieMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvySendDieMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a &#8220;die&#8221; message to <cite>client</cite>, instructing him to terminate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>client</strong> &#8211; an <cite>ivy.IvyClient</cite> object,  as returned by
<cite>IvyGetApplication()</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvySendDirectMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvySendDirectMsg</tt><big>(</big><em>client</em>, <em>num_id</em>, <em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvySendDirectMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvySendDirectMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a message directly to an other Ivy client, with the supplied
numerical id and message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>client</cite>: an <cite>ivy.IvyClient</cite> object, as returned by
<cite>IvyGetApplication()</cite></li>
<li><cite>num_id</cite>: an additional integer to use. It may, or may not, be
meaningful, this only depends on the usage your application makes of
it, the Ivy protocol itself does not care and simply transmits it
along with the message.</li>
<li><cite>msg</cite>: the message to send</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvySendError">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvySendError</tt><big>(</big><em>client</em>, <em>num_id</em>, <em>error_msg</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvySendError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvySendError" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an &#8220;error&#8221; message to <cite>client</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>client</cite>: an <cite>ivy.IvyClient</cite> object, as returned by
<cite>IvyGetApplication()</cite></li>
<li><cite>num_id</cite>: an additional integer to use. It may, or may not, be
meaningful, this only depends on the usage your application makes of
it, the Ivy protocol itself does not care and simply transmits it
along with the message.</li>
<li><cite>error_msg</cite>: the message to send</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvySendMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvySendMsg</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvySendMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvySendMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a message on the bus</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyStart">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyStart</tt><big>(</big><em>ivybus=None</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyStart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyStart" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the Ivy server and fully activate the client.  Please refer to the
discussion in <cite>IvyMainLoop()</cite> &#8216;s documentation.</p>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyStop">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyStop</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyStop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyStop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyTimerModify">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyTimerModify</tt><big>(</big><em>timer_id</em>, <em>delay</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyTimerModify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyTimerModify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies a timer&#8217;s delay.  Note that the modification will happen after
the next tick.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><cite>timer_id</cite>: id of the timer to modify, as returned by
<cite>IvyTimerRepeatAfter()</cite></li>
<li><cite>delay</cite>: the delay, in milliseconds, between ticks</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyTimerRemove">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyTimerRemove</tt><big>(</big><em>timer_id</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyTimerRemove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyTimerRemove" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops and removes a given timer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timer_id</strong> &#8211; id of the timer, as returned by <cite>IvyTimerRepeatAfter</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyTimerRepeatAfter">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyTimerRepeatAfter</tt><big>(</big><em>count</em>, <em>delay</em>, <em>callback</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyTimerRepeatAfter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyTimerRepeatAfter" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and activates a new timer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>count</cite>: nb of time to repeat the loop, <tt class="docutils literal"><span class="pre">0</span></tt> (zero) for an endless loop</li>
<li><cite>delay</cite>: the delay between ticks, in milliseconds</li>
<li><cite>callback</cite>: the function to call on every tick. That function is
called without any parameters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the timer&#8217;s id</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ivy.std_api.IvyUnBindMsg">
<tt class="descclassname">ivy.std_api.</tt><tt class="descname">IvyUnBindMsg</tt><big>(</big><em>binding_id</em><big>)</big><a class="reference internal" href="_modules/ivy/std_api.html#IvyUnBindMsg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ivy.std_api.IvyUnBindMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregisters a binding</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>binding_id</strong> &#8211; the binding&#8217;s id, as previously returned by <cite>IvyBindMsg()</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the regexp corresponding to the unsubscribed binding</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises KeyError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if no such subscription can be found</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ivy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ivy" title="Permalink to this headline">¶</a></h2>
<p>Ivy is a lightweight software bus for quick-prototyping protocols. It
allows applications to broadcast information through text messages, with a
subscription mechanism based on regular expressions.</p>
<p>If you&#8217;re used to the standard Ivy API, you probably want to look at the
<cite>std_api</cite> module.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Version 2.0 broke backward compatibility.  If you are upgrading
from ivy-python v1.x, be sure to read the <a class="reference internal" href="#v2-0-compatibility-notes">v2.0 compatibility notes</a>,
below.</p>
</div>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>The Ivy software bus was designed at the French Centre d&#8217;Etudes de la
Navigation Aerienne (CENA).  The original work: software, documentation,
papers, credits can be found on the <a class="reference external" href="http://www.tls.cena.fr/products/ivy/">Ivy Home Page</a>; it contains all the
necessary materials needed to understand Ivy.</p>
<p>This package is the Python library; Ivy libraries are also available for
numerous languages, among which: C, C#, C++, Java, Perl &#8211;see the <a class="reference external" href="http://www.tls.cena.fr/products/ivy/download/index.html">Ivy Download
Page</a> for details.</p>
<p>This python library is a full rewrite of the original software, and it is
written in pure python.  Note that another python implementation is available
at the <a class="reference external" href="http://www.tls.cena.fr/products/ivy/download/binaries.html">Ivy downloads page</a>, which is built by <a class="reference external" href="http://www.swig.org/">SWIG</a>
on top of the Ivy C library.</p>
</div>
<div class="section" id="understanding-the-package">
<h3>Understanding the package<a class="headerlink" href="#understanding-the-package" title="Permalink to this headline">¶</a></h3>
<p>This Ivy package is made of two modules: <cite>ivy</cite> and <cite>std_api</cite>.</p>
<p>In order to understand the way it works, we highly suggest that you read the
materials available from the <a class="reference external" href="http://www.tls.cena.fr/products/ivy/">Ivy Home Page</a>.  Within the documentation of
this python package we suppose that you are already familiar with the way an
ivy bus works, and with how the corresponding framework is organized.</p>
<div class="section" id="ivy-std-api">
<h4><cite>ivy.std_api</cite><a class="headerlink" href="#ivy-std-api" title="Permalink to this headline">¶</a></h4>
<p>Once familiar with the ivy framework, you&#8217;ll find in the <cite>std_api</cite> module the
exact API you&#8217;re expecting (see for example the  <a class="reference external" href="http://www.tls.cena.fr/products/ivy/documentation/ivy-c.pdf">The Ivy C library</a>).</p>
<p>An example of use, directly taken from the original swig-base python release,
is included with the package, see <tt class="docutils literal"><span class="pre">examples/pyhello.py</span></tt>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">One big difference with the original implementation is that
there is nothing like a &#8220;main loop&#8221;: the server is activated as soon as the
method <cite>ivy.std_api.IvyStart</cite> is called, and the <cite>ivy.std_api.IvyMainLoop</cite> method simply
waits for the server to terminate (the server is in fact</p>
</div>
</div>
<div class="section" id="ivy-ivy">
<h4><cite>ivy.ivy</cite><a class="headerlink" href="#ivy-ivy" title="Permalink to this headline">¶</a></h4>
<p>It&#8217;s where the &#8220;magic&#8221; goes: the module <cite>std_api</cite> is built on top of it.</p>
<p>You&#8217;ll be interested in using this package if for example, you want to manage
more than one ivy-bus in an application.  We won&#8217;t give here much hint on how
to use it, since the code of the <cite>ivy</cite> module itself serves as a perfect
example of use!</p>
</div>
</div>
<div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The module issues messages through python&#8217;s standard <tt class="docutils literal"><span class="pre">logging</span></tt> module:</p>
<blockquote>
<div><ul class="simple">
<li>logger&#8217;s name: <tt class="docutils literal"><span class="pre">'Ivy'</span></tt></li>
<li>default level: <tt class="docutils literal"><span class="pre">logging.INFO</span></tt></li>
<li>default handler: a <tt class="docutils literal"><span class="pre">logging.StreamHandler</span></tt> logging messages to the
standard error stream.</li>
</ul>
</div></blockquote>
<p>For example, if you need to see all messages issued by the package, including
debug messages, use the following code excerpt:</p>
<p>Further details can be found in the <a class="reference external" href="http://docs.python.org/lib/module-logging.html">Python standard documentation</a>.</p>
</div></blockquote>
</div>
<div class="section" id="v2-0-compatibility-notes">
<h3>v2.0 compatibility notes<a class="headerlink" href="#v2-0-compatibility-notes" title="Permalink to this headline">¶</a></h3>
<p>Version 2.0 broke the backward compatibility with former versions 1.x: every
callback methods now receives an <cite>ivy.IvyClient</cite> object as its first
parameter.</p>
<p>This makes it possible for the receiving code to know which agent on the bus
sends the corresponding event. Unfortunately, this breaks backward
compatibility and callback methods must be adapted to the new scheme.</p>
<p>For example, suppose you&#8217;re binding a regexp to the callback <tt class="docutils literal"><span class="pre">on_msg</span></tt>:</p>
<p>In ivy-python 1.x, you used to declare the callback as follows</p>
<p>or:</p>
<p>In version 2.0, your callbacks also get the agent triggering the event as the
1st parameter; the previous callbacks should be rewritten this way:</p>
<p>or:</p>
</div>
<div class="section" id="misc-notes">
<h3>Misc. notes<a class="headerlink" href="#misc-notes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>direct msg: to app_name == the last one registered w/ that name (for
example register ivyprobe 3 times and send a direct msg to IVYPROBE from
one of them)</li>
<li>regexps order and ids: ivyprobe e.g. subscribes regexp in reverse order of
ids.  For each match, send the appropriate message.
documented.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>This software is distributed under the <a class="reference external" href="http://www.opensource.org/licenses/bsd-license.php">&#8220;new&#8221; BSD license</a>,</p>
<p>(please refer the file <tt class="docutils literal"><span class="pre">LICENSE</span></tt> for full legal details)</p>
<p>Copyright (c) 2005-2011 Sebastien Bigaret &lt;<a class="reference external" href="mailto:sbigaret&#37;&#52;&#48;users&#46;sourceforge&#46;net">sbigaret<span>&#64;</span>users<span>&#46;</span>sourceforge<span>&#46;</span>net</a>&gt;</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ivy package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ivy.ivy">ivy.ivy module</a><ul>
<li><a class="reference internal" href="#using-an-ivyserver">Using an IvyServer</a></li>
<li><a class="reference internal" href="#implementation-details">Implementation details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-ivy.std_api">ivy.std_api module</a></li>
<li><a class="reference internal" href="#module-ivy">Module contents</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#understanding-the-package">Understanding the package</a><ul>
<li><a class="reference internal" href="#ivy-std-api"><cite>ivy.std_api</cite></a></li>
<li><a class="reference internal" href="#ivy-ivy"><cite>ivy.ivy</cite></a></li>
</ul>
</li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#v2-0-compatibility-notes">v2.0 compatibility notes</a></li>
<li><a class="reference internal" href="#misc-notes">Misc. notes</a></li>
<li><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to ivy-python: a python library for the Ivy software bus&#8217;s documentation!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ivy.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to ivy-python: a python library for the Ivy software bus’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">ivy-python: a python library for the Ivy software bus 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Sebastien Bigaret.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>