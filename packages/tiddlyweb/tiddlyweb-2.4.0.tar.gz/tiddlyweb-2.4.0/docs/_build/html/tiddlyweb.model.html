<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>model Package &mdash; TiddlyWeb 1.4 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="TiddlyWeb 1.4 documentation" href="index.html" />
    <link rel="next" title="serializations Package" href="tiddlyweb.serializations.html" />
    <link rel="prev" title="filters Package" href="tiddlyweb.filters.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tiddlyweb.serializations.html" title="serializations Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tiddlyweb.filters.html" title="filters Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">TiddlyWeb 1.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="model-package">
<h1>model Package<a class="headerlink" href="#model-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">model</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-tiddlyweb.model"></span><p>Models for TiddlyWeb Entities.</p>
<p>Classes representing the important entities in the TiddlyWeb system.</p>
<p>These are intentionally limited, making no effort to handle their own
persistence or presentation. That is the job of the <a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.Store" title="tiddlyweb.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">store</span></tt></a> and <a class="reference internal" href="tiddlyweb.html#tiddlyweb.serializer.Serializer" title="tiddlyweb.serializer.Serializer"><tt class="xref py py-class docutils literal"><span class="pre">serializer</span></tt></a>.</p>
</div>
<div class="section" id="module-tiddlyweb.model.bag">
<span id="bag-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">bag</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.bag" title="Permalink to this headline">¶</a></h2>
<p>A module containing the <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">Bag</span></tt></a> class.</p>
<dl class="class">
<dt id="tiddlyweb.model.bag.Bag">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.bag.</tt><tt class="descname">Bag</tt><big>(</big><em>name</em>, <em>desc=u''</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.bag.Bag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A Bag is a virtual container for <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddlers</span></tt></a>. The bag provides a domain
for the tiddlers within identifying those tiddlers uniquely and
optionally acting a topical, functional or authorization container
for the tiddlers.</p>
<p>A bag can contain many tiddlers but every tiddler must have a different
title. The canonical identifier of a tiddler is the combination of the
containing bag&#8217;s name and the tiddler&#8217;s title.</p>
<p>Containership is achieved via association: There are no methods on a
bag to access the contained tiddlers. These are found via
<a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.Store.list_bag_tiddlers" title="tiddlyweb.store.Store.list_bag_tiddlers"><tt class="xref py py-func docutils literal"><span class="pre">store.list_bag_tiddlers</span></tt></a>.</p>
<p>A Bag has a <a class="reference internal" href="#tiddlyweb.model.policy.Policy" title="tiddlyweb.model.policy.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a>
which may be used to control access to both the Bag and the tiddlers
within. These controls are optional and are primarily designed for
use within the <a class="reference internal" href="tiddlyweb.web.handler.html#module-tiddlyweb.web.handler" title="tiddlyweb.web.handler"><tt class="xref py py-mod docutils literal"><span class="pre">web</span> <span class="pre">handlers</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="module-tiddlyweb.model.collections">
<span id="collections-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">collections</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.collections" title="Permalink to this headline">¶</a></h2>
<p>Classes representing collections of <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">bags</span></tt></a>, <a class="reference internal" href="#tiddlyweb.model.recipe.Recipe" title="tiddlyweb.model.recipe.Recipe"><tt class="xref py py-class docutils literal"><span class="pre">recipes</span></tt></a> and <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddlers</span></tt></a>.</p>
<p>Because the main reason for having a collection is to send it out over
the web, the collections keep track of their last-modified time and
generate a hash suitable for use as an ETag.</p>
<dl class="class">
<dt id="tiddlyweb.model.collections.Collection">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.collections.</tt><tt class="descname">Collection</tt><big>(</big><em>title=''</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for all collections.</p>
<p>Can be used directly for general collections if required.</p>
<p>A collection acts as generator, yielding one of its contents when
iterated.</p>
<dl class="method">
<dt id="tiddlyweb.model.collections.Collection.add">
<tt class="descname">add</tt><big>(</big><em>thing</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Collection.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to the container, updating the digest and
modified information.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.collections.Collection.hexdigest">
<tt class="descname">hexdigest</tt><big>(</big><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Collection.hexdigest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current hex representation of the hash digest of this
collection.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tiddlyweb.model.collections.Container">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.collections.</tt><tt class="descname">Container</tt><big>(</big><em>title=''</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Container" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tiddlyweb.model.collections.Collection" title="tiddlyweb.model.collections.Collection"><tt class="xref py py-class docutils literal"><span class="pre">tiddlyweb.model.collections.Collection</span></tt></a></p>
<p>A collection of things which have a <tt class="docutils literal"><span class="pre">name</span></tt> attribute.</p>
<p>In TiddlyWeb this is for lists of <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">bags</span></tt></a> and <a class="reference internal" href="#tiddlyweb.model.recipe.Recipe" title="tiddlyweb.model.recipe.Recipe"><tt class="xref py py-class docutils literal"><span class="pre">recipes</span></tt></a>.</p>
</dd></dl>

<dl class="class">
<dt id="tiddlyweb.model.collections.Tiddlers">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.collections.</tt><tt class="descname">Tiddlers</tt><big>(</big><em>title=''</em>, <em>store=None</em>, <em>bag=None</em>, <em>recipe=None</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Tiddlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tiddlyweb.model.collections.Collection" title="tiddlyweb.model.collections.Collection"><tt class="xref py py-class docutils literal"><span class="pre">tiddlyweb.model.collections.Collection</span></tt></a></p>
<p>A Collection specifically for <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddlers</span></tt></a>.</p>
<p>This differs from the base class in two ways:</p>
<p>The calculation of the digest is more detailed in order to create
stong <tt class="docutils literal"><span class="pre">ETags</span></tt> for the collection.</p>
<p>When iterated, if <tt class="docutils literal"><span class="pre">store</span></tt> is set on the Collection, then a yielded
tiddler will be loaded from the store to fill in all its attributes.
When a tiddler is added to the collection, if it is already filled,
a non-full copy is made and put into the collection. This is done
to save memory and because often the data is not needed.</p>
<p>If <tt class="docutils literal"><span class="pre">collections.use_memory</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> in <tt class="docutils literal"><span class="pre">config</span></tt> then the
full tiddler is kept in the collection. On servers with adequate
memory this can be more efficient.</p>
<dl class="method">
<dt id="tiddlyweb.model.collections.Tiddlers.add">
<tt class="descname">add</tt><big>(</big><em>tiddler</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.collections.Tiddlers.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a reference to the <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddler</span></tt></a> to the container, updating the
digest and modified information. If the tiddler has recently been
deleted, resulting in a <a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.StoreError" title="tiddlyweb.store.StoreError"><tt class="xref py py-class docutils literal"><span class="pre">StoreError</span></tt></a>, don&#8217;t add it.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tiddlyweb.model.policy">
<span id="policy-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">policy</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.policy" title="Permalink to this headline">¶</a></h2>
<p>A module containing the <a class="reference internal" href="#tiddlyweb.model.policy.Policy" title="tiddlyweb.model.policy.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a> class and associated
exceptions.</p>
<dl class="exception">
<dt id="tiddlyweb.model.policy.ForbiddenError">
<em class="property">exception </em><tt class="descclassname">tiddlyweb.model.policy.</tt><tt class="descname">ForbiddenError</tt><a class="headerlink" href="#tiddlyweb.model.policy.ForbiddenError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tiddlyweb.model.policy.PermissionsError" title="tiddlyweb.model.policy.PermissionsError"><tt class="xref py py-class docutils literal"><span class="pre">tiddlyweb.model.policy.PermissionsError</span></tt></a></p>
<p>The provided user cannot do this action.</p>
</dd></dl>

<dl class="exception">
<dt id="tiddlyweb.model.policy.PermissionsError">
<em class="property">exception </em><tt class="descclassname">tiddlyweb.model.policy.</tt><tt class="descname">PermissionsError</tt><a class="headerlink" href="#tiddlyweb.model.policy.PermissionsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Base class for <a class="reference internal" href="#tiddlyweb.model.policy.Policy" title="tiddlyweb.model.policy.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a> violations.</p>
</dd></dl>

<dl class="class">
<dt id="tiddlyweb.model.policy.Policy">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.policy.</tt><tt class="descname">Policy</tt><big>(</big><em>owner=None</em>, <em>read=None</em>, <em>write=None</em>, <em>create=None</em>, <em>delete=None</em>, <em>manage=None</em>, <em>accept=None</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.policy.Policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A container for information about the contraints on a <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">bag</span></tt></a> or <a class="reference internal" href="#tiddlyweb.model.recipe.Recipe" title="tiddlyweb.model.recipe.Recipe"><tt class="xref py py-class docutils literal"><span class="pre">recipe</span></tt></a>. Both are containers of
<a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddlers</span></tt></a>. We need to
be able to control who can do what to do those tiddlers. We also
need to be able to control who can manage those constraints.</p>
<p>The :pu:func:__init__ parameters represent a default policy.</p>
<p>There are six constraints plus one identifying attribute (<tt class="docutils literal"><span class="pre">owner</span></tt>).
The constraints are listed below with descriptions of what is allowed
if the constraint passes.</p>
<dl class="docutils">
<dt>read</dt>
<dd>View this entity in lists. View the contained entities.</dd>
<dt>write</dt>
<dd>Edit the contained entities that already exist.</dd>
<dt>create</dt>
<dd>Create new entities in the container.</dd>
<dt>delete</dt>
<dd>Remove a contained entity.</dd>
<dt>manage</dt>
<dd>Change the policy itself.</dd>
<dt>accept</dt>
<dd>Accept the entity into the container without requiring
<a class="reference internal" href="tiddlyweb.web.html#module-tiddlyweb.web.validator" title="tiddlyweb.web.validator"><tt class="xref py py-mod docutils literal"><span class="pre">validation</span></tt></a>.</dd>
</dl>
<dl class="method">
<dt id="tiddlyweb.model.policy.Policy.allows">
<tt class="descname">allows</tt><big>(</big><em>usersign</em>, <em>constraint</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.policy.Policy.allows" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the user encapsulated by the <tt class="docutils literal"><span class="pre">usersign</span></tt> dict allowed to
perform the action described by <tt class="docutils literal"><span class="pre">constraint</span></tt>. If so, return
True. If not raise a <a class="reference internal" href="#tiddlyweb.model.policy.UserRequiredError" title="tiddlyweb.model.policy.UserRequiredError"><tt class="xref py py-class docutils literal"><span class="pre">UserRequiredError</span></tt></a> (if the user is
<tt class="docutils literal"><span class="pre">GUEST</span></tt>) or <a class="reference internal" href="#tiddlyweb.model.policy.ForbiddenError" title="tiddlyweb.model.policy.ForbiddenError"><tt class="xref py py-class docutils literal"><span class="pre">ForbiddenError</span></tt></a> exception.</p>
<p>The dict has a <tt class="docutils literal"><span class="pre">name</span></tt> key with a string value which is a
<tt class="docutils literal"><span class="pre">username</span></tt> and a <tt class="docutils literal"><span class="pre">roles</span></tt> key with a list of roles as its value.
Either may match in the constraint. Usersign is usually populated
during the <a class="reference internal" href="tiddlyweb.web.extractors.html#tiddlyweb.web.extractors.ExtractorInterface" title="tiddlyweb.web.extractors.ExtractorInterface"><tt class="xref py py-class docutils literal"><span class="pre">CredentialsExtractor</span></tt></a> phase of a
request.</p>
</dd></dl>

<dl class="attribute">
<dt id="tiddlyweb.model.policy.Policy.attributes">
<tt class="descname">attributes</tt><em class="property"> = [u'read', u'write', u'create', u'delete', u'manage', u'accept', u'owner']</em><a class="headerlink" href="#tiddlyweb.model.policy.Policy.attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.policy.Policy.user_perms">
<tt class="descname">user_perms</tt><big>(</big><em>usersign</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.policy.Policy.user_perms" title="Permalink to this definition">¶</a></dt>
<dd><p>For this policy return a list of constraints for which
this usersign passes.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="tiddlyweb.model.policy.UserRequiredError">
<em class="property">exception </em><tt class="descclassname">tiddlyweb.model.policy.</tt><tt class="descname">UserRequiredError</tt><a class="headerlink" href="#tiddlyweb.model.policy.UserRequiredError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tiddlyweb.model.policy.PermissionsError" title="tiddlyweb.model.policy.PermissionsError"><tt class="xref py py-class docutils literal"><span class="pre">tiddlyweb.model.policy.PermissionsError</span></tt></a></p>
<p>To do this action a user is required.</p>
</dd></dl>

<dl class="function">
<dt id="tiddlyweb.model.policy.create_policy_check">
<tt class="descclassname">tiddlyweb.model.policy.</tt><tt class="descname">create_policy_check</tt><big>(</big><em>environ</em>, <em>entity</em>, <em>usersign</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.policy.create_policy_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the user in <tt class="docutils literal"><span class="pre">usersign</span></tt> can create <tt class="docutils literal"><span class="pre">entity</span></tt> type.</p>
</dd></dl>

</div>
<div class="section" id="module-tiddlyweb.model.recipe">
<span id="recipe-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">recipe</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.recipe" title="Permalink to this headline">¶</a></h2>
<p>The Recipe class.</p>
<dl class="class">
<dt id="tiddlyweb.model.recipe.Recipe">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.recipe.</tt><tt class="descname">Recipe</tt><big>(</big><em>name</em>, <em>desc=u''</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.recipe.Recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A Recipe is an ordered list that represents a program for creating a
collection of <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">tiddlers</span></tt></a>.</p>
<p>Each line in the recipe is the combination of a <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">bag</span></tt></a> name and a <a class="reference internal" href="tiddlyweb.filters.html#module-tiddlyweb.filters" title="tiddlyweb.filters"><tt class="xref py py-mod docutils literal"><span class="pre">filter</span></tt></a>
string. This implementation uses list of tuples.</p>
<p>In common usage a recipe contains only strings representing bags
and filters, but for the sake of easy testing, the bag argument
can be a <a class="reference internal" href="#tiddlyweb.model.bag.Bag" title="tiddlyweb.model.bag.Bag"><tt class="xref py py-class docutils literal"><span class="pre">Bag</span></tt></a> object.</p>
<p>A Recipe has a <a class="reference internal" href="#tiddlyweb.model.policy.Policy" title="tiddlyweb.model.policy.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a>
which can be used to control access to the Recipe. These controls are
optional and are primarily designed for use within the <a class="reference internal" href="tiddlyweb.web.handler.html#module-tiddlyweb.web.handler" title="tiddlyweb.web.handler"><tt class="xref py py-mod docutils literal"><span class="pre">web</span>
<span class="pre">handlers</span></tt></a>.</p>
<dl class="method">
<dt id="tiddlyweb.model.recipe.Recipe.get_recipe">
<tt class="descname">get_recipe</tt><big>(</big><em>template=None</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.recipe.Recipe.get_recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the recipe list, as a list of tuple pairs.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.recipe.Recipe.set_recipe">
<tt class="descname">set_recipe</tt><big>(</big><em>recipe_list</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.recipe.Recipe.set_recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contents of the recipe list.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tiddlyweb.model.tiddler">
<span id="tiddler-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">tiddler</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.tiddler" title="Permalink to this headline">¶</a></h2>
<p>A module containing the <a class="reference internal" href="#tiddlyweb.model.tiddler.Tiddler" title="tiddlyweb.model.tiddler.Tiddler"><tt class="xref py py-class docutils literal"><span class="pre">Tiddler</span></tt></a> class and related functions.</p>
<dl class="class">
<dt id="tiddlyweb.model.tiddler.Tiddler">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.tiddler.</tt><tt class="descname">Tiddler</tt><big>(</big><em>title=None</em>, <em>bag=None</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.tiddler.Tiddler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The primary content object in the TiddlyWiki and TiddlyWeb universe,
representing a distinct piece of content, often vaguely
corresponding to a Page in wiki systems. A Tiddler has text and some
associated metadata. The text can be anything, often wikitext in
some form, or Javascript code. It is possible for a Tiddler to
container binary content, such as image data.</p>
<p>A Tiddler is intentionally solely a container of data. That is, it has
no methods which change the state of attributes in the Tiddler or
manipulate the tiddler. Changing the attributes is done by directly
changing the attributes. This is done to make the Tiddler easier to
<a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.Store" title="tiddlyweb.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">store</span></tt></a> and <a class="reference internal" href="tiddlyweb.html#tiddlyweb.serializer.Serializer" title="tiddlyweb.serializer.Serializer"><tt class="xref py py-class docutils literal"><span class="pre">serialize</span></tt></a> in many ways.</p>
<p>A Tiddler has several attributes:</p>
<dl class="docutils">
<dt>title</dt>
<dd>The name of the tiddler. Required.</dd>
<dt>created</dt>
<dd>A string representing when this tiddler was created.</dd>
<dt>modified</dt>
<dd>A string representing when this tiddler was last changed.
Defaults to now.</dd>
<dt>modifier</dt>
<dd>A string representing a personage that changed this tiddler in
some way. This doesn&#8217;t necessarily have any assocation with the
tiddlyweb.usersign, though it may.</dd>
<dt>tags</dt>
<dd>A list of strings that describe the tiddler.</dd>
<dt>fields</dt>
<dd>An arbitrary dictionary of extended (custom) fields on the tiddler.</dd>
<dt>text</dt>
<dd>The contents of the tiddler. A string.</dd>
<dt>revision</dt>
<dd>The revision of this tiddler. The type of a revision is unspecified
and is <a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.Store" title="tiddlyweb.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">store</span></tt></a> dependent.</dd>
<dt>bag</dt>
<dd>The name of the bag in which this tiddler exists, if any.</dd>
<dt>recipe</dt>
<dd>The name of the recipe in which this tiddler exists, if any.</dd>
<dt>store</dt>
<dd>A reference to the <a class="reference internal" href="tiddlyweb.html#tiddlyweb.store.Store" title="tiddlyweb.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">Store</span></tt></a> object
which retrieved this tiddler from persistent storage.</dd>
</dl>
<dl class="attribute">
<dt id="tiddlyweb.model.tiddler.Tiddler.creator">
<tt class="descname">creator</tt><a class="headerlink" href="#tiddlyweb.model.tiddler.Tiddler.creator" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the creator of this tiddler. If it has not been
set then use modifier.</p>
<p>Use the creator property instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="tiddlyweb.model.tiddler.Tiddler.data_members">
<tt class="descname">data_members</tt><em class="property"> = ['title', 'creator', 'created', 'modifier', 'modified', 'tags', 'fields', 'type', 'text']</em><a class="headerlink" href="#tiddlyweb.model.tiddler.Tiddler.data_members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tiddlyweb.model.tiddler.Tiddler.slots">
<tt class="descname">slots</tt><em class="property"> = ['title', 'creator', 'created', 'modifier', 'modified', 'tags', 'fields', 'type', 'text', 'revision', 'bag', 'recipe', 'store']</em><a class="headerlink" href="#tiddlyweb.model.tiddler.Tiddler.slots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="tiddlyweb.model.tiddler.current_timestring">
<tt class="descclassname">tiddlyweb.model.tiddler.</tt><tt class="descname">current_timestring</tt><big>(</big><big>)</big><a class="headerlink" href="#tiddlyweb.model.tiddler.current_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the current UTC time into a TiddlyWiki conformat timestring.</p>
</dd></dl>

<dl class="function">
<dt id="tiddlyweb.model.tiddler.string_to_tags_list">
<tt class="descclassname">tiddlyweb.model.tiddler.</tt><tt class="descname">string_to_tags_list</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.tiddler.string_to_tags_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string representing tags (space-delimited, tags containing spaces
are enclosed in in double brackets), parse them into a list of tag strings.</p>
<p>Duplicates are removed.</p>
</dd></dl>

<dl class="function">
<dt id="tiddlyweb.model.tiddler.tags_list_to_string">
<tt class="descclassname">tiddlyweb.model.tiddler.</tt><tt class="descname">tags_list_to_string</tt><big>(</big><em>tags</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.tiddler.tags_list_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of <tt class="docutils literal"><span class="pre">tags</span></tt>, turn it into the canonical string representation
(space-delimited, enclosing tags containing spaces in double brackets).</p>
</dd></dl>

<dl class="function">
<dt id="tiddlyweb.model.tiddler.timestring_to_datetime">
<tt class="descclassname">tiddlyweb.model.tiddler.</tt><tt class="descname">timestring_to_datetime</tt><big>(</big><em>timestring</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.tiddler.timestring_to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a TiddlyWiki timestring into a datetime object.</p>
<p>Will raise ValueError if the input is not a 12 or 14
digit timestring.</p>
</dd></dl>

</div>
<div class="section" id="module-tiddlyweb.model.user">
<span id="user-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">user</span></tt> Module<a class="headerlink" href="#module-tiddlyweb.model.user" title="Permalink to this headline">¶</a></h2>
<p>A class representing a simple user entity.</p>
<p>A User object is not required during TiddlyWeb requests,
<a class="reference internal" href="tiddlyweb.web.extractors.html#tiddlyweb.web.extractors.ExtractorInterface" title="tiddlyweb.web.extractors.ExtractorInterface"><tt class="xref py py-class docutils literal"><span class="pre">credentials</span> <span class="pre">extractors</span></tt></a> and <a class="reference internal" href="#tiddlyweb.model.policy.Policy" title="tiddlyweb.model.policy.Policy"><tt class="xref py py-class docutils literal"><span class="pre">policies</span></tt></a> may work with arbitrary data for
authentication and authorization. However if a locally stored user
is required the <a class="reference internal" href="#tiddlyweb.model.user.User" title="tiddlyweb.model.user.User"><tt class="xref py py-class docutils literal"><span class="pre">User</span></tt></a> may be used.</p>
<dl class="class">
<dt id="tiddlyweb.model.user.User">
<em class="property">class </em><tt class="descclassname">tiddlyweb.model.user.</tt><tt class="descname">User</tt><big>(</big><em>usersign</em>, <em>note=None</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A simple representation of a user. A user is a username, an optional
password, an optional list of roles, and an optional note.</p>
<dl class="method">
<dt id="tiddlyweb.model.user.User.add_role">
<tt class="descname">add_role</tt><big>(</big><em>role</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User.add_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the named <tt class="docutils literal"><span class="pre">role</span></tt> (a string) to this user.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.user.User.check_password">
<tt class="descname">check_password</tt><big>(</big><em>candidate_password</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User.check_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the password for this user. Return <tt class="docutils literal"><span class="pre">True</span></tt> if correct.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.user.User.del_role">
<tt class="descname">del_role</tt><big>(</big><em>role</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User.del_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the named <tt class="docutils literal"><span class="pre">role</span></tt> (a string) from this user.
If it is not there, do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.user.User.list_roles">
<tt class="descname">list_roles</tt><big>(</big><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User.list_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>List (as a list of strings) the roles that this
user has.</p>
</dd></dl>

<dl class="method">
<dt id="tiddlyweb.model.user.User.set_password">
<tt class="descname">set_password</tt><big>(</big><em>password</em><big>)</big><a class="headerlink" href="#tiddlyweb.model.user.User.set_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the password for this user.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">model Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">model</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.bag"><tt class="docutils literal"><span class="pre">bag</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.collections"><tt class="docutils literal"><span class="pre">collections</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.policy"><tt class="docutils literal"><span class="pre">policy</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.recipe"><tt class="docutils literal"><span class="pre">recipe</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.tiddler"><tt class="docutils literal"><span class="pre">tiddler</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-tiddlyweb.model.user"><tt class="docutils literal"><span class="pre">user</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tiddlyweb.filters.html"
                        title="previous chapter">filters Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tiddlyweb.serializations.html"
                        title="next chapter">serializations Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tiddlyweb.model.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tiddlyweb.serializations.html" title="serializations Package"
             >next</a> |</li>
        <li class="right" >
          <a href="tiddlyweb.filters.html" title="filters Package"
             >previous</a> |</li>
        <li><a href="index.html">TiddlyWeb 1.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Chris Dent.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>