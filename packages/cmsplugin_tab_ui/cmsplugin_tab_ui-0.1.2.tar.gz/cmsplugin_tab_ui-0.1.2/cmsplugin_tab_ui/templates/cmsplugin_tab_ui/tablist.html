{% load i18n static cms_tags menu_tags sekizai_tags  %}


{%addtoblock "js" %}<script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>{%endaddtoblock%}
{%addtoblock "css" %} <link rel="stylesheet" href="{% static 'cmsplugin_tab_ui/css/tab.css' %}"> {%endaddtoblock%}

{%addtoblock "css" %}
<style>
.ui-tabs-nav{
	{% if object.align == 'h'%}
    display: inline-flex;
    {%endif%}
    list-style: none outside none;
    margin: 5px;

}
</style>
{%endaddtoblock%}


<div id="tabs_list{{object.pk}}" class="{{object.custom_classes}}">
			{%with 1 as step %}
<ul>
			    {% for plugin in object.child_plugin_instances %}			    
		    
					{% with forloop as parentloop %}{% render_plugin plugin %}{% endwith %}

			    {% endfor %} 
</ul>			
			{% endwith %}
			
			{%with 2 as step %}
			    {% for plugin in object.child_plugin_instances %}
					{% with forloop as parentloop %}{% render_plugin plugin %}{% endwith %}
			    {% endfor %} 
			
			{% endwith %}
</div>

{% if object.align == 'v'%}
	{%addtoblock "css" %}
	 <style>
	.ui-tabs-vertical { width: 55em; }
	.ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 12em; }
	.ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }
	.ui-tabs-vertical .ui-tabs-nav li a { display:block; }
	.ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }
	.ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: right; width: 75%;}
	</style>
	{%endaddtoblock%}
	
{%endif%}


{%addtoblock "js" %}
 <script>
$(function() {
	{% if object.align == 'h'%}
		$( "#tabs_list{{object.pk}}" ).tabs();
	{%else%}
		$( "#tabs_list{{object.pk}}" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );
		$( "#tabs_list{{object.pk}} li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );
	{%endif%}
});
</script>
{%endaddtoblock%}