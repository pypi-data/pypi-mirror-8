<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API &mdash; Ringo 0.11.2 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.11.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ringo 0.11.2 documentation" href="index.html" />
    <link rel="prev" title="Development" href="development.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development.html" title="Development"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ringo 0.11.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="baseitem">
<h3>BaseItem<a class="headerlink" href="#baseitem" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.base.BaseList">
<em class="property">class </em><tt class="descclassname">ringo.model.base.</tt><tt class="descname">BaseList</tt><big>(</big><em>clazz</em>, <em>request</em>, <em>user=None</em>, <em>cache=''</em>, <em>items=None</em><big>)</big><a class="headerlink" href="#ringo.model.base.BaseList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.base.BaseFactory">
<em class="property">class </em><tt class="descclassname">ringo.model.base.</tt><tt class="descname">BaseFactory</tt><big>(</big><em>clazz</em><big>)</big><a class="headerlink" href="#ringo.model.base.BaseFactory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.base.BaseItem">
<em class="property">class </em><tt class="descclassname">ringo.model.base.</tt><tt class="descname">BaseItem</tt><a class="headerlink" href="#ringo.model.base.BaseItem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="modul">
<h3>Modul<a class="headerlink" href="#modul" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.modul.ModulItem">
<em class="property">class </em><tt class="descclassname">ringo.model.modul.</tt><tt class="descname">ModulItem</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.modul.ModulItem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="usermanagement">
<h3>Usermanagement<a class="headerlink" href="#usermanagement" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.user.User">
<em class="property">class </em><tt class="descclassname">ringo.model.user.</tt><tt class="descname">User</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.user.User" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.user.Usergroup">
<em class="property">class </em><tt class="descclassname">ringo.model.user.</tt><tt class="descname">Usergroup</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.user.Usergroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.user.Role">
<em class="property">class </em><tt class="descclassname">ringo.model.user.</tt><tt class="descname">Role</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.user.Role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.user.Profile">
<em class="property">class </em><tt class="descclassname">ringo.model.user.</tt><tt class="descname">Profile</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.user.Profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="news">
<h3>News<a class="headerlink" href="#news" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.news.News">
<em class="property">class </em><tt class="descclassname">ringo.model.news.</tt><tt class="descname">News</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.news.News" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="appointment">
<h3>Appointment<a class="headerlink" href="#appointment" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.appointment.Appointment">
<em class="property">class </em><tt class="descclassname">ringo.model.appointment.</tt><tt class="descname">Appointment</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.appointment.Appointment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ringo.model.appointment.Reminders">
<em class="property">class </em><tt class="descclassname">ringo.model.appointment.</tt><tt class="descname">Reminders</tt><big>(</big><em>db</em>, <em>cache=''</em><big>)</big><a class="headerlink" href="#ringo.model.appointment.Reminders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="file">
<h3>File<a class="headerlink" href="#file" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.file.File">
<em class="property">class </em><tt class="descclassname">ringo.model.file.</tt><tt class="descname">File</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.file.File" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="log">
<h3>Log<a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.log.Log">
<em class="property">class </em><tt class="descclassname">ringo.model.log.</tt><tt class="descname">Log</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.log.Log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="tag">
<h3>Tag<a class="headerlink" href="#tag" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.tag.Tag">
<em class="property">class </em><tt class="descclassname">ringo.model.tag.</tt><tt class="descname">Tag</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.tag.Tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Tags (keywords) can be used to mark items.</p>
</dd></dl>

</div>
<div class="section" id="todo">
<h3>Todo<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.todo.Todo">
<em class="property">class </em><tt class="descclassname">ringo.model.todo.</tt><tt class="descname">Todo</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.todo.Todo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="comment">
<h3>Comment<a class="headerlink" href="#comment" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.comment.Comment">
<em class="property">class </em><tt class="descclassname">ringo.model.comment.</tt><tt class="descname">Comment</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#ringo.model.comment.Comment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="statemachine">
<span id="api-statemachine"></span><h3>Statemachine<a class="headerlink" href="#statemachine" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ringo.model.statemachine.Statemachine">
<em class="property">class </em><tt class="descclassname">ringo.model.statemachine.</tt><tt class="descname">Statemachine</tt><big>(</big><em>item</em>, <em>item_state_attr</em>, <em>init_state=None</em>, <em>request=None</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine" title="Permalink to this definition">¶</a></dt>
<dd><p>A state machine, is a mathematical model of computation used to
design sequential logic circuits for items of a module. It is
conceived as an abstract machine that can be in one of a finite
number of states.  The machine is in only one state at a time; the
state it is in at any given time is called the current state. It can
change from one state to another when initiated by a triggering
event or condition; this is called a transition.</p>
<dl class="method">
<dt id="ringo.model.statemachine.Statemachine.__init__">
<tt class="descname">__init__</tt><big>(</big><em>item</em>, <em>item_state_attr</em>, <em>init_state=None</em>, <em>request=None</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the statemachine for the given item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Item :</th><td class="field-body">Attach the state machine to this <tt class="xref py py-class docutils literal"><span class="pre">BaseItem</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Item_state_attr :</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">name of the attribute which store the value of</td>
</tr>
</tbody>
</table>
<p>the current state of the statemachine in the given item.
:init_state: Initialize the statemachine with an alternative
state. (Not the value coming from item_state_attr)
:request: Current request.</p>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Statemachine.setup">
<tt class="descname">setup</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Need to be implemented in the inherited class.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s1</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;On&quot;</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;Off&quot;</span><span class="p">)</span>

<span class="n">s1</span><span class="o">.</span><span class="n">add_transition</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="s">&quot;Turn on&quot;</span><span class="p">,</span> <span class="n">handler</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span>
<span class="n">s2</span><span class="o">.</span><span class="n">add_transition</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="s">&quot;Turn off&quot;</span><span class="p">,</span> <span class="n">handler</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span>
<span class="k">return</span> <span class="n">s1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Statemachine.get_states">
<tt class="descname">get_states</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine.get_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all states in the statemachine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Statemachine.set_state">
<tt class="descname">set_state</tt><big>(</big><em>state</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Will set the current state of the state machine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">State :</th><td class="field-body">Id of the <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> or the <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> object to</td>
</tr>
</tbody>
</table>
<p>be set as current state
:returns: None</p>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Statemachine.get_state">
<tt class="descname">get_state</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Statemachine.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current state of the Statemachine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ringo.model.statemachine.State">
<em class="property">class </em><tt class="descclassname">ringo.model.statemachine.</tt><tt class="descname">State</tt><big>(</big><em>statemachine</em>, <em>id</em>, <em>label</em>, <em>description=None</em>, <em>disabled_actions={}</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.State" title="Permalink to this definition">¶</a></dt>
<dd><p>A single state in a statemachine.</p>
<dl class="method">
<dt id="ringo.model.statemachine.State.__init__">
<tt class="descname">__init__</tt><big>(</big><em>statemachine</em>, <em>id</em>, <em>label</em>, <em>description=None</em>, <em>disabled_actions={}</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.State.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the State</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Statemachine :</th><td class="field-body">Statemachine</td>
</tr>
<tr class="field-even field"><th class="field-name">Id :</th><td class="field-body">Id of the state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Label :</th><td class="field-body">Label of the Statemachine (short description)</td>
</tr>
<tr class="field-even field"><th class="field-name">Description :</th><td class="field-body">Long description of the state.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Disabled_actions :</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Dictionary with a list of actions which are</td>
</tr>
</tbody>
</table>
<p>disabled for a role. {&#8216;rolename&#8217;: [&#8216;read&#8217;, &#8216;update&#8217;]}</p>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.State.add_transition">
<tt class="descname">add_transition</tt><big>(</big><em>to_state</em>, <em>label=None</em>, <em>handler=None</em>, <em>condition=None</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.State.add_transition" title="Permalink to this definition">¶</a></dt>
<dd><p>Will add a transtion to the given state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">To_state :</th><td class="field-body">End state of the transition</td>
</tr>
<tr class="field-even field"><th class="field-name">Label :</th><td class="field-body">Label of the transition. Is usually a verb.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Handler :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TransitionHandler</span></tt> which will be called if the state has
been changed</td>
</tr>
<tr class="field-even field"><th class="field-name">Condition :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TransitionCondition</span></tt> which must be true to make the
transition available</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.State.get_disabled_actions">
<tt class="descname">get_disabled_actions</tt><big>(</big><em>role</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.State.get_disabled_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of disabled actions of the state for the given
role</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of disabled actions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.State.get_transitions">
<tt class="descname">get_transitions</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.State.get_transitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the available transitions to other states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of <tt class="xref py py-class docutils literal"><span class="pre">Transition</span></tt> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ringo.model.statemachine.Transition">
<em class="property">class </em><tt class="descclassname">ringo.model.statemachine.</tt><tt class="descname">Transition</tt><big>(</big><em>start_state</em>, <em>end_state</em>, <em>label=None</em>, <em>handler=None</em>, <em>condition=None</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition" title="Permalink to this definition">¶</a></dt>
<dd><p>A transitions is used to switch from one state into another. The
two states are called start state and end state where the end state
is the state of the state machine after the transtions has been
done.</p>
<p>Every transtion can have a handler and a condition. The handler can
be used to add some logic which should be trigger after the
transition has been finished. The handler is a simple callable which
is called with the item of the state machine.</p>
<p>The condition is also a callable and can be used to restrict the
availability to whatever want. The function is called with the item
of the state machine and returns true or false. If the condition
returns true then a transition is available.</p>
<dl class="method">
<dt id="ringo.model.statemachine.Transition.__init__">
<tt class="descname">__init__</tt><big>(</big><em>start_state</em>, <em>end_state</em>, <em>label=None</em>, <em>handler=None</em>, <em>condition=None</em><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a transition between to states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Start_state :</th><td class="field-body">Start <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> of the transition</td>
</tr>
<tr class="field-even field"><th class="field-name">End_state :</th><td class="field-body">End of the transition</td>
</tr>
<tr class="field-odd field"><th class="field-name">Handler :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TransitionHandler</span></tt> which will be called if the state has
been changed</td>
</tr>
<tr class="field-even field"><th class="field-name">Condition :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TransitionCondition</span></tt> which must be true to make the
transition available</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Transition.get_start">
<tt class="descname">get_start</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.get_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the start state of the transition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Start <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Transition.get_end">
<tt class="descname">get_end</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.get_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the end state of the transition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">End <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Transition.get_label">
<tt class="descname">get_label</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.get_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the label of the transtion. If no label was set
return the two lables of the start and end state separated with
a &#8220;-&gt;&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Label of the <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Transition.exchange">
<tt class="descname">exchange</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.exchange" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the transition! Exchanges the start state to the end state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">End <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> of the transtion.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ringo.model.statemachine.Transition.is_available">
<tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#ringo.model.statemachine.Transition.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Check is the transition is available for the item in the
statemachine. The function will call the condition function with
the item of the statemachine. It returns true if the state is
available (check succeeds) and returns False if the conditions
for a state change are not met.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ringo.model.statemachine.TransitionHandler">
<em class="property">class </em><tt class="descclassname">ringo.model.statemachine.</tt><tt class="descname">TransitionHandler</tt><a class="headerlink" href="#ringo.model.statemachine.TransitionHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler callable which will be called if the transition between
to <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> objects has been finished.</p>
</dd></dl>

<dl class="class">
<dt id="ringo.model.statemachine.TransitionCondition">
<em class="property">class </em><tt class="descclassname">ringo.model.statemachine.</tt><tt class="descname">TransitionCondition</tt><a class="headerlink" href="#ringo.model.statemachine.TransitionCondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Condition callable which must be true to make the <tt class="xref py py-class docutils literal"><span class="pre">Transition</span></tt>
between two <tt class="xref py py-class docutils literal"><span class="pre">State</span></tt> objects applicable.</p>
</dd></dl>

</div>
</div>
<div class="section" id="lib">
<h2>Lib<a class="headerlink" href="#lib" title="Permalink to this headline">¶</a></h2>
<div class="section" id="security">
<span id="api-security"></span><h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ringo.lib.security.has_permission">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">has_permission</tt><big>(</big><em>permission</em>, <em>context</em>, <em>request</em><big>)</big><a class="headerlink" href="#ringo.lib.security.has_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for pyramid&#8217;s buitin has_permission function.  This
wrapper sets dynamically the __acl__ attribute of the given context
and then  .  check if the user has the given permission in the
current context using pyramid&#8217;s has_permission function.</p>
<p>Context can be:
* Instance of BaseItem
* Subclass of BaseItem
* Ressource, built from a RessourceFactory</p>
<p>If context is an instance or subclass of BaseItem the wrapper will
dynamically set the __acl__ attribute. This attribute is used by the
pyramid&#8217;s has_permission function the check the permission. If the
context is a resource the function does nothing as the resource
already has the __acl__ attribute set.</p>
<p>If the user has the permission the it returns True, else False
(Actually it returns a boolean like object, see pyramids
has_permission doc for more details.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Permission :</th><td class="field-body">String. Name of the permission. E.g list, create, read</td>
</tr>
<tr class="field-even field"><th class="field-name">Context :</th><td class="field-body">Either Resource, Instance of BaseItem or Subclass of BaseItem</td>
</tr>
<tr class="field-odd field"><th class="field-name">Request :</th><td class="field-body">current request</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True or False (Boolean like object)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ringo.lib.security.get_permissions">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">get_permissions</tt><big>(</big><em>modul</em>, <em>item=None</em><big>)</big><a class="headerlink" href="#ringo.lib.security.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Will return a list permissions attached to the modul and
optionally to particular item of the modul. The returned list is
suitable for using it as ACL in pyramid&#8217;s authorization system.  The
function will at least return class based permissions. If a item is
provided then additional item level permissions are returned.</p>
<p>The function will iterate over all available actions of the given
modul and tries to adds a permission entry to the for every role
which has granted access to the action.</p>
<p>For every role it will check the following things:</p>
<ol class="arabic simple">
<li>If the role is marked as &#8220;administrational&#8221; role, then add the
permission for role and action.</li>
<li>Elif action is either &#8220;list&#8221; or &#8220;create&#8221; (permissons on class
level) then add the permission for the role and action.</li>
<li>Elif an item is provided add item level permissions for the role
_and_ only the owner or users which are member of the items group.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Model :</th><td class="field-body">The modul for which the permissions are returned</td>
</tr>
<tr class="field-even field"><th class="field-name">Item :</th><td class="field-body">Optional: Item of the model for which the permissons as
returned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of permissions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ringo.lib.security.get_principals">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">get_principals</tt><big>(</big><em>userid</em>, <em>request</em><big>)</big><a class="headerlink" href="#ringo.lib.security.get_principals" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of pricipals for the user with userid for the
given request.</p>
<p>Principals are basically strings naming the groups or roles the user have.
Example: role:admin or group:users are typical principals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Userid :</th><td class="field-body">id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Request :</th><td class="field-body">current request</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list with pricipals</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ringo.lib.security.has_role">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">has_role</tt><big>(</big><em>user</em>, <em>role</em><big>)</big><a class="headerlink" href="#ringo.lib.security.has_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the user has the given role. Else False&#8221;
:user: User instance
:returns: True or False</p>
</dd></dl>

<dl class="function">
<dt id="ringo.lib.security.get_roles">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">get_roles</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#ringo.lib.security.get_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of roles the user has. The list contains
<cite>Role</cite> object and are collected by loading roles directly
attached to the user plus roles attached to the groups the user
is member of</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">User :</th><td class="field-body">User instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of <cite>Role</cite> instances</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ringo.lib.security.has_group">
<tt class="descclassname">ringo.lib.security.</tt><tt class="descname">has_group</tt><big>(</big><em>user</em>, <em>group</em><big>)</big><a class="headerlink" href="#ringo.lib.security.has_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the user is in the the given group. Else False&#8221;
:user: User instance
:returns: True or False</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API</a><ul>
<li><a class="reference internal" href="#model">Model</a><ul>
<li><a class="reference internal" href="#baseitem">BaseItem</a></li>
<li><a class="reference internal" href="#modul">Modul</a></li>
<li><a class="reference internal" href="#usermanagement">Usermanagement</a></li>
<li><a class="reference internal" href="#news">News</a></li>
<li><a class="reference internal" href="#appointment">Appointment</a></li>
<li><a class="reference internal" href="#file">File</a></li>
<li><a class="reference internal" href="#log">Log</a></li>
<li><a class="reference internal" href="#tag">Tag</a></li>
<li><a class="reference internal" href="#todo">Todo</a></li>
<li><a class="reference internal" href="#comment">Comment</a></li>
<li><a class="reference internal" href="#statemachine">Statemachine</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lib">Lib</a><ul>
<li><a class="reference internal" href="#security">Security</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="development.html"
                        title="previous chapter">Development</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development.html" title="Development"
             >previous</a> |</li>
        <li><a href="index.html">Ringo 0.11.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Torsten Irländer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>