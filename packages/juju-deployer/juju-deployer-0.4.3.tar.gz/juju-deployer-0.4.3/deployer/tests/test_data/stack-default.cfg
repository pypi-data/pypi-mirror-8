{
  "wordpress": {
        "series": "precise",
        "services": {
            "wordpress": {
                "constraints": "instance-type=m1.small",
                "options": {
                    "engine": "",
                    "enable_modules": "proxy rewrite proxy_http proxy_balancer ssl headers",
                    "vhost_https_template": "include-base64://stack-include.template"
                }
            },
            "db": {
                "constraints": "instance-type=m1.small",
                "charm": "mysql",
                "options": {
                    "tuning-level": "safest"}
            },
            "memcached": {
                 "constraints": "instance-type=m1.small",
                 "charm_url": ""
            },
            "haproxy": {

            },
            "my-app-cache": {
                "constraints": "instance-type=m1.small",
                "options": {
                    "x_balancer_name_allowed": "true"
                }
            },
            "my-nrpe-app-cache": {
            },
            "my-app-cache-lb": {
                "constraints": "instance-type=m1.small",
                "options": {
                    "enable_monitoring": "true"
                }
            },
            "my-nrpe-app-cache-lb": {
            }
        },
        "relations": {
            "my-app-fe:balancer": {
                "weight": 100,
                "consumes": ["my-app-lb:website"]
            },
            "my-app-lb:reverseproxy": {
                "weight": 90,
                "consumes": ["my-app-cache:cached-website"]
            },
            "my-app-cache:website": {
                "weight": 80,
                "consumes": ["my-app-cache-lb:website"]
            }
        }
    }
}
