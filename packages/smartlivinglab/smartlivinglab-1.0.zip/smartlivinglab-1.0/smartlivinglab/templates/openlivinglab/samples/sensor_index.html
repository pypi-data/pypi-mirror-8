{% extends "openlivinglab/base.html" %}

{% block breadcrumbs %}
<ul class="breadcrumb">
  <li><a href="/">Root</a></li>
  <li><a href="/samples">Samples</a></li>  
  <li class="active">Active sensor: {{sensor}}</li>
</ul>
{% endblock %}


{% block heading1 %}{{sensor}}{% endblock %}


{% block body1 %}

<div id='chart_div' style='width: 800px; height: 600px;'></div>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Date</th><th>Value</th>
        </tr>
    </thead>
    <tbody>
{% for value in values %}
    <tr>
        <td>{{value.date}}</td>
        <td>{{value.value}}</td>
    </tr>
{% endfor %}
    </tbody>
</table>
{% endblock %}


{% block headextrajs %}
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Date', 'Value'],
          {% for value in values %}
          {% if loop.last %}
          ['{{value.date}}',{{value.value|floatformat:0}}]
          {% else %}
          ['{{value.date}}',{{value.value|floatformat:0}}],
          {% endif %}
          {% endfor %}

        ]);

        var options = {
          title: '{{sensor.code}} values'
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        chart.draw(data, options);
      }
    </script>

{% endblock %}