10 GOTO 250 ' DISPLAY MENU
20 '
30 ' *** DISPLAY ONE LINE
40 TXT$ = RIGHT$("000"+HEX$(EA),4) + " "
50 CHARS$ = ""
60 FOR I = 0 TO 5
70 EA=EA+I
80 V=PEEK(EA)
90 TXT$ = TXT$ + " " + RIGHT$("0"+HEX$(V),2)
100 IF V=>33 AND V<=122 THEN CHARS$=CHARS$+CHR$(V) ELSE CHARS$=CHARS$+"."
110 NEXT I
120 TXT$ = TXT$ +"  " + CHARS$
130 PRINT TXT$
140 RETURN
150 '
160 ' *** INPUT EA
170 INPUT "START ADDRESS IN HEX &H"; ADDR$
180 EA = VAL("&H"+ADDR$)
190 'PRINT ADDR$;EA
200 RETURN
210 '
220 ' *** WRONG ADDR INPUT
230 'PRINT "WRONG ADDR INPUT:";ADDR$;EA
240 'IF INKEY$="" THEN 240
250 CLS
260 PRINT "HEX VIEWER V0.1 GPL V3 OR ABOVE"
270 PRINT "COPYLEFT (C) 2013 JENS DIEMER"
280 PRINT
290 PRINT "PLEASE SELECT:"
300 PRINT " (S)INGLE MEM ADDRESS AS HEX"
310 PRINT " (L)INE OF MEMORY"
320 PRINT " (W)INDOWED HEX VIEW"
330 MODE$ = INKEY$:IF MODE$="" THEN 330
340 IF MODE$="S" THEN 420
350 IF MODE$="L" THEN 480
360 IF MODE$="W" THEN 540
370 PRINT "WRONG INPUT:";MODE$
380 IF INKEY$="" THEN 380
390 GOTO 250
400 '
410 ' *** SINGLE MEM ADDRESS
420 GOSUB 170 ' INPUT ADDR$
430 IF EA=0 AND ADDR$<>"0" THEN 230
440 PRINT "PEEK VALUE FROM $";HEX$(EA);": $";HEX$(PEEK(EA))
450 GOTO 420
460 '
470 ' *** LINE OF MEMORY
480 GOSUB 170 ' INPUT EA
490 IF EA=0 AND ADDR$<>"0" THEN 230
500 GOSUB 40
510 GOTO 480
520 '
530 ' *** WINDOW VIEW
540 GOSUB 170 ' INPUT ADDR$
550 IF EA=0 AND ADDR$<>"0" THEN 230
560 FOR L = 0 TO 6
570 EA = EA + 6 * L
580 GOSUB 40
590 NEXT L
600 GOTO 540