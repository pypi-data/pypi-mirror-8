function ImageModalView(a,b){"use strict";function c(){return!1}function d(){var a,b,d,e,f,g;v.text("Zoom Out"),w.removeClass("icon-zoom-in"),w.addClass("icon-zoom-out"),s.off(".imagemodal"),s.on("click.imagemodal_zoomin",c),s.addClass("zoomed"),g=s.height(),f=s.width(),a=f-t.width(),b=g-t.height(),d=f+a,e=g+b,i=i||new o(s[0],{containment:!0}),e>0&&d>0?(s.parent().css({left:-a,top:-b,width:d,height:e}),s.css({top:b/2,left:a/2}),i.enable()):i.enable()}function e(){v.text("Zoom In"),w.removeClass("icon-zoom-out"),w.addClass("icon-zoom-in"),s.off(".imagemodal"),s.on("click.imagemodal_zoomout",h),s.removeClass("zoomed"),s.parent().css({left:0,top:0,width:"100%",height:"100%"}),s.css({left:0,top:0}),i&&(i.disable(),i=null)}function f(){var a=s.hasClass("zoomed");return a?e():d(),!1}function g(){return p.css("overflow",""),r.hide(),p.off(".imagemodal"),u.off(".imagemodal"),r.off(".imagemodal"),s.off(".imagemodal"),j&&j.focus(),!1}function h(a){return j=a.target,r.show(),p.css("overflow","hidden"),p.on("keyup.imagemodal",function(a){return a.which===n?g():a.which===m?f():void 0}),u.on("click.imagemodal",f),r.on("click.imagemodal",g),s.on("click.imagemodal",f),!1}var i,j,k=window.jQuery,l=k(b),m=13,n=27,o=window.Draggabilly,p=k("BODY"),q=l.find("A"),r=l.find(".curtain"),s=r.find("IMG"),t=r.find(".mask"),u=r.find("BUTTON.zoom"),v=u.find("SPAN"),w=u.find("I");a=a||{},g(),"PreviewRuntime"===l.attr("data-runtime-class")?q.on("click.imagemodal",c):q.on("click.imagemodal",h)}
//# sourceMappingURL=view.js.min.js.map
