define(["underscore","backbone","../utils"],function(e,t,n){var r=t.Model.extend({lowestPriority:10,highestPriority:1,urlRoot:function(){var e="api/samples/"+this.get("sampleId")+"/phenotypes/";return n.toAbsolutePath(e)},parsePriority:function(e){return parseInt(e.priority,10)||this.lowestPriority},parse:function(t){var r,i,s;return t.hpoAnnotations&&t.hpoAnnotations.length&&(t.hpoAnnotations=e.sortBy(t.hpoAnnotations,this.parsePriority)),t.confirmedDiagnoses&&t.confirmedDiagnoses.length&&(t.confirmedDiagnoses=e.sortBy(t.confirmedDiagnoses,this.parsePriority)),t.suspectedDiagnoses&&t.suspectedDiagnoses.length&&(t.suspectedDiagnoses=e.sortBy(t.suspectedDiagnoses,this.parsePriority)),t.ruledOutDiagnoses&&t.ruledOutDiagnoses.length&&(t.ruledOutDiagnoses=e.sortBy(t.ruledOutDiagnoses,this.parsePriority)),t.pedigree&&(r=t.pedigree,r=r.replace("/phenotype/media","api/samples"),t.pedigree=n.toAbsolutePath(r),t.pedigree_thumbnail&&(r=t.pedigree_thumbnail,r=r.replace("/phenotype/media","api/samples"),t.pedigree_thumbnail=n.toAbsolutePath(r))),i=n.parseISO8601UTC(t.last_modified),i?t.last_modified=i.toLocaleString():t.last_modified="N/A",s=n.parseISO8601UTC(t.phenotype_modified),s?t.phenotype_modified=s.toLocaleString():t.phenotype_modified="N/A",t}});return{Phenotype:r}})