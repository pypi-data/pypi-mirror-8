define(["underscore","marionette","../../utils","cilantro/utils/numbers"],function(e,t,n,r){var i=t.ItemView.extend({template:"varify/variant/summary",serializeData:function(){var i=t.ItemView.prototype.serializeData.apply(this,arguments);i.read_depth_class=n.depthClass(i.read_depth),i.read_depth_ref=i.read_depth_ref||"--",i.read_depth_alt=i.read_depth_alt||"--",i.raw_read_depth?(i.raw_read_depth_class=n.depthClass(i.raw_read_depth),i.raw_read_depth=""+i.raw_read_depth+"x"):(i.raw_read_depth="n/a",i.raw_read_depth_class="muted"),i.quality?i.quality_class=n.qualityClass(i.quality):i.quality="n/a",i.genotype_value=i.genotype_value||"n/a";var s=[];for(var o in i.base_counts||{})s.push(""+o+"="+i.base_counts[o]);s.length?i.base_counts=s.sort().join(", "):i.base_counts="n/a",i.pchr=r.toDelimitedNumber(i.variant.pos);var u,a,f=[];for(var l=0;l<i.variant.uniqueGenes.length;l++)a=i.variant.uniqueGenes[l],u=a.name||"",a.hgnc_id?f.push('<a title="'+u+'" target=_blank href='+'"http://www.genenames.org/data/hgnc_data.php?hgnc_id='+a.hgnc_id+'">'+a.symbol+"</a>"):f.push('<span title="'+u+'">'+a.symbol+"</span>");i.genes=f.join(", ");var c=e.pluck(e.where(i.variant.phenotypes,function(e){return e.hgmd_id!==null}),"hgmd_id");return c.length?i.hgmd=c.join(", "):i.hgmd="n/a",i}});return{Summary:i}})