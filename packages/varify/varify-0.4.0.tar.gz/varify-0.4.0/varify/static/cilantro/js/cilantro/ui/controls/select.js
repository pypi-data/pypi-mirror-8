var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define(["underscore","backbone","marionette","../../core","./base"],function(t,e,n,o,r){var i,u,l;return u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.template=function(){},e.prototype.tagName="option",e.prototype.modelEvents=function(){return{"change:selected":"render"}},e.prototype.onRender=function(){var t;return t=this.model.get("label"),this.$el.text(""===t?"(empty)":"null"===t?"(null)":t),this.$el.attr("value",this.model.get("value")),this.$el.attr("selected",this.model.get("selected"))},e}(n.ItemView),l=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,n),r.prototype.className="selection-list",r.prototype.itemView=u,r.prototype.itemViewOptions=function(t){return{model:t}},r.prototype.itemViewContainer=".items",r.prototype.template="controls/select/list",r.prototype.ui={items:".items"},r.prototype.events={"change .items":"onSelectionChange"},r.prototype.collectionEvents={reset:"onCollectionSync"},r.prototype.initialize=function(){var t;return this.wait(),this.collection||(this.collection=new e.Collection,t=o.isSupported("2.3.1")?0:1e3,this.model.values({limit:t}).done(function(t){return function(e){return t.collection.reset(e.values),t.ready()}}(this))),this.on("ready",function(){return this.change()})},r.prototype.onCollectionSync=function(){return this.render()},r.prototype.onSelectionChange=function(){return this.change()},r.prototype.getField=function(){return this.model.id},r.prototype.getOperator=function(){return"exact"},r.prototype.getValue=function(){return this.ui.items.val()},r.prototype.setValue=function(t){return this.ui.items.val(t)},r.prototype.validate=function(e){return t.isNull(e.value)||t.isUndefined(e.value)?"An option must be selected":void 0},r}(r.ControlCompositeView),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.onCollectionSync=function(){return this.render()},n.prototype.onSelectionChange=function(){return this.ui.items.children().each(function(t){return function(e,n){return t.collection.models[e].set("selected",n.selected)}}(this)),this.change()},n.prototype.onRender=function(){return this.ui.items.attr("multiple",!0)},n.prototype.getOperator=function(){return"in"},n.prototype.getValue=function(){return t.map(this.collection.where({selected:!0}),function(t){return t.get("value")})},n.prototype.setValue=function(t){return null==t&&(t=[]),this.collection.each(function(e){var n;return e.set("selected",(n=e.get("value"),__indexOf.call(t,n)>=0))})},n.prototype.validate=function(t){return t.value&&t.value.length?void 0:"At least one option must be selected"},n}(l),{SingleSelectionList:l,MultiSelectionList:i}});
//# sourceMappingURL=select.js.map