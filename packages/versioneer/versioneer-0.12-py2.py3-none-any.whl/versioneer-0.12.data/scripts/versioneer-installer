#!python

import os, base64

VERSIONEER_b64 = """
CiMgVmVyc2lvbjogMC4xMgoKIiIiClRoZSBWZXJzaW9uZWVyCj09PT09PT09
PT09PT09CgoqIGxpa2UgYSByb2NrZXRlZXIsIGJ1dCBmb3IgdmVyc2lvbnMh
CiogaHR0cHM6Ly9naXRodWIuY29tL3dhcm5lci9weXRob24tdmVyc2lvbmVl
cgoqIEJyaWFuIFdhcm5lcgoqIExpY2Vuc2U6IFB1YmxpYyBEb21haW4KKiBD
b21wYXRpYmxlIFdpdGg6IHB5dGhvbjIuNiwgMi43LCAzLjIsIDMuMywgMy40
LCBhbmQgcHlweQoKWyFbQnVpbGQgU3RhdHVzXShodHRwczovL3RyYXZpcy1j
aS5vcmcvd2FybmVyL3B5dGhvbi12ZXJzaW9uZWVyLnBuZz9icmFuY2g9bWFz
dGVyKV0oaHR0cHM6Ly90cmF2aXMtY2kub3JnL3dhcm5lci9weXRob24tdmVy
c2lvbmVlcikKClRoaXMgaXMgYSB0b29sIGZvciBtYW5hZ2luZyBhIHJlY29y
ZGVkIHZlcnNpb24gbnVtYmVyIGluIGRpc3R1dGlscy1iYXNlZApweXRob24g
cHJvamVjdHMuIFRoZSBnb2FsIGlzIHRvIHJlbW92ZSB0aGUgdGVkaW91cyBh
bmQgZXJyb3ItcHJvbmUgInVwZGF0ZQp0aGUgZW1iZWRkZWQgdmVyc2lvbiBz
dHJpbmciIHN0ZXAgZnJvbSB5b3VyIHJlbGVhc2UgcHJvY2Vzcy4gTWFraW5n
IGEgbmV3CnJlbGVhc2Ugc2hvdWxkIGJlIGFzIGVhc3kgYXMgcmVjb3JkaW5n
IGEgbmV3IHRhZyBpbiB5b3VyIHZlcnNpb24tY29udHJvbApzeXN0ZW0sIGFu
ZCBtYXliZSBtYWtpbmcgbmV3IHRhcmJhbGxzLgoKCiMjIFF1aWNrIEluc3Rh
bGwKCiogYHBpcCBpbnN0YWxsIHZlcnNpb25lZXJgIHRvIHNvbWV3aGVyZSB0
byB5b3VyICRQQVRICiogcnVuIGB2ZXJzaW9uZWVyLWluc3RhbGxlcmAgaW4g
eW91ciBzb3VyY2UgdHJlZTogdGhpcyBpbnN0YWxscyBgdmVyc2lvbmVlci5w
eWAKKiBmb2xsb3cgdGhlIGluc3RydWN0aW9ucyBiZWxvdyAoYWxzbyBpbiB0
aGUgYHZlcnNpb25lZXIucHlgIGRvY3N0cmluZykKCiMjIFZlcnNpb24gSWRl
bnRpZmllcnMKClNvdXJjZSB0cmVlcyBjb21lIGZyb20gYSB2YXJpZXR5IG9m
IHBsYWNlczoKCiogYSB2ZXJzaW9uLWNvbnRyb2wgc3lzdGVtIGNoZWNrb3V0
IChtb3N0bHkgdXNlZCBieSBkZXZlbG9wZXJzKQoqIGEgbmlnaHRseSB0YXJi
YWxsLCBwcm9kdWNlZCBieSBidWlsZCBhdXRvbWF0aW9uCiogYSBzbmFwc2hv
dCB0YXJiYWxsLCBwcm9kdWNlZCBieSBhIHdlYi1iYXNlZCBWQ1MgYnJvd3Nl
ciwgbGlrZSBnaXRodWIncwogICJ0YXJiYWxsIGZyb20gdGFnIiBmZWF0dXJl
CiogYSByZWxlYXNlIHRhcmJhbGwsIHByb2R1Y2VkIGJ5ICJzZXR1cC5weSBz
ZGlzdCIsIGRpc3RyaWJ1dGVkIHRocm91Z2ggUHlQSQoKV2l0aGluIGVhY2gg
c291cmNlIHRyZWUsIHRoZSB2ZXJzaW9uIGlkZW50aWZpZXIgKGVpdGhlciBh
IHN0cmluZyBvciBhIG51bWJlciwKdGhpcyB0b29sIGlzIGZvcm1hdC1hZ25v
c3RpYykgY2FuIGNvbWUgZnJvbSBhIHZhcmlldHkgb2YgcGxhY2VzOgoKKiBh
c2sgdGhlIFZDUyB0b29sIGl0c2VsZiwgZS5nLiAiZ2l0IGRlc2NyaWJlIiAo
Zm9yIGNoZWNrb3V0cyksIHdoaWNoIGtub3dzCiAgYWJvdXQgcmVjZW50ICJ0
YWdzIiBhbmQgYW4gYWJzb2x1dGUgcmV2aXNpb24taWQKKiB0aGUgbmFtZSBv
ZiB0aGUgZGlyZWN0b3J5IGludG8gd2hpY2ggdGhlIHRhcmJhbGwgd2FzIHVu
cGFja2VkCiogYW4gZXhwYW5kZWQgVkNTIGtleXdvcmQgKCRJZCQsIGV0YykK
KiBhIGBfdmVyc2lvbi5weWAgY3JlYXRlZCBieSBzb21lIGVhcmxpZXIgYnVp
bGQgc3RlcAoKRm9yIHJlbGVhc2VkIHNvZnR3YXJlLCB0aGUgdmVyc2lvbiBp
ZGVudGlmaWVyIGlzIGNsb3NlbHkgcmVsYXRlZCB0byBhIFZDUwp0YWcuIFNv
bWUgcHJvamVjdHMgdXNlIHRhZyBuYW1lcyB0aGF0IGluY2x1ZGUgbW9yZSB0
aGFuIGp1c3QgdGhlIHZlcnNpb24Kc3RyaW5nIChlLmcuICJteXByb2plY3Qt
MS4yIiBpbnN0ZWFkIG9mIGp1c3QgIjEuMiIpLCBpbiB3aGljaCBjYXNlIHRo
ZSB0b29sCm5lZWRzIHRvIHN0cmlwIHRoZSB0YWcgcHJlZml4IHRvIGV4dHJh
Y3QgdGhlIHZlcnNpb24gaWRlbnRpZmllci4gRm9yCnVucmVsZWFzZWQgc29m
dHdhcmUgKGJldHdlZW4gdGFncyksIHRoZSB2ZXJzaW9uIGlkZW50aWZpZXIg
c2hvdWxkIHByb3ZpZGUKZW5vdWdoIGluZm9ybWF0aW9uIHRvIGhlbHAgZGV2
ZWxvcGVycyByZWNyZWF0ZSB0aGUgc2FtZSB0cmVlLCB3aGlsZSBhbHNvCmdp
dmluZyB0aGVtIGFuIGlkZWEgb2Ygcm91Z2hseSBob3cgb2xkIHRoZSB0cmVl
IGlzIChhZnRlciB2ZXJzaW9uIDEuMiwgYmVmb3JlCnZlcnNpb24gMS4zKS4g
TWFueSBWQ1Mgc3lzdGVtcyBjYW4gcmVwb3J0IGEgZGVzY3JpcHRpb24gdGhh
dCBjYXB0dXJlcyB0aGlzLApmb3IgZXhhbXBsZSAnZ2l0IGRlc2NyaWJlIC0t
dGFncyAtLWRpcnR5IC0tYWx3YXlzJyByZXBvcnRzIHRoaW5ncyBsaWtlCiIw
LjctMS1nNTc0YWI5OC1kaXJ0eSIgdG8gaW5kaWNhdGUgdGhhdCB0aGUgY2hl
Y2tvdXQgaXMgb25lIHJldmlzaW9uIHBhc3QgdGhlCjAuNyB0YWcsIGhhcyBh
IHVuaXF1ZSByZXZpc2lvbiBpZCBvZiAiNTc0YWI5OCIsIGFuZCBpcyAiZGly
dHkiIChpdCBoYXMKdW5jb21taXR0ZWQgY2hhbmdlcy4KClRoZSB2ZXJzaW9u
IGlkZW50aWZpZXIgaXMgdXNlZCBmb3IgbXVsdGlwbGUgcHVycG9zZXM6Cgoq
IHRvIGFsbG93IHRoZSBtb2R1bGUgdG8gc2VsZi1pZGVudGlmeSBpdHMgdmVy
c2lvbjogYG15cHJvamVjdC5fX3ZlcnNpb25fX2AKKiB0byBjaG9vc2UgYSBu
YW1lIGFuZCBwcmVmaXggZm9yIGEgJ3NldHVwLnB5IHNkaXN0JyB0YXJiYWxs
CgojIyBUaGVvcnkgb2YgT3BlcmF0aW9uCgpWZXJzaW9uZWVyIHdvcmtzIGJ5
IGFkZGluZyBhIHNwZWNpYWwgYF92ZXJzaW9uLnB5YCBmaWxlIGludG8geW91
ciBzb3VyY2UKdHJlZSwgd2hlcmUgeW91ciBgX19pbml0X18ucHlgIGNhbiBp
bXBvcnQgaXQuIFRoaXMgYF92ZXJzaW9uLnB5YCBrbm93cyBob3cgdG8KZHlu
YW1pY2FsbHkgYXNrIHRoZSBWQ1MgdG9vbCBmb3IgdmVyc2lvbiBpbmZvcm1h
dGlvbiBhdCBpbXBvcnQgdGltZS4gSG93ZXZlciwKd2hlbiB5b3UgdXNlICJz
ZXR1cC5weSBidWlsZCIgb3IgInNldHVwLnB5IHNkaXN0IiwgYF92ZXJzaW9u
LnB5YCBpbiB0aGUgbmV3CmNvcHkgaXMgcmVwbGFjZWQgYnkgYSBzbWFsbCBz
dGF0aWMgZmlsZSB0aGF0IGNvbnRhaW5zIGp1c3QgdGhlIGdlbmVyYXRlZAp2
ZXJzaW9uIGRhdGEuCgpgX3ZlcnNpb24ucHlgIGFsc28gY29udGFpbnMgYCRS
ZXZpc2lvbiRgIG1hcmtlcnMsIGFuZCB0aGUgaW5zdGFsbGF0aW9uCnByb2Nl
c3MgbWFya3MgYF92ZXJzaW9uLnB5YCB0byBoYXZlIHRoaXMgbWFya2VyIHJl
d3JpdHRlbiB3aXRoIGEgdGFnIG5hbWUKZHVyaW5nIHRoZSAiZ2l0IGFyY2hp
dmUiIGNvbW1hbmQuIEFzIGEgcmVzdWx0LCBnZW5lcmF0ZWQgdGFyYmFsbHMg
d2lsbApjb250YWluIGVub3VnaCBpbmZvcm1hdGlvbiB0byBnZXQgdGhlIHBy
b3BlciB2ZXJzaW9uLgoKCiMjIEluc3RhbGxhdGlvbgoKRmlyc3QsIGRlY2lk
ZSBvbiB2YWx1ZXMgZm9yIHRoZSBmb2xsb3dpbmcgY29uZmlndXJhdGlvbiB2
YXJpYWJsZXM6CgoqIGBWQ1NgOiB0aGUgdmVyc2lvbiBjb250cm9sIHN5c3Rl
bSB5b3UgdXNlLiBDdXJyZW50bHkgYWNjZXB0cyAiZ2l0Ii4KCiogYHZlcnNp
b25maWxlX3NvdXJjZWA6CgogIEEgcHJvamVjdC1yZWxhdGl2ZSBwYXRobmFt
ZSBpbnRvIHdoaWNoIHRoZSBnZW5lcmF0ZWQgdmVyc2lvbiBzdHJpbmdzIHNo
b3VsZAogIGJlIHdyaXR0ZW4uIFRoaXMgaXMgdXN1YWxseSBhIGBfdmVyc2lv
bi5weWAgbmV4dCB0byB5b3VyIHByb2plY3QncyBtYWluCiAgYF9faW5pdF9f
LnB5YCBmaWxlLCBzbyBpdCBjYW4gYmUgaW1wb3J0ZWQgYXQgcnVudGltZS4g
SWYgeW91ciBwcm9qZWN0IHVzZXMKICBgc3JjL215cHJvamVjdC9fX2luaXRf
Xy5weWAsIHRoaXMgc2hvdWxkIGJlIGBzcmMvbXlwcm9qZWN0L192ZXJzaW9u
LnB5YC4KICBUaGlzIGZpbGUgc2hvdWxkIGJlIGNoZWNrZWQgaW4gdG8geW91
ciBWQ1MgYXMgdXN1YWw6IHRoZSBjb3B5IGNyZWF0ZWQgYmVsb3cKICBieSBg
c2V0dXAucHkgdmVyc2lvbmVlcmAgd2lsbCBpbmNsdWRlIGNvZGUgdGhhdCBw
YXJzZXMgZXhwYW5kZWQgVkNTCiAga2V5d29yZHMgaW4gZ2VuZXJhdGVkIHRh
cmJhbGxzLiBUaGUgJ2J1aWxkJyBhbmQgJ3NkaXN0JyBjb21tYW5kcyB3aWxs
CiAgcmVwbGFjZSBpdCB3aXRoIGEgY29weSB0aGF0IGhhcyBqdXN0IHRoZSBj
YWxjdWxhdGVkIHZlcnNpb24gc3RyaW5nLgoKICBUaGlzIG11c3QgYmUgc2V0
IGV2ZW4gaWYgeW91ciBwcm9qZWN0IGRvZXMgbm90IGhhdmUgYW55IG1vZHVs
ZXMgKGFuZCB3aWxsCiAgdGhlcmVmb3JlIG5ldmVyIGltcG9ydCBgX3ZlcnNp
b24ucHlgKSwgc2luY2UgInNldHVwLnB5IHNkaXN0IiAtYmFzZWQgdHJlZXMK
ICBzdGlsbCBuZWVkIHNvbWV3aGVyZSB0byByZWNvcmQgdGhlIHByZS1jYWxj
dWxhdGVkIHZlcnNpb24gc3RyaW5ncy4gQW55d2hlcmUKICBpbiB0aGUgc291
cmNlIHRyZWUgc2hvdWxkIGRvLiBJZiB0aGVyZSBpcyBhIGBfX2luaXRfXy5w
eWAgbmV4dCB0byB5b3VyCiAgYF92ZXJzaW9uLnB5YCwgdGhlIGBzZXR1cC5w
eSB2ZXJzaW9uZWVyYCBjb21tYW5kIChkZXNjcmliZWQgYmVsb3cpIHdpbGwK
ICBhcHBlbmQgc29tZSBgX192ZXJzaW9uX19gLXNldHRpbmcgYXNzaWdubWVu
dHMsIGlmIHRoZXkgYXJlbid0IGFscmVhZHkKICBwcmVzZW50LgoKKiAgYHZl
cnNpb25maWxlX2J1aWxkYDoKCiAgTGlrZSBgdmVyc2lvbmZpbGVfc291cmNl
YCwgYnV0IHJlbGF0aXZlIHRvIHRoZSBidWlsZCBkaXJlY3RvcnkgaW5zdGVh
ZCBvZgogIHRoZSBzb3VyY2UgZGlyZWN0b3J5LiBUaGVzZSB3aWxsIGRpZmZl
ciB3aGVuIHlvdXIgc2V0dXAucHkgdXNlcwogICdwYWNrYWdlX2Rpcj0nLiBJ
ZiB5b3UgaGF2ZSBgcGFja2FnZV9kaXI9eydteXByb2plY3QnOiAnc3JjL215
cHJvamVjdCd9YCwKICB0aGVuIHlvdSB3aWxsIHByb2JhYmx5IGhhdmUgYHZl
cnNpb25maWxlX2J1aWxkPSdteXByb2plY3QvX3ZlcnNpb24ucHknYCBhbmQK
ICBgdmVyc2lvbmZpbGVfc291cmNlPSdzcmMvbXlwcm9qZWN0L192ZXJzaW9u
LnB5J2AuCgogIElmIHRoaXMgaXMgc2V0IHRvIE5vbmUsIHRoZW4gYHNldHVw
LnB5IGJ1aWxkYCB3aWxsIG5vdCBhdHRlbXB0IHRvIHJld3JpdGUKICBhbnkg
YF92ZXJzaW9uLnB5YCBpbiB0aGUgYnVpbHQgdHJlZS4gSWYgeW91ciBwcm9q
ZWN0IGRvZXMgbm90IGhhdmUgYW55CiAgbGlicmFyaWVzIChlLmcuIGlmIGl0
IG9ubHkgYnVpbGRzIGEgc2NyaXB0KSwgdGhlbiB5b3Ugc2hvdWxkIHVzZQog
IGB2ZXJzaW9uZmlsZV9idWlsZCA9IE5vbmVgIGFuZCBvdmVycmlkZSBgZGlz
dHV0aWxzLmNvbW1hbmQuYnVpbGRfc2NyaXB0c2AKICB0byBleHBsaWNpdGx5
IGluc2VydCBhIGNvcHkgb2YgYHZlcnNpb25lZXIuZ2V0X3ZlcnNpb24oKWAg
aW50byB5b3VyCiAgZ2VuZXJhdGVkIHNjcmlwdC4KCiogYHRhZ19wcmVmaXhg
OgoKICBhIHN0cmluZywgbGlrZSAnUFJPSkVDVE5BTUUtJywgd2hpY2ggYXBw
ZWFycyBhdCB0aGUgc3RhcnQgb2YgYWxsIFZDUyB0YWdzLgogIElmIHlvdXIg
dGFncyBsb29rIGxpa2UgJ215cHJvamVjdC0xLjIuMCcsIHRoZW4geW91IHNo
b3VsZCB1c2UKICB0YWdfcHJlZml4PSdteXByb2plY3QtJy4gSWYgeW91IHVz
ZSB1bnByZWZpeGVkIHRhZ3MgbGlrZSAnMS4yLjAnLCB0aGlzCiAgc2hvdWxk
IGJlIGFuIGVtcHR5IHN0cmluZy4KCiogYHBhcmVudGRpcl9wcmVmaXhgOgoK
ICBhIHN0cmluZywgZnJlcXVlbnRseSB0aGUgc2FtZSBhcyB0YWdfcHJlZml4
LCB3aGljaCBhcHBlYXJzIGF0IHRoZSBzdGFydCBvZgogIGFsbCB1bnBhY2tl
ZCB0YXJiYWxsIGZpbGVuYW1lcy4gSWYgeW91ciB0YXJiYWxsIHVucGFja3Mg
aW50bwogICdteXByb2plY3QtMS4yLjAnLCB0aGlzIHNob3VsZCBiZSAnbXlw
cm9qZWN0LScuCgpUaGlzIHRvb2wgcHJvdmlkZXMgb25lIHNjcmlwdCwgbmFt
ZWQgYHZlcnNpb25lZXItaW5zdGFsbGVyYC4gVGhhdCBzY3JpcHQgZG9lcwpv
bmUgdGhpbmc6IHdyaXRlIGEgY29weSBvZiBgdmVyc2lvbmVlci5weWAgaW50
byB0aGUgY3VycmVudCBkaXJlY3RvcnkuCgpUbyB2ZXJzaW9uZWVyLWVuYWJs
ZSB5b3VyIHByb2plY3Q6CgoqIDE6IFJ1biBgdmVyc2lvbmVlci1pbnN0YWxs
ZXJgIHRvIGNvcHkgYHZlcnNpb25lZXIucHlgIGludG8gdGhlIHRvcCBvZiB5
b3VyCiAgc291cmNlIHRyZWUuCgoqIDI6IGFkZCB0aGUgZm9sbG93aW5nIGxp
bmVzIHRvIHRoZSB0b3Agb2YgeW91ciBgc2V0dXAucHlgLCB3aXRoIHRoZQog
IGNvbmZpZ3VyYXRpb24gdmFsdWVzIHlvdSBkZWNpZGVkIGVhcmxpZXI6Cgog
ICAgICAgIGltcG9ydCB2ZXJzaW9uZWVyCiAgICAgICAgdmVyc2lvbmVlci5W
Q1MgPSAnZ2l0JwogICAgICAgIHZlcnNpb25lZXIudmVyc2lvbmZpbGVfc291
cmNlID0gJ3NyYy9teXByb2plY3QvX3ZlcnNpb24ucHknCiAgICAgICAgdmVy
c2lvbmVlci52ZXJzaW9uZmlsZV9idWlsZCA9ICdteXByb2plY3QvX3ZlcnNp
b24ucHknCiAgICAgICAgdmVyc2lvbmVlci50YWdfcHJlZml4ID0gJycgIyB0
YWdzIGFyZSBsaWtlIDEuMi4wCiAgICAgICAgdmVyc2lvbmVlci5wYXJlbnRk
aXJfcHJlZml4ID0gJ215cHJvamVjdC0nICMgZGlybmFtZSBsaWtlICdteXBy
b2plY3QtMS4yLjAnCgoqIDM6IGFkZCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50
cyB0byB0aGUgc2V0dXAoKSBjYWxsIGluIHlvdXIgc2V0dXAucHk6CgogICAg
ICAgIHZlcnNpb249dmVyc2lvbmVlci5nZXRfdmVyc2lvbigpLAogICAgICAg
IGNtZGNsYXNzPXZlcnNpb25lZXIuZ2V0X2NtZGNsYXNzKCksCgoqIDQ6IG5v
dyBydW4gYHNldHVwLnB5IHZlcnNpb25lZXJgLCB3aGljaCB3aWxsIGNyZWF0
ZSBgX3ZlcnNpb24ucHlgLCBhbmQgd2lsbAogIG1vZGlmeSB5b3VyIGBfX2lu
aXRfXy5weWAgKGlmIG9uZSBleGlzdHMgbmV4dCB0byBgX3ZlcnNpb24ucHlg
KSB0byBkZWZpbmUKICBgX192ZXJzaW9uX19gIChieSBjYWxsaW5nIGEgZnVu
Y3Rpb24gZnJvbSBgX3ZlcnNpb24ucHlgKS4gSXQgd2lsbCBhbHNvCiAgbW9k
aWZ5IHlvdXIgYE1BTklGRVNULmluYCB0byBpbmNsdWRlIGJvdGggYHZlcnNp
b25lZXIucHlgIGFuZCB0aGUgZ2VuZXJhdGVkCiAgYF92ZXJzaW9uLnB5YCBp
biBzZGlzdCB0YXJiYWxscy4KCiogNTogY29tbWl0IHRoZXNlIGNoYW5nZXMg
dG8geW91ciBWQ1MuIFRvIG1ha2Ugc3VyZSB5b3Ugd29uJ3QgZm9yZ2V0LAog
IGBzZXR1cC5weSB2ZXJzaW9uZWVyYCB3aWxsIG1hcmsgZXZlcnl0aGluZyBp
dCB0b3VjaGVkIGZvciBhZGRpdGlvbi4KCiMjIFBvc3QtSW5zdGFsbGF0aW9u
IFVzYWdlCgpPbmNlIGVzdGFibGlzaGVkLCBhbGwgdXNlcyBvZiB5b3VyIHRy
ZWUgZnJvbSBhIFZDUyBjaGVja291dCBzaG91bGQgZ2V0IHRoZQpjdXJyZW50
IHZlcnNpb24gc3RyaW5nLiBBbGwgZ2VuZXJhdGVkIHRhcmJhbGxzIHNob3Vs
ZCBpbmNsdWRlIGFuIGVtYmVkZGVkCnZlcnNpb24gc3RyaW5nIChzbyB1c2Vy
cyB3aG8gdW5wYWNrIHRoZW0gd2lsbCBub3QgbmVlZCBhIFZDUyB0b29sIGlu
c3RhbGxlZCkuCgpJZiB5b3UgZGlzdHJpYnV0ZSB5b3VyIHByb2plY3QgdGhy
b3VnaCBQeVBJLCB0aGVuIHRoZSByZWxlYXNlIHByb2Nlc3Mgc2hvdWxkCmJv
aWwgZG93biB0byB0d28gc3RlcHM6CgoqIDE6IGdpdCB0YWcgMS4wCiogMjog
cHl0aG9uIHNldHVwLnB5IHJlZ2lzdGVyIHNkaXN0IHVwbG9hZAoKSWYgeW91
IGRpc3RyaWJ1dGUgaXQgdGhyb3VnaCBnaXRodWIgKGkuZS4gdXNlcnMgdXNl
IGdpdGh1YiB0byBnZW5lcmF0ZQp0YXJiYWxscyB3aXRoIGBnaXQgYXJjaGl2
ZWApLCB0aGUgcHJvY2VzcyBpczoKCiogMTogZ2l0IHRhZyAxLjAKKiAyOiBn
aXQgcHVzaDsgZ2l0IHB1c2ggLS10YWdzCgpDdXJyZW50bHksIGFsbCB2ZXJz
aW9uIHN0cmluZ3MgbXVzdCBiZSBiYXNlZCB1cG9uIGEgdGFnLiBWZXJzaW9u
ZWVyIHdpbGwKcmVwb3J0ICJ1bmtub3duIiB1bnRpbCB5b3VyIHRyZWUgaGFz
IGF0IGxlYXN0IG9uZSB0YWcgaW4gaXRzIGhpc3RvcnkuIFRoaXMKcmVzdHJp
Y3Rpb24gd2lsbCBiZSBmaXhlZCBldmVudHVhbGx5IChzZWUgaXNzdWUgIzEy
KS4KCiMjIFZlcnNpb24tU3RyaW5nIEZsYXZvcnMKCkNvZGUgd2hpY2ggdXNl
cyBWZXJzaW9uZWVyIGNhbiBsZWFybiBhYm91dCBpdHMgdmVyc2lvbiBzdHJp
bmcgYXQgcnVudGltZSBieQppbXBvcnRpbmcgYF92ZXJzaW9uYCBmcm9tIHlv
dXIgbWFpbiBgX19pbml0X18ucHlgIGZpbGUgYW5kIHJ1bm5pbmcgdGhlCmBn
ZXRfdmVyc2lvbnMoKWAgZnVuY3Rpb24uIEZyb20gdGhlICJvdXRzaWRlIiAo
ZS5nLiBpbiBgc2V0dXAucHlgKSwgeW91IGNhbgppbXBvcnQgdGhlIHRvcC1s
ZXZlbCBgdmVyc2lvbmVlci5weWAgYW5kIHJ1biBgZ2V0X3ZlcnNpb25zKClg
LgoKQm90aCBmdW5jdGlvbnMgcmV0dXJuIGEgZGljdGlvbmFyeSB3aXRoIGRp
ZmZlcmVudCBrZXlzIGZvciBkaWZmZXJlbnQgZmxhdm9ycwpvZiB0aGUgdmVy
c2lvbiBzdHJpbmc6CgoqIGBbJ3ZlcnNpb24nXWA6IGNvbmRlbnNlZCB0YWcr
ZGlzdGFuY2Urc2hvcnRpZCtkaXJ0eSBpZGVudGlmaWVyLiBGb3IgZ2l0LAog
IHRoaXMgdXNlcyB0aGUgb3V0cHV0IG9mIGBnaXQgZGVzY3JpYmUgLS10YWdz
IC0tZGlydHkgLS1hbHdheXNgIGJ1dCBzdHJpcHMKICB0aGUgdGFnX3ByZWZp
eC4gRm9yIGV4YW1wbGUgIjAuMTEtMi1nMTA3NmM5Ny1kaXJ0eSIgaW5kaWNh
dGVzIHRoYXQgdGhlIHRyZWUKICBpcyBsaWtlIHRoZSAiMTA3NmM5NyIgY29t
bWl0IGJ1dCBoYXMgdW5jb21taXR0ZWQgY2hhbmdlcyAoIi1kaXJ0eSIpLCBh
bmQKICB0aGF0IHRoaXMgY29tbWl0IGlzIHR3byByZXZpc2lvbnMgKCItMi0i
KSBiZXlvbmQgdGhlICIwLjExIiB0YWcuIEZvcgogIHJlbGVhc2VkIHNvZnR3
YXJlIChleGFjdGx5IGVxdWFsIHRvIGEga25vd24gdGFnKSwgdGhlIGlkZW50
aWZpZXIgd2lsbCBvbmx5CiAgY29udGFpbiB0aGUgc3RyaXBwZWQgdGFnLCBl
LmcuICIwLjExIi4KCiogYFsnZnVsbCddYDogZGV0YWlsZWQgcmV2aXNpb24g
aWRlbnRpZmllci4gRm9yIEdpdCwgdGhpcyBpcyB0aGUgZnVsbCBTSEExCiAg
Y29tbWl0IGlkLCBmb2xsb3dlZCBieSAiLWRpcnR5IiBpZiB0aGUgdHJlZSBj
b250YWlucyB1bmNvbW1pdHRlZCBjaGFuZ2VzLAogIGUuZy4gIjEwNzZjOTc4
YThkM2NmYzcwZjQwOGZlNTk3NGFhNmMwOTJjOTQ5YWMtZGlydHkiLgoKU29t
ZSB2YXJpYW50cyBhcmUgbW9yZSB1c2VmdWwgdGhhbiBvdGhlcnMuIEluY2x1
ZGluZyBgZnVsbGAgaW4gYSBidWcgcmVwb3J0CnNob3VsZCBhbGxvdyBkZXZl
bG9wZXJzIHRvIHJlY29uc3RydWN0IHRoZSBleGFjdCBjb2RlIGJlaW5nIHRl
c3RlZCAob3IKaW5kaWNhdGUgdGhlIHByZXNlbmNlIG9mIGxvY2FsIGNoYW5n
ZXMgdGhhdCBzaG91bGQgYmUgc2hhcmVkIHdpdGggdGhlCmRldmVsb3BlcnMp
LiBgdmVyc2lvbmAgaXMgc3VpdGFibGUgZm9yIGRpc3BsYXkgaW4gYW4gImFi
b3V0IiBib3ggb3IgYSBDTEkKYC0tdmVyc2lvbmAgb3V0cHV0OiBpdCBjYW4g
YmUgZWFzaWx5IGNvbXBhcmVkIGFnYWluc3QgcmVsZWFzZSBub3RlcyBhbmQg
bGlzdHMKb2YgYnVncyBmaXhlZCBpbiB2YXJpb3VzIHJlbGVhc2VzLgoKSW4g
dGhlIGZ1dHVyZSwgdGhpcyB3aWxsIGFsc28gaW5jbHVkZSBhCltQRVAtMDQ0
MF0oaHR0cDovL2xlZ2FjeS5weXRob24ub3JnL2Rldi9wZXBzL3BlcC0wNDQw
LykgLWNvbXBhdGlibGUgZmxhdm9yCihlLmcuIGAxLjIucG9zdDAuZGV2MTIz
YCkuIFRoaXMgbG9zZXMgYSBsb3Qgb2YgaW5mb3JtYXRpb24gKGFuZCBoYXMg
bm8gcm9vbQpmb3IgYSBoYXNoLWJhc2VkIHJldmlzaW9uIGlkKSwgYnV0IGlz
IHNhZmUgdG8gdXNlIGluIGEgYHNldHVwLnB5YAoiYHZlcnNpb249YCIgYXJn
dW1lbnQuIEl0IGFsc28gZW5hYmxlcyB0b29scyBsaWtlICpwaXAqIHRvIGNv
bXBhcmUgdmVyc2lvbgpzdHJpbmdzIGFuZCBldmFsdWF0ZSBjb21wYXRpYmls
aXR5IGNvbnN0cmFpbnQgZGVjbGFyYXRpb25zLgoKVGhlIGBzZXR1cC5weSB2
ZXJzaW9uZWVyYCBjb21tYW5kIGFkZHMgdGhlIGZvbGxvd2luZyB0ZXh0IHRv
IHlvdXIKYF9faW5pdF9fLnB5YCB0byBwbGFjZSBhIGJhc2ljIHZlcnNpb24g
aW4gYFlPVVJQUk9KRUNULl9fdmVyc2lvbl9fYDoKCiAgICBmcm9tIC5fdmVy
c2lvbiBpbXBvcnQgZ2V0X3ZlcnNpb25zCiAgICBfX3ZlcnNpb25fXyA9IGdl
dF92ZXJzaW9ucygpWyd2ZXJzaW9uJ10KICAgIGRlbCBnZXRfdmVyc2lvbnMK
CiMjIFVwZGF0aW5nIFZlcnNpb25lZXIKClRvIHVwZ3JhZGUgeW91ciBwcm9q
ZWN0IHRvIGEgbmV3IHJlbGVhc2Ugb2YgVmVyc2lvbmVlciwgZG8gdGhlIGZv
bGxvd2luZzoKCiogaW5zdGFsbCB0aGUgbmV3IFZlcnNpb25lZXIgKGBwaXAg
aW5zdGFsbCAtVSB2ZXJzaW9uZWVyYCBvciBlcXVpdmFsZW50KQoqIHJlLXJ1
biBgdmVyc2lvbmVlci1pbnN0YWxsZXJgIGluIHlvdXIgc291cmNlIHRyZWUg
dG8gcmVwbGFjZSB5b3VyIGNvcHkgb2YKICBgdmVyc2lvbmVlci5weWAKKiBl
ZGl0IGBzZXR1cC5weWAsIGlmIG5lY2Vzc2FyeSwgdG8gaW5jbHVkZSBhbnkg
bmV3IGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MKICBpbmRpY2F0ZWQgYnkgdGhl
IHJlbGVhc2Ugbm90ZXMKKiByZS1ydW4gYHNldHVwLnB5IHZlcnNpb25lZXJg
IHRvIHJlcGxhY2UgYFNSQy9fdmVyc2lvbi5weWAKKiBjb21taXQgYW55IGNo
YW5nZWQgZmlsZXMKCiMjIyBVcGdyYWRpbmcgZnJvbSAwLjEwIHRvIDAuMTEK
CllvdSBtdXN0IGFkZCBhIGB2ZXJzaW9uZWVyLlZDUyA9ICJnaXQiYCB0byB5
b3VyIGBzZXR1cC5weWAgYmVmb3JlIHJlLXJ1bm5pbmcKYHNldHVwLnB5IHZl
cnNpb25lZXJgLiBUaGlzIHdpbGwgZW5hYmxlIHRoZSB1c2Ugb2YgYWRkaXRp
b25hbCB2ZXJzaW9uLWNvbnRyb2wKc3lzdGVtcyAoU1ZOLCBldGMpIGluIHRo
ZSBmdXR1cmUuCgojIyMgVXBncmFkaW5nIGZyb20gMC4xMSB0byAwLjEyCgpO
b3RoaW5nIHNwZWNpYWwuCgojIyBGdXR1cmUgRGlyZWN0aW9ucwoKVGhpcyB0
b29sIGlzIGRlc2lnbmVkIHRvIG1ha2UgaXQgZWFzaWx5IGV4dGVuZGVkIHRv
IG90aGVyIHZlcnNpb24tY29udHJvbApzeXN0ZW1zOiBhbGwgVkNTLXNwZWNp
ZmljIGNvbXBvbmVudHMgYXJlIGluIHNlcGFyYXRlIGRpcmVjdG9yaWVzIGxp
a2UKc3JjL2dpdC8gLiBUaGUgdG9wLWxldmVsIGB2ZXJzaW9uZWVyLnB5YCBz
Y3JpcHQgaXMgYXNzZW1ibGVkIGZyb20gdGhlc2UKY29tcG9uZW50cyBieSBy
dW5uaW5nIG1ha2UtdmVyc2lvbmVlci5weSAuIEluIHRoZSBmdXR1cmUsIG1h
a2UtdmVyc2lvbmVlci5weQp3aWxsIHRha2UgYSBWQ1MgbmFtZSBhcyBhbiBh
cmd1bWVudCwgYW5kIHdpbGwgY29uc3RydWN0IGEgdmVyc2lvbiBvZgpgdmVy
c2lvbmVlci5weWAgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGUgZ2l2ZW4gVkNT
LiBJdCBtaWdodCBhbHNvIHRha2UgdGhlCmNvbmZpZ3VyYXRpb24gYXJndW1l
bnRzIHRoYXQgYXJlIGN1cnJlbnRseSBwcm92aWRlZCBtYW51YWxseSBkdXJp
bmcKaW5zdGFsbGF0aW9uIGJ5IGVkaXRpbmcgc2V0dXAucHkgLiBBbHRlcm5h
dGl2ZWx5LCBpdCBtaWdodCBnbyB0aGUgb3RoZXIKZGlyZWN0aW9uIGFuZCBp
bmNsdWRlIGNvZGUgZnJvbSBhbGwgc3VwcG9ydGVkIFZDUyBzeXN0ZW1zLCBy
ZWR1Y2luZyB0aGUKbnVtYmVyIG9mIGludGVybWVkaWF0ZSBzY3JpcHRzLgoK
CiMjIExpY2Vuc2UKClRvIG1ha2UgVmVyc2lvbmVlciBlYXNpZXIgdG8gZW1i
ZWQsIGFsbCBpdHMgY29kZSBpcyBoZXJlYnkgcmVsZWFzZWQgaW50byB0aGUK
cHVibGljIGRvbWFpbi4gVGhlIGBfdmVyc2lvbi5weWAgdGhhdCBpdCBjcmVh
dGVzIGlzIGFsc28gaW4gdGhlIHB1YmxpYwpkb21haW4uCgoiIiIKCmltcG9y
dCBvcywgc3lzLCByZSwgc3VicHJvY2VzcywgZXJybm8KZnJvbSBkaXN0dXRp
bHMuY29yZSBpbXBvcnQgQ29tbWFuZApmcm9tIGRpc3R1dGlscy5jb21tYW5k
LnNkaXN0IGltcG9ydCBzZGlzdCBhcyBfc2Rpc3QKZnJvbSBkaXN0dXRpbHMu
Y29tbWFuZC5idWlsZCBpbXBvcnQgYnVpbGQgYXMgX2J1aWxkCgojIHRoZXNl
IGNvbmZpZ3VyYXRpb24gc2V0dGluZ3Mgd2lsbCBiZSBvdmVycmlkZGVuIGJ5
IHNldHVwLnB5IGFmdGVyIGl0CiMgaW1wb3J0cyB1cwp2ZXJzaW9uZmlsZV9z
b3VyY2UgPSBOb25lCnZlcnNpb25maWxlX2J1aWxkID0gTm9uZQp0YWdfcHJl
Zml4ID0gTm9uZQpwYXJlbnRkaXJfcHJlZml4ID0gTm9uZQpWQ1MgPSBOb25l
CgojIHRoZXNlIGRpY3Rpb25hcmllcyBjb250YWluIFZDUy1zcGVjaWZpYyB0
b29scwpMT05HX1ZFUlNJT05fUFkgPSB7fQoKZGVmIHJ1bl9jb21tYW5kKGNv
bW1hbmRzLCBhcmdzLCBjd2Q9Tm9uZSwgdmVyYm9zZT1GYWxzZSwgaGlkZV9z
dGRlcnI9RmFsc2UpOgogICAgYXNzZXJ0IGlzaW5zdGFuY2UoY29tbWFuZHMs
IGxpc3QpCiAgICBwID0gTm9uZQogICAgZm9yIGMgaW4gY29tbWFuZHM6CiAg
ICAgICAgdHJ5OgogICAgICAgICAgICAjIHJlbWVtYmVyIHNoZWxsPUZhbHNl
LCBzbyB1c2UgZ2l0LmNtZCBvbiB3aW5kb3dzLCBub3QganVzdCBnaXQKICAg
ICAgICAgICAgcCA9IHN1YnByb2Nlc3MuUG9wZW4oW2NdICsgYXJncywgY3dk
PWN3ZCwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RkZXJyPShzdWJwcm9jZXNzLlBJUEUgaWYg
aGlkZV9zdGRlcnIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBlbHNlIE5vbmUpKQogICAgICAgICAgICBicmVhawogICAgICAg
IGV4Y2VwdCBFbnZpcm9ubWVudEVycm9yOgogICAgICAgICAgICBlID0gc3lz
LmV4Y19pbmZvKClbMV0KICAgICAgICAgICAgaWYgZS5lcnJubyA9PSBlcnJu
by5FTk9FTlQ6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAg
ICBpZiB2ZXJib3NlOgogICAgICAgICAgICAgICAgcHJpbnQoInVuYWJsZSB0
byBydW4gJXMiICUgYXJnc1swXSkKICAgICAgICAgICAgICAgIHByaW50KGUp
CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICBlbHNlOgogICAgICAgIGlm
IHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJ1bmFibGUgdG8gZmluZCBj
b21tYW5kLCB0cmllZCAlcyIgJSAoY29tbWFuZHMsKSkKICAgICAgICByZXR1
cm4gTm9uZQogICAgc3Rkb3V0ID0gcC5jb21tdW5pY2F0ZSgpWzBdLnN0cmlw
KCkKICAgIGlmIHN5cy52ZXJzaW9uID49ICczJzoKICAgICAgICBzdGRvdXQg
PSBzdGRvdXQuZGVjb2RlKCkKICAgIGlmIHAucmV0dXJuY29kZSAhPSAwOgog
ICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJ1bmFibGUg
dG8gcnVuICVzIChlcnJvcikiICUgYXJnc1swXSkKICAgICAgICByZXR1cm4g
Tm9uZQogICAgcmV0dXJuIHN0ZG91dAoKTE9OR19WRVJTSU9OX1BZWydnaXQn
XSA9ICcnJwojIFRoaXMgZmlsZSBoZWxwcyB0byBjb21wdXRlIGEgdmVyc2lv
biBudW1iZXIgaW4gc291cmNlIHRyZWVzIG9idGFpbmVkIGZyb20KIyBnaXQt
YXJjaGl2ZSB0YXJiYWxsIChzdWNoIGFzIHRob3NlIHByb3ZpZGVkIGJ5IGdp
dGh1YnMgZG93bmxvYWQtZnJvbS10YWcKIyBmZWF0dXJlKS4gRGlzdHJpYnV0
aW9uIHRhcmJhbGxzIChidWlsdCBieSBzZXR1cC5weSBzZGlzdCkgYW5kIGJ1
aWxkCiMgZGlyZWN0b3JpZXMgKHByb2R1Y2VkIGJ5IHNldHVwLnB5IGJ1aWxk
KSB3aWxsIGNvbnRhaW4gYSBtdWNoIHNob3J0ZXIgZmlsZQojIHRoYXQganVz
dCBjb250YWlucyB0aGUgY29tcHV0ZWQgdmVyc2lvbiBudW1iZXIuCgojIFRo
aXMgZmlsZSBpcyByZWxlYXNlZCBpbnRvIHRoZSBwdWJsaWMgZG9tYWluLiBH
ZW5lcmF0ZWQgYnkKIyB2ZXJzaW9uZWVyLTAuMTIgKGh0dHBzOi8vZ2l0aHVi
LmNvbS93YXJuZXIvcHl0aG9uLXZlcnNpb25lZXIpCgojIHRoZXNlIHN0cmlu
Z3Mgd2lsbCBiZSByZXBsYWNlZCBieSBnaXQgZHVyaW5nIGdpdC1hcmNoaXZl
CmdpdF9yZWZuYW1lcyA9ICIlKERPTExBUilzRm9ybWF0OiUlZCUoRE9MTEFS
KXMiCmdpdF9mdWxsID0gIiUoRE9MTEFSKXNGb3JtYXQ6JSVIJShET0xMQVIp
cyIKCiMgdGhlc2Ugc3RyaW5ncyBhcmUgZmlsbGVkIGluIHdoZW4gJ3NldHVw
LnB5IHZlcnNpb25lZXInIGNyZWF0ZXMgX3ZlcnNpb24ucHkKdGFnX3ByZWZp
eCA9ICIlKFRBR19QUkVGSVgpcyIKcGFyZW50ZGlyX3ByZWZpeCA9ICIlKFBB
UkVOVERJUl9QUkVGSVgpcyIKdmVyc2lvbmZpbGVfc291cmNlID0gIiUoVkVS
U0lPTkZJTEVfU09VUkNFKXMiCgppbXBvcnQgb3MsIHN5cywgcmUsIHN1YnBy
b2Nlc3MsIGVycm5vCgpkZWYgcnVuX2NvbW1hbmQoY29tbWFuZHMsIGFyZ3Ms
IGN3ZD1Ob25lLCB2ZXJib3NlPUZhbHNlLCBoaWRlX3N0ZGVycj1GYWxzZSk6
CiAgICBhc3NlcnQgaXNpbnN0YW5jZShjb21tYW5kcywgbGlzdCkKICAgIHAg
PSBOb25lCiAgICBmb3IgYyBpbiBjb21tYW5kczoKICAgICAgICB0cnk6CiAg
ICAgICAgICAgICMgcmVtZW1iZXIgc2hlbGw9RmFsc2UsIHNvIHVzZSBnaXQu
Y21kIG9uIHdpbmRvd3MsIG5vdCBqdXN0IGdpdAogICAgICAgICAgICBwID0g
c3VicHJvY2Vzcy5Qb3BlbihbY10gKyBhcmdzLCBjd2Q9Y3dkLCBzdGRvdXQ9
c3VicHJvY2Vzcy5QSVBFLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdGRlcnI9KHN1YnByb2Nlc3MuUElQRSBpZiBoaWRlX3N0ZGVycgog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ug
Tm9uZSkpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZXhjZXB0IEVudmly
b25tZW50RXJyb3I6CiAgICAgICAgICAgIGUgPSBzeXMuZXhjX2luZm8oKVsx
XQogICAgICAgICAgICBpZiBlLmVycm5vID09IGVycm5vLkVOT0VOVDoKICAg
ICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGlmIHZlcmJvc2U6
CiAgICAgICAgICAgICAgICBwcmludCgidW5hYmxlIHRvIHJ1biAlJXMiICUl
IGFyZ3NbMF0pCiAgICAgICAgICAgICAgICBwcmludChlKQogICAgICAgICAg
ICByZXR1cm4gTm9uZQogICAgZWxzZToKICAgICAgICBpZiB2ZXJib3NlOgog
ICAgICAgICAgICBwcmludCgidW5hYmxlIHRvIGZpbmQgY29tbWFuZCwgdHJp
ZWQgJSVzIiAlJSAoY29tbWFuZHMsKSkKICAgICAgICByZXR1cm4gTm9uZQog
ICAgc3Rkb3V0ID0gcC5jb21tdW5pY2F0ZSgpWzBdLnN0cmlwKCkKICAgIGlm
IHN5cy52ZXJzaW9uID49ICczJzoKICAgICAgICBzdGRvdXQgPSBzdGRvdXQu
ZGVjb2RlKCkKICAgIGlmIHAucmV0dXJuY29kZSAhPSAwOgogICAgICAgIGlm
IHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJ1bmFibGUgdG8gcnVuICUl
cyAoZXJyb3IpIiAlJSBhcmdzWzBdKQogICAgICAgIHJldHVybiBOb25lCiAg
ICByZXR1cm4gc3Rkb3V0CgoKZGVmIHZlcnNpb25zX2Zyb21fcGFyZW50ZGly
KHBhcmVudGRpcl9wcmVmaXgsIHJvb3QsIHZlcmJvc2U9RmFsc2UpOgogICAg
IyBTb3VyY2UgdGFyYmFsbHMgY29udmVudGlvbmFsbHkgdW5wYWNrIGludG8g
YSBkaXJlY3RvcnkgdGhhdCBpbmNsdWRlcwogICAgIyBib3RoIHRoZSBwcm9q
ZWN0IG5hbWUgYW5kIGEgdmVyc2lvbiBzdHJpbmcuCiAgICBkaXJuYW1lID0g
b3MucGF0aC5iYXNlbmFtZShyb290KQogICAgaWYgbm90IGRpcm5hbWUuc3Rh
cnRzd2l0aChwYXJlbnRkaXJfcHJlZml4KToKICAgICAgICBpZiB2ZXJib3Nl
OgogICAgICAgICAgICBwcmludCgiZ3Vlc3Npbmcgcm9vdGRpciBpcyAnJSVz
JywgYnV0ICclJXMnIGRvZXNuJ3Qgc3RhcnQgd2l0aCBwcmVmaXggJyUlcyci
ICUlCiAgICAgICAgICAgICAgICAgIChyb290LCBkaXJuYW1lLCBwYXJlbnRk
aXJfcHJlZml4KSkKICAgICAgICByZXR1cm4gTm9uZQogICAgcmV0dXJuIHsi
dmVyc2lvbiI6IGRpcm5hbWVbbGVuKHBhcmVudGRpcl9wcmVmaXgpOl0sICJm
dWxsIjogIiJ9CgpkZWYgZ2l0X2dldF9rZXl3b3Jkcyh2ZXJzaW9uZmlsZV9h
YnMpOgogICAgIyB0aGUgY29kZSBlbWJlZGRlZCBpbiBfdmVyc2lvbi5weSBj
YW4ganVzdCBmZXRjaCB0aGUgdmFsdWUgb2YgdGhlc2UKICAgICMga2V5d29y
ZHMuIFdoZW4gdXNlZCBmcm9tIHNldHVwLnB5LCB3ZSBkb24ndCB3YW50IHRv
IGltcG9ydCBfdmVyc2lvbi5weSwKICAgICMgc28gd2UgZG8gaXQgd2l0aCBh
IHJlZ2V4cCBpbnN0ZWFkLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCB1c2VkIGZy
b20KICAgICMgX3ZlcnNpb24ucHkuCiAgICBrZXl3b3JkcyA9IHt9CiAgICB0
cnk6CiAgICAgICAgZiA9IG9wZW4odmVyc2lvbmZpbGVfYWJzLCJyIikKICAg
ICAgICBmb3IgbGluZSBpbiBmLnJlYWRsaW5lcygpOgogICAgICAgICAgICBp
ZiBsaW5lLnN0cmlwKCkuc3RhcnRzd2l0aCgiZ2l0X3JlZm5hbWVzID0iKToK
ICAgICAgICAgICAgICAgIG1vID0gcmUuc2VhcmNoKHInPVxzKiIoLiopIics
IGxpbmUpCiAgICAgICAgICAgICAgICBpZiBtbzoKICAgICAgICAgICAgICAg
ICAgICBrZXl3b3Jkc1sicmVmbmFtZXMiXSA9IG1vLmdyb3VwKDEpCiAgICAg
ICAgICAgIGlmIGxpbmUuc3RyaXAoKS5zdGFydHN3aXRoKCJnaXRfZnVsbCA9
Iik6CiAgICAgICAgICAgICAgICBtbyA9IHJlLnNlYXJjaChyJz1ccyoiKC4q
KSInLCBsaW5lKQogICAgICAgICAgICAgICAgaWYgbW86CiAgICAgICAgICAg
ICAgICAgICAga2V5d29yZHNbImZ1bGwiXSA9IG1vLmdyb3VwKDEpCiAgICAg
ICAgZi5jbG9zZSgpCiAgICBleGNlcHQgRW52aXJvbm1lbnRFcnJvcjoKICAg
ICAgICBwYXNzCiAgICByZXR1cm4ga2V5d29yZHMKCmRlZiBnaXRfdmVyc2lv
bnNfZnJvbV9rZXl3b3JkcyhrZXl3b3JkcywgdGFnX3ByZWZpeCwgdmVyYm9z
ZT1GYWxzZSk6CiAgICBpZiBub3Qga2V5d29yZHM6CiAgICAgICAgcmV0dXJu
IHt9ICMga2V5d29yZC1maW5kaW5nIGZ1bmN0aW9uIGZhaWxlZCB0byBmaW5k
IGtleXdvcmRzCiAgICByZWZuYW1lcyA9IGtleXdvcmRzWyJyZWZuYW1lcyJd
LnN0cmlwKCkKICAgIGlmIHJlZm5hbWVzLnN0YXJ0c3dpdGgoIiRGb3JtYXQi
KToKICAgICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICBwcmludCgia2V5
d29yZHMgYXJlIHVuZXhwYW5kZWQsIG5vdCB1c2luZyIpCiAgICAgICAgcmV0
dXJuIHt9ICMgdW5leHBhbmRlZCwgc28gbm90IGluIGFuIHVucGFja2VkIGdp
dC1hcmNoaXZlIHRhcmJhbGwKICAgIHJlZnMgPSBzZXQoW3Iuc3RyaXAoKSBm
b3IgciBpbiByZWZuYW1lcy5zdHJpcCgiKCkiKS5zcGxpdCgiLCIpXSkKICAg
ICMgc3RhcnRpbmcgaW4gZ2l0LTEuOC4zLCB0YWdzIGFyZSBsaXN0ZWQgYXMg
InRhZzogZm9vLTEuMCIgaW5zdGVhZCBvZgogICAgIyBqdXN0ICJmb28tMS4w
Ii4gSWYgd2Ugc2VlIGEgInRhZzogIiBwcmVmaXgsIHByZWZlciB0aG9zZS4K
ICAgIFRBRyA9ICJ0YWc6ICIKICAgIHRhZ3MgPSBzZXQoW3JbbGVuKFRBRyk6
XSBmb3IgciBpbiByZWZzIGlmIHIuc3RhcnRzd2l0aChUQUcpXSkKICAgIGlm
IG5vdCB0YWdzOgogICAgICAgICMgRWl0aGVyIHdlJ3JlIHVzaW5nIGdpdCA8
IDEuOC4zLCBvciB0aGVyZSByZWFsbHkgYXJlIG5vIHRhZ3MuIFdlIHVzZQog
ICAgICAgICMgYSBoZXVyaXN0aWM6IGFzc3VtZSBhbGwgdmVyc2lvbiB0YWdz
IGhhdmUgYSBkaWdpdC4gVGhlIG9sZCBnaXQgJSVkCiAgICAgICAgIyBleHBh
bnNpb24gYmVoYXZlcyBsaWtlIGdpdCBsb2cgLS1kZWNvcmF0ZT1zaG9ydCBh
bmQgc3RyaXBzIG91dCB0aGUKICAgICAgICAjIHJlZnMvaGVhZHMvIGFuZCBy
ZWZzL3RhZ3MvIHByZWZpeGVzIHRoYXQgd291bGQgbGV0IHVzIGRpc3Rpbmd1
aXNoCiAgICAgICAgIyBiZXR3ZWVuIGJyYW5jaGVzIGFuZCB0YWdzLiBCeSBp
Z25vcmluZyByZWZuYW1lcyB3aXRob3V0IGRpZ2l0cywgd2UKICAgICAgICAj
IGZpbHRlciBvdXQgbWFueSBjb21tb24gYnJhbmNoIG5hbWVzIGxpa2UgInJl
bGVhc2UiIGFuZAogICAgICAgICMgInN0YWJpbGl6YXRpb24iLCBhcyB3ZWxs
IGFzICJIRUFEIiBhbmQgIm1hc3RlciIuCiAgICAgICAgdGFncyA9IHNldChb
ciBmb3IgciBpbiByZWZzIGlmIHJlLnNlYXJjaChyJ1xkJywgcildKQogICAg
ICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJkaXNjYXJkaW5n
ICclJXMnLCBubyBkaWdpdHMiICUlICIsIi5qb2luKHJlZnMtdGFncykpCiAg
ICBpZiB2ZXJib3NlOgogICAgICAgIHByaW50KCJsaWtlbHkgdGFnczogJSVz
IiAlJSAiLCIuam9pbihzb3J0ZWQodGFncykpKQogICAgZm9yIHJlZiBpbiBz
b3J0ZWQodGFncyk6CiAgICAgICAgIyBzb3J0aW5nIHdpbGwgcHJlZmVyIGUu
Zy4gIjIuMCIgb3ZlciAiMi4wcmMxIgogICAgICAgIGlmIHJlZi5zdGFydHN3
aXRoKHRhZ19wcmVmaXgpOgogICAgICAgICAgICByID0gcmVmW2xlbih0YWdf
cHJlZml4KTpdCiAgICAgICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAg
ICAgICBwcmludCgicGlja2luZyAlJXMiICUlIHIpCiAgICAgICAgICAgIHJl
dHVybiB7ICJ2ZXJzaW9uIjogciwKICAgICAgICAgICAgICAgICAgICAgImZ1
bGwiOiBrZXl3b3Jkc1siZnVsbCJdLnN0cmlwKCkgfQogICAgIyBubyBzdWl0
YWJsZSB0YWdzLCBzbyB3ZSB1c2UgdGhlIGZ1bGwgcmV2aXNpb24gaWQKICAg
IGlmIHZlcmJvc2U6CiAgICAgICAgcHJpbnQoIm5vIHN1aXRhYmxlIHRhZ3Ms
IHVzaW5nIGZ1bGwgcmV2aXNpb24gaWQiKQogICAgcmV0dXJuIHsgInZlcnNp
b24iOiBrZXl3b3Jkc1siZnVsbCJdLnN0cmlwKCksCiAgICAgICAgICAgICAi
ZnVsbCI6IGtleXdvcmRzWyJmdWxsIl0uc3RyaXAoKSB9CgoKZGVmIGdpdF92
ZXJzaW9uc19mcm9tX3Zjcyh0YWdfcHJlZml4LCByb290LCB2ZXJib3NlPUZh
bHNlKToKICAgICMgdGhpcyBydW5zICdnaXQnIGZyb20gdGhlIHJvb3Qgb2Yg
dGhlIHNvdXJjZSB0cmVlLiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQKICAgICMg
aWYgdGhlIGdpdC1hcmNoaXZlICdzdWJzdCcga2V5d29yZHMgd2VyZSAqbm90
KiBleHBhbmRlZCwgYW5kCiAgICAjIF92ZXJzaW9uLnB5IGhhc24ndCBhbHJl
YWR5IGJlZW4gcmV3cml0dGVuIHdpdGggYSBzaG9ydCB2ZXJzaW9uIHN0cmlu
ZywKICAgICMgbWVhbmluZyB3ZSdyZSBpbnNpZGUgYSBjaGVja2VkIG91dCBz
b3VyY2UgdHJlZS4KCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMob3MucGF0
aC5qb2luKHJvb3QsICIuZ2l0IikpOgogICAgICAgIGlmIHZlcmJvc2U6CiAg
ICAgICAgICAgIHByaW50KCJubyAuZ2l0IGluICUlcyIgJSUgcm9vdCkKICAg
ICAgICByZXR1cm4ge30KCiAgICBHSVRTID0gWyJnaXQiXQogICAgaWYgc3lz
LnBsYXRmb3JtID09ICJ3aW4zMiI6CiAgICAgICAgR0lUUyA9IFsiZ2l0LmNt
ZCIsICJnaXQuZXhlIl0KICAgIHN0ZG91dCA9IHJ1bl9jb21tYW5kKEdJVFMs
IFsiZGVzY3JpYmUiLCAiLS10YWdzIiwgIi0tZGlydHkiLCAiLS1hbHdheXMi
XSwKICAgICAgICAgICAgICAgICAgICAgICAgIGN3ZD1yb290KQogICAgaWYg
c3Rkb3V0IGlzIE5vbmU6CiAgICAgICAgcmV0dXJuIHt9CiAgICBpZiBub3Qg
c3Rkb3V0LnN0YXJ0c3dpdGgodGFnX3ByZWZpeCk6CiAgICAgICAgaWYgdmVy
Ym9zZToKICAgICAgICAgICAgcHJpbnQoInRhZyAnJSVzJyBkb2Vzbid0IHN0
YXJ0IHdpdGggcHJlZml4ICclJXMnIiAlJSAoc3Rkb3V0LCB0YWdfcHJlZml4
KSkKICAgICAgICByZXR1cm4ge30KICAgIHRhZyA9IHN0ZG91dFtsZW4odGFn
X3ByZWZpeCk6XQogICAgc3Rkb3V0ID0gcnVuX2NvbW1hbmQoR0lUUywgWyJy
ZXYtcGFyc2UiLCAiSEVBRCJdLCBjd2Q9cm9vdCkKICAgIGlmIHN0ZG91dCBp
cyBOb25lOgogICAgICAgIHJldHVybiB7fQogICAgZnVsbCA9IHN0ZG91dC5z
dHJpcCgpCiAgICBpZiB0YWcuZW5kc3dpdGgoIi1kaXJ0eSIpOgogICAgICAg
IGZ1bGwgKz0gIi1kaXJ0eSIKICAgIHJldHVybiB7InZlcnNpb24iOiB0YWcs
ICJmdWxsIjogZnVsbH0KCgpkZWYgZ2V0X3ZlcnNpb25zKGRlZmF1bHQ9eyJ2
ZXJzaW9uIjogInVua25vd24iLCAiZnVsbCI6ICIifSwgdmVyYm9zZT1GYWxz
ZSk6CiAgICAjIEkgYW0gaW4gX3ZlcnNpb24ucHksIHdoaWNoIGxpdmVzIGF0
IFJPT1QvVkVSU0lPTkZJTEVfU09VUkNFLiBJZiB3ZSBoYXZlCiAgICAjIF9f
ZmlsZV9fLCB3ZSBjYW4gd29yayBiYWNrd2FyZHMgZnJvbSB0aGVyZSB0byB0
aGUgcm9vdC4gU29tZQogICAgIyBweTJleGUvYmJmcmVlemUvbm9uLUNQeXRo
b24gaW1wbGVtZW50YXRpb25zIGRvbid0IGRvIF9fZmlsZV9fLCBpbiB3aGlj
aAogICAgIyBjYXNlIHdlIGNhbiBvbmx5IHVzZSBleHBhbmRlZCBrZXl3b3Jk
cy4KCiAgICBrZXl3b3JkcyA9IHsgInJlZm5hbWVzIjogZ2l0X3JlZm5hbWVz
LCAiZnVsbCI6IGdpdF9mdWxsIH0KICAgIHZlciA9IGdpdF92ZXJzaW9uc19m
cm9tX2tleXdvcmRzKGtleXdvcmRzLCB0YWdfcHJlZml4LCB2ZXJib3NlKQog
ICAgaWYgdmVyOgogICAgICAgIHJldHVybiB2ZXIKCiAgICB0cnk6CiAgICAg
ICAgcm9vdCA9IG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykKICAgICAgICAj
IHZlcnNpb25maWxlX3NvdXJjZSBpcyB0aGUgcmVsYXRpdmUgcGF0aCBmcm9t
IHRoZSB0b3Agb2YgdGhlIHNvdXJjZQogICAgICAgICMgdHJlZSAod2hlcmUg
dGhlIC5naXQgZGlyZWN0b3J5IG1pZ2h0IGxpdmUpIHRvIHRoaXMgZmlsZS4g
SW52ZXJ0CiAgICAgICAgIyB0aGlzIHRvIGZpbmQgdGhlIHJvb3QgZnJvbSBf
X2ZpbGVfXy4KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odmVyc2lvbmZp
bGVfc291cmNlLnNwbGl0KG9zLnNlcCkpKToKICAgICAgICAgICAgcm9vdCA9
IG9zLnBhdGguZGlybmFtZShyb290KQogICAgZXhjZXB0IE5hbWVFcnJvcjoK
ICAgICAgICByZXR1cm4gZGVmYXVsdAoKICAgIHJldHVybiAoZ2l0X3ZlcnNp
b25zX2Zyb21fdmNzKHRhZ19wcmVmaXgsIHJvb3QsIHZlcmJvc2UpCiAgICAg
ICAgICAgIG9yIHZlcnNpb25zX2Zyb21fcGFyZW50ZGlyKHBhcmVudGRpcl9w
cmVmaXgsIHJvb3QsIHZlcmJvc2UpCiAgICAgICAgICAgIG9yIGRlZmF1bHQp
CicnJwoKZGVmIGdpdF9nZXRfa2V5d29yZHModmVyc2lvbmZpbGVfYWJzKToK
ICAgICMgdGhlIGNvZGUgZW1iZWRkZWQgaW4gX3ZlcnNpb24ucHkgY2FuIGp1
c3QgZmV0Y2ggdGhlIHZhbHVlIG9mIHRoZXNlCiAgICAjIGtleXdvcmRzLiBX
aGVuIHVzZWQgZnJvbSBzZXR1cC5weSwgd2UgZG9uJ3Qgd2FudCB0byBpbXBv
cnQgX3ZlcnNpb24ucHksCiAgICAjIHNvIHdlIGRvIGl0IHdpdGggYSByZWdl
eHAgaW5zdGVhZC4gVGhpcyBmdW5jdGlvbiBpcyBub3QgdXNlZCBmcm9tCiAg
ICAjIF92ZXJzaW9uLnB5LgogICAga2V5d29yZHMgPSB7fQogICAgdHJ5Ogog
ICAgICAgIGYgPSBvcGVuKHZlcnNpb25maWxlX2FicywiciIpCiAgICAgICAg
Zm9yIGxpbmUgaW4gZi5yZWFkbGluZXMoKToKICAgICAgICAgICAgaWYgbGlu
ZS5zdHJpcCgpLnN0YXJ0c3dpdGgoImdpdF9yZWZuYW1lcyA9Iik6CiAgICAg
ICAgICAgICAgICBtbyA9IHJlLnNlYXJjaChyJz1ccyoiKC4qKSInLCBsaW5l
KQogICAgICAgICAgICAgICAgaWYgbW86CiAgICAgICAgICAgICAgICAgICAg
a2V5d29yZHNbInJlZm5hbWVzIl0gPSBtby5ncm91cCgxKQogICAgICAgICAg
ICBpZiBsaW5lLnN0cmlwKCkuc3RhcnRzd2l0aCgiZ2l0X2Z1bGwgPSIpOgog
ICAgICAgICAgICAgICAgbW8gPSByZS5zZWFyY2gocic9XHMqIiguKikiJywg
bGluZSkKICAgICAgICAgICAgICAgIGlmIG1vOgogICAgICAgICAgICAgICAg
ICAgIGtleXdvcmRzWyJmdWxsIl0gPSBtby5ncm91cCgxKQogICAgICAgIGYu
Y2xvc2UoKQogICAgZXhjZXB0IEVudmlyb25tZW50RXJyb3I6CiAgICAgICAg
cGFzcwogICAgcmV0dXJuIGtleXdvcmRzCgpkZWYgZ2l0X3ZlcnNpb25zX2Zy
b21fa2V5d29yZHMoa2V5d29yZHMsIHRhZ19wcmVmaXgsIHZlcmJvc2U9RmFs
c2UpOgogICAgaWYgbm90IGtleXdvcmRzOgogICAgICAgIHJldHVybiB7fSAj
IGtleXdvcmQtZmluZGluZyBmdW5jdGlvbiBmYWlsZWQgdG8gZmluZCBrZXl3
b3JkcwogICAgcmVmbmFtZXMgPSBrZXl3b3Jkc1sicmVmbmFtZXMiXS5zdHJp
cCgpCiAgICBpZiByZWZuYW1lcy5zdGFydHN3aXRoKCIkRm9ybWF0Iik6CiAg
ICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoImtleXdvcmRz
IGFyZSB1bmV4cGFuZGVkLCBub3QgdXNpbmciKQogICAgICAgIHJldHVybiB7
fSAjIHVuZXhwYW5kZWQsIHNvIG5vdCBpbiBhbiB1bnBhY2tlZCBnaXQtYXJj
aGl2ZSB0YXJiYWxsCiAgICByZWZzID0gc2V0KFtyLnN0cmlwKCkgZm9yIHIg
aW4gcmVmbmFtZXMuc3RyaXAoIigpIikuc3BsaXQoIiwiKV0pCiAgICAjIHN0
YXJ0aW5nIGluIGdpdC0xLjguMywgdGFncyBhcmUgbGlzdGVkIGFzICJ0YWc6
IGZvby0xLjAiIGluc3RlYWQgb2YKICAgICMganVzdCAiZm9vLTEuMCIuIElm
IHdlIHNlZSBhICJ0YWc6ICIgcHJlZml4LCBwcmVmZXIgdGhvc2UuCiAgICBU
QUcgPSAidGFnOiAiCiAgICB0YWdzID0gc2V0KFtyW2xlbihUQUcpOl0gZm9y
IHIgaW4gcmVmcyBpZiByLnN0YXJ0c3dpdGgoVEFHKV0pCiAgICBpZiBub3Qg
dGFnczoKICAgICAgICAjIEVpdGhlciB3ZSdyZSB1c2luZyBnaXQgPCAxLjgu
Mywgb3IgdGhlcmUgcmVhbGx5IGFyZSBubyB0YWdzLiBXZSB1c2UKICAgICAg
ICAjIGEgaGV1cmlzdGljOiBhc3N1bWUgYWxsIHZlcnNpb24gdGFncyBoYXZl
IGEgZGlnaXQuIFRoZSBvbGQgZ2l0ICVkCiAgICAgICAgIyBleHBhbnNpb24g
YmVoYXZlcyBsaWtlIGdpdCBsb2cgLS1kZWNvcmF0ZT1zaG9ydCBhbmQgc3Ry
aXBzIG91dCB0aGUKICAgICAgICAjIHJlZnMvaGVhZHMvIGFuZCByZWZzL3Rh
Z3MvIHByZWZpeGVzIHRoYXQgd291bGQgbGV0IHVzIGRpc3Rpbmd1aXNoCiAg
ICAgICAgIyBiZXR3ZWVuIGJyYW5jaGVzIGFuZCB0YWdzLiBCeSBpZ25vcmlu
ZyByZWZuYW1lcyB3aXRob3V0IGRpZ2l0cywgd2UKICAgICAgICAjIGZpbHRl
ciBvdXQgbWFueSBjb21tb24gYnJhbmNoIG5hbWVzIGxpa2UgInJlbGVhc2Ui
IGFuZAogICAgICAgICMgInN0YWJpbGl6YXRpb24iLCBhcyB3ZWxsIGFzICJI
RUFEIiBhbmQgIm1hc3RlciIuCiAgICAgICAgdGFncyA9IHNldChbciBmb3Ig
ciBpbiByZWZzIGlmIHJlLnNlYXJjaChyJ1xkJywgcildKQogICAgICAgIGlm
IHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJkaXNjYXJkaW5nICclcycs
IG5vIGRpZ2l0cyIgJSAiLCIuam9pbihyZWZzLXRhZ3MpKQogICAgaWYgdmVy
Ym9zZToKICAgICAgICBwcmludCgibGlrZWx5IHRhZ3M6ICVzIiAlICIsIi5q
b2luKHNvcnRlZCh0YWdzKSkpCiAgICBmb3IgcmVmIGluIHNvcnRlZCh0YWdz
KToKICAgICAgICAjIHNvcnRpbmcgd2lsbCBwcmVmZXIgZS5nLiAiMi4wIiBv
dmVyICIyLjByYzEiCiAgICAgICAgaWYgcmVmLnN0YXJ0c3dpdGgodGFnX3By
ZWZpeCk6CiAgICAgICAgICAgIHIgPSByZWZbbGVuKHRhZ19wcmVmaXgpOl0K
ICAgICAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgICAgIHByaW50
KCJwaWNraW5nICVzIiAlIHIpCiAgICAgICAgICAgIHJldHVybiB7ICJ2ZXJz
aW9uIjogciwKICAgICAgICAgICAgICAgICAgICAgImZ1bGwiOiBrZXl3b3Jk
c1siZnVsbCJdLnN0cmlwKCkgfQogICAgIyBubyBzdWl0YWJsZSB0YWdzLCBz
byB3ZSB1c2UgdGhlIGZ1bGwgcmV2aXNpb24gaWQKICAgIGlmIHZlcmJvc2U6
CiAgICAgICAgcHJpbnQoIm5vIHN1aXRhYmxlIHRhZ3MsIHVzaW5nIGZ1bGwg
cmV2aXNpb24gaWQiKQogICAgcmV0dXJuIHsgInZlcnNpb24iOiBrZXl3b3Jk
c1siZnVsbCJdLnN0cmlwKCksCiAgICAgICAgICAgICAiZnVsbCI6IGtleXdv
cmRzWyJmdWxsIl0uc3RyaXAoKSB9CgoKZGVmIGdpdF92ZXJzaW9uc19mcm9t
X3Zjcyh0YWdfcHJlZml4LCByb290LCB2ZXJib3NlPUZhbHNlKToKICAgICMg
dGhpcyBydW5zICdnaXQnIGZyb20gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZSB0
cmVlLiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQKICAgICMgaWYgdGhlIGdpdC1h
cmNoaXZlICdzdWJzdCcga2V5d29yZHMgd2VyZSAqbm90KiBleHBhbmRlZCwg
YW5kCiAgICAjIF92ZXJzaW9uLnB5IGhhc24ndCBhbHJlYWR5IGJlZW4gcmV3
cml0dGVuIHdpdGggYSBzaG9ydCB2ZXJzaW9uIHN0cmluZywKICAgICMgbWVh
bmluZyB3ZSdyZSBpbnNpZGUgYSBjaGVja2VkIG91dCBzb3VyY2UgdHJlZS4K
CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMob3MucGF0aC5qb2luKHJvb3Qs
ICIuZ2l0IikpOgogICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHBy
aW50KCJubyAuZ2l0IGluICVzIiAlIHJvb3QpCiAgICAgICAgcmV0dXJuIHt9
CgogICAgR0lUUyA9IFsiZ2l0Il0KICAgIGlmIHN5cy5wbGF0Zm9ybSA9PSAi
d2luMzIiOgogICAgICAgIEdJVFMgPSBbImdpdC5jbWQiLCAiZ2l0LmV4ZSJd
CiAgICBzdGRvdXQgPSBydW5fY29tbWFuZChHSVRTLCBbImRlc2NyaWJlIiwg
Ii0tdGFncyIsICItLWRpcnR5IiwgIi0tYWx3YXlzIl0sCiAgICAgICAgICAg
ICAgICAgICAgICAgICBjd2Q9cm9vdCkKICAgIGlmIHN0ZG91dCBpcyBOb25l
OgogICAgICAgIHJldHVybiB7fQogICAgaWYgbm90IHN0ZG91dC5zdGFydHN3
aXRoKHRhZ19wcmVmaXgpOgogICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAg
ICAgIHByaW50KCJ0YWcgJyVzJyBkb2Vzbid0IHN0YXJ0IHdpdGggcHJlZml4
ICclcyciICUgKHN0ZG91dCwgdGFnX3ByZWZpeCkpCiAgICAgICAgcmV0dXJu
IHt9CiAgICB0YWcgPSBzdGRvdXRbbGVuKHRhZ19wcmVmaXgpOl0KICAgIHN0
ZG91dCA9IHJ1bl9jb21tYW5kKEdJVFMsIFsicmV2LXBhcnNlIiwgIkhFQUQi
XSwgY3dkPXJvb3QpCiAgICBpZiBzdGRvdXQgaXMgTm9uZToKICAgICAgICBy
ZXR1cm4ge30KICAgIGZ1bGwgPSBzdGRvdXQuc3RyaXAoKQogICAgaWYgdGFn
LmVuZHN3aXRoKCItZGlydHkiKToKICAgICAgICBmdWxsICs9ICItZGlydHki
CiAgICByZXR1cm4geyJ2ZXJzaW9uIjogdGFnLCAiZnVsbCI6IGZ1bGx9CgoK
ZGVmIGRvX3Zjc19pbnN0YWxsKG1hbmlmZXN0X2luLCB2ZXJzaW9uZmlsZV9z
b3VyY2UsIGlweSk6CiAgICBHSVRTID0gWyJnaXQiXQogICAgaWYgc3lzLnBs
YXRmb3JtID09ICJ3aW4zMiI6CiAgICAgICAgR0lUUyA9IFsiZ2l0LmNtZCIs
ICJnaXQuZXhlIl0KICAgIGZpbGVzID0gW21hbmlmZXN0X2luLCB2ZXJzaW9u
ZmlsZV9zb3VyY2VdCiAgICBpZiBpcHk6CiAgICAgICAgZmlsZXMuYXBwZW5k
KGlweSkKICAgIHRyeToKICAgICAgICBtZSA9IF9fZmlsZV9fCiAgICAgICAg
aWYgbWUuZW5kc3dpdGgoIi5weWMiKSBvciBtZS5lbmRzd2l0aCgiLnB5byIp
OgogICAgICAgICAgICBtZSA9IG9zLnBhdGguc3BsaXRleHQobWUpWzBdICsg
Ii5weSIKICAgICAgICB2ZXJzaW9uZWVyX2ZpbGUgPSBvcy5wYXRoLnJlbHBh
dGgobWUpCiAgICBleGNlcHQgTmFtZUVycm9yOgogICAgICAgIHZlcnNpb25l
ZXJfZmlsZSA9ICJ2ZXJzaW9uZWVyLnB5IgogICAgZmlsZXMuYXBwZW5kKHZl
cnNpb25lZXJfZmlsZSkKICAgIHByZXNlbnQgPSBGYWxzZQogICAgdHJ5Ogog
ICAgICAgIGYgPSBvcGVuKCIuZ2l0YXR0cmlidXRlcyIsICJyIikKICAgICAg
ICBmb3IgbGluZSBpbiBmLnJlYWRsaW5lcygpOgogICAgICAgICAgICBpZiBs
aW5lLnN0cmlwKCkuc3RhcnRzd2l0aCh2ZXJzaW9uZmlsZV9zb3VyY2UpOgog
ICAgICAgICAgICAgICAgaWYgImV4cG9ydC1zdWJzdCIgaW4gbGluZS5zdHJp
cCgpLnNwbGl0KClbMTpdOgogICAgICAgICAgICAgICAgICAgIHByZXNlbnQg
PSBUcnVlCiAgICAgICAgZi5jbG9zZSgpCiAgICBleGNlcHQgRW52aXJvbm1l
bnRFcnJvcjoKICAgICAgICBwYXNzCiAgICBpZiBub3QgcHJlc2VudDoKICAg
ICAgICBmID0gb3BlbigiLmdpdGF0dHJpYnV0ZXMiLCAiYSsiKQogICAgICAg
IGYud3JpdGUoIiVzIGV4cG9ydC1zdWJzdFxuIiAlIHZlcnNpb25maWxlX3Nv
dXJjZSkKICAgICAgICBmLmNsb3NlKCkKICAgICAgICBmaWxlcy5hcHBlbmQo
Ii5naXRhdHRyaWJ1dGVzIikKICAgIHJ1bl9jb21tYW5kKEdJVFMsIFsiYWRk
IiwgIi0tIl0gKyBmaWxlcykKCmRlZiB2ZXJzaW9uc19mcm9tX3BhcmVudGRp
cihwYXJlbnRkaXJfcHJlZml4LCByb290LCB2ZXJib3NlPUZhbHNlKToKICAg
ICMgU291cmNlIHRhcmJhbGxzIGNvbnZlbnRpb25hbGx5IHVucGFjayBpbnRv
IGEgZGlyZWN0b3J5IHRoYXQgaW5jbHVkZXMKICAgICMgYm90aCB0aGUgcHJv
amVjdCBuYW1lIGFuZCBhIHZlcnNpb24gc3RyaW5nLgogICAgZGlybmFtZSA9
IG9zLnBhdGguYmFzZW5hbWUocm9vdCkKICAgIGlmIG5vdCBkaXJuYW1lLnN0
YXJ0c3dpdGgocGFyZW50ZGlyX3ByZWZpeCk6CiAgICAgICAgaWYgdmVyYm9z
ZToKICAgICAgICAgICAgcHJpbnQoImd1ZXNzaW5nIHJvb3RkaXIgaXMgJyVz
JywgYnV0ICclcycgZG9lc24ndCBzdGFydCB3aXRoIHByZWZpeCAnJXMnIiAl
CiAgICAgICAgICAgICAgICAgIChyb290LCBkaXJuYW1lLCBwYXJlbnRkaXJf
cHJlZml4KSkKICAgICAgICByZXR1cm4gTm9uZQogICAgcmV0dXJuIHsidmVy
c2lvbiI6IGRpcm5hbWVbbGVuKHBhcmVudGRpcl9wcmVmaXgpOl0sICJmdWxs
IjogIiJ9CgpTSE9SVF9WRVJTSU9OX1BZID0gIiIiCiMgVGhpcyBmaWxlIHdh
cyBnZW5lcmF0ZWQgYnkgJ3ZlcnNpb25lZXIucHknICgwLjEyKSBmcm9tCiMg
cmV2aXNpb24tY29udHJvbCBzeXN0ZW0gZGF0YSwgb3IgZnJvbSB0aGUgcGFy
ZW50IGRpcmVjdG9yeSBuYW1lIG9mIGFuCiMgdW5wYWNrZWQgc291cmNlIGFy
Y2hpdmUuIERpc3RyaWJ1dGlvbiB0YXJiYWxscyBjb250YWluIGEgcHJlLWdl
bmVyYXRlZCBjb3B5CiMgb2YgdGhpcyBmaWxlLgoKdmVyc2lvbl92ZXJzaW9u
ID0gJyUodmVyc2lvbilzJwp2ZXJzaW9uX2Z1bGwgPSAnJShmdWxsKXMnCmRl
ZiBnZXRfdmVyc2lvbnMoZGVmYXVsdD17fSwgdmVyYm9zZT1GYWxzZSk6CiAg
ICByZXR1cm4geyd2ZXJzaW9uJzogdmVyc2lvbl92ZXJzaW9uLCAnZnVsbCc6
IHZlcnNpb25fZnVsbH0KCiIiIgoKREVGQVVMVCA9IHsidmVyc2lvbiI6ICJ1
bmtub3duIiwgImZ1bGwiOiAidW5rbm93biJ9CgpkZWYgdmVyc2lvbnNfZnJv
bV9maWxlKGZpbGVuYW1lKToKICAgIHZlcnNpb25zID0ge30KICAgIHRyeToK
ICAgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUpIGFzIGY6CiAgICAgICAgICAg
IGZvciBsaW5lIGluIGYucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICBt
byA9IHJlLm1hdGNoKCJ2ZXJzaW9uX3ZlcnNpb24gPSAnKFteJ10rKSciLCBs
aW5lKQogICAgICAgICAgICAgICAgaWYgbW86CiAgICAgICAgICAgICAgICAg
ICAgdmVyc2lvbnNbInZlcnNpb24iXSA9IG1vLmdyb3VwKDEpCiAgICAgICAg
ICAgICAgICBtbyA9IHJlLm1hdGNoKCJ2ZXJzaW9uX2Z1bGwgPSAnKFteJ10r
KSciLCBsaW5lKQogICAgICAgICAgICAgICAgaWYgbW86CiAgICAgICAgICAg
ICAgICAgICAgdmVyc2lvbnNbImZ1bGwiXSA9IG1vLmdyb3VwKDEpCiAgICBl
eGNlcHQgRW52aXJvbm1lbnRFcnJvcjoKICAgICAgICByZXR1cm4ge30KCiAg
ICByZXR1cm4gdmVyc2lvbnMKCmRlZiB3cml0ZV90b192ZXJzaW9uX2ZpbGUo
ZmlsZW5hbWUsIHZlcnNpb25zKToKICAgIHdpdGggb3BlbihmaWxlbmFtZSwg
InciKSBhcyBmOgogICAgICAgIGYud3JpdGUoU0hPUlRfVkVSU0lPTl9QWSAl
IHZlcnNpb25zKQoKICAgIHByaW50KCJzZXQgJXMgdG8gJyVzJyIgJSAoZmls
ZW5hbWUsIHZlcnNpb25zWyJ2ZXJzaW9uIl0pKQoKCmRlZiBnZXRfcm9vdCgp
OgogICAgdHJ5OgogICAgICAgIHJldHVybiBvcy5wYXRoLmRpcm5hbWUob3Mu
cGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkKICAgIGV4Y2VwdCBOYW1lRXJyb3I6
CiAgICAgICAgcmV0dXJuIG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3Bh
dGgoc3lzLmFyZ3ZbMF0pKQoKZGVmIHZjc19mdW5jdGlvbih2Y3MsIHN1ZmZp
eCk6CiAgICByZXR1cm4gZ2V0YXR0cihzeXMubW9kdWxlc1tfX25hbWVfX10s
ICclc18lcycgJSAodmNzLCBzdWZmaXgpLCBOb25lKQoKZGVmIGdldF92ZXJz
aW9ucyhkZWZhdWx0PURFRkFVTFQsIHZlcmJvc2U9RmFsc2UpOgogICAgIyBy
ZXR1cm5zIGRpY3Qgd2l0aCB0d28ga2V5czogJ3ZlcnNpb24nIGFuZCAnZnVs
bCcKICAgIGFzc2VydCB2ZXJzaW9uZmlsZV9zb3VyY2UgaXMgbm90IE5vbmUs
ICJwbGVhc2Ugc2V0IHZlcnNpb25lZXIudmVyc2lvbmZpbGVfc291cmNlIgog
ICAgYXNzZXJ0IHRhZ19wcmVmaXggaXMgbm90IE5vbmUsICJwbGVhc2Ugc2V0
IHZlcnNpb25lZXIudGFnX3ByZWZpeCIKICAgIGFzc2VydCBwYXJlbnRkaXJf
cHJlZml4IGlzIG5vdCBOb25lLCAicGxlYXNlIHNldCB2ZXJzaW9uZWVyLnBh
cmVudGRpcl9wcmVmaXgiCiAgICBhc3NlcnQgVkNTIGlzIG5vdCBOb25lLCAi
cGxlYXNlIHNldCB2ZXJzaW9uZWVyLlZDUyIKCiAgICAjIEkgYW0gaW4gdmVy
c2lvbmVlci5weSwgd2hpY2ggbXVzdCBsaXZlIGF0IHRoZSB0b3Agb2YgdGhl
IHNvdXJjZSB0cmVlLAogICAgIyB3aGljaCB3ZSB1c2UgdG8gY29tcHV0ZSB0
aGUgcm9vdCBkaXJlY3RvcnkuIHB5MmV4ZS9iYmZyZWV6ZS9ub24tQ1B5dGhv
bgogICAgIyBkb24ndCBoYXZlIF9fZmlsZV9fLCBpbiB3aGljaCBjYXNlIHdl
IGZhbGwgYmFjayB0byBzeXMuYXJndlswXSAod2hpY2gKICAgICMgb3VnaHQg
dG8gYmUgdGhlIHNldHVwLnB5IHNjcmlwdCkuIFdlIHByZWZlciBfX2ZpbGVf
XyBzaW5jZSB0aGF0J3MgbW9yZQogICAgIyByb2J1c3QgaW4gY2FzZXMgd2hl
cmUgc2V0dXAucHkgd2FzIGludm9rZWQgaW4gc29tZSB3ZWlyZCB3YXkgKGUu
Zy4gcGlwKQogICAgcm9vdCA9IGdldF9yb290KCkKICAgIHZlcnNpb25maWxl
X2FicyA9IG9zLnBhdGguam9pbihyb290LCB2ZXJzaW9uZmlsZV9zb3VyY2Up
CgogICAgIyBleHRyYWN0IHZlcnNpb24gZnJvbSBmaXJzdCBvZiBfdmVyc2lv
bi5weSwgVkNTIGNvbW1hbmQgKGUuZy4gJ2dpdAogICAgIyBkZXNjcmliZScp
LCBwYXJlbnRkaXIuIFRoaXMgaXMgbWVhbnQgdG8gd29yayBmb3IgZGV2ZWxv
cGVycyB1c2luZyBhCiAgICAjIHNvdXJjZSBjaGVja291dCwgZm9yIHVzZXJz
IG9mIGEgdGFyYmFsbCBjcmVhdGVkIGJ5ICdzZXR1cC5weSBzZGlzdCcsCiAg
ICAjIGFuZCBmb3IgdXNlcnMgb2YgYSB0YXJiYWxsL3ppcGJhbGwgY3JlYXRl
ZCBieSAnZ2l0IGFyY2hpdmUnIG9yIGdpdGh1YidzCiAgICAjIGRvd25sb2Fk
LWZyb20tdGFnIGZlYXR1cmUgb3IgdGhlIGVxdWl2YWxlbnQgaW4gb3RoZXIg
VkNTZXMuCgogICAgZ2V0X2tleXdvcmRzX2YgPSB2Y3NfZnVuY3Rpb24oVkNT
LCAiZ2V0X2tleXdvcmRzIikKICAgIHZlcnNpb25zX2Zyb21fa2V5d29yZHNf
ZiA9IHZjc19mdW5jdGlvbihWQ1MsICJ2ZXJzaW9uc19mcm9tX2tleXdvcmRz
IikKICAgIGlmIGdldF9rZXl3b3Jkc19mIGFuZCB2ZXJzaW9uc19mcm9tX2tl
eXdvcmRzX2Y6CiAgICAgICAgdmNzX2tleXdvcmRzID0gZ2V0X2tleXdvcmRz
X2YodmVyc2lvbmZpbGVfYWJzKQogICAgICAgIHZlciA9IHZlcnNpb25zX2Zy
b21fa2V5d29yZHNfZih2Y3Nfa2V5d29yZHMsIHRhZ19wcmVmaXgpCiAgICAg
ICAgaWYgdmVyOgogICAgICAgICAgICBpZiB2ZXJib3NlOiBwcmludCgiZ290
IHZlcnNpb24gZnJvbSBleHBhbmRlZCBrZXl3b3JkICVzIiAlIHZlcikKICAg
ICAgICAgICAgcmV0dXJuIHZlcgoKICAgIHZlciA9IHZlcnNpb25zX2Zyb21f
ZmlsZSh2ZXJzaW9uZmlsZV9hYnMpCiAgICBpZiB2ZXI6CiAgICAgICAgaWYg
dmVyYm9zZTogcHJpbnQoImdvdCB2ZXJzaW9uIGZyb20gZmlsZSAlcyAlcyIg
JSAodmVyc2lvbmZpbGVfYWJzLHZlcikpCiAgICAgICAgcmV0dXJuIHZlcgoK
ICAgIHZlcnNpb25zX2Zyb21fdmNzX2YgPSB2Y3NfZnVuY3Rpb24oVkNTLCAi
dmVyc2lvbnNfZnJvbV92Y3MiKQogICAgaWYgdmVyc2lvbnNfZnJvbV92Y3Nf
ZjoKICAgICAgICB2ZXIgPSB2ZXJzaW9uc19mcm9tX3Zjc19mKHRhZ19wcmVm
aXgsIHJvb3QsIHZlcmJvc2UpCiAgICAgICAgaWYgdmVyOgogICAgICAgICAg
ICBpZiB2ZXJib3NlOiBwcmludCgiZ290IHZlcnNpb24gZnJvbSBWQ1MgJXMi
ICUgdmVyKQogICAgICAgICAgICByZXR1cm4gdmVyCgogICAgdmVyID0gdmVy
c2lvbnNfZnJvbV9wYXJlbnRkaXIocGFyZW50ZGlyX3ByZWZpeCwgcm9vdCwg
dmVyYm9zZSkKICAgIGlmIHZlcjoKICAgICAgICBpZiB2ZXJib3NlOiBwcmlu
dCgiZ290IHZlcnNpb24gZnJvbSBwYXJlbnRkaXIgJXMiICUgdmVyKQogICAg
ICAgIHJldHVybiB2ZXIKCiAgICBpZiB2ZXJib3NlOiBwcmludCgiZ290IHZl
cnNpb24gZnJvbSBkZWZhdWx0ICVzIiAlIGRlZmF1bHQpCiAgICByZXR1cm4g
ZGVmYXVsdAoKZGVmIGdldF92ZXJzaW9uKHZlcmJvc2U9RmFsc2UpOgogICAg
cmV0dXJuIGdldF92ZXJzaW9ucyh2ZXJib3NlPXZlcmJvc2UpWyJ2ZXJzaW9u
Il0KCmNsYXNzIGNtZF92ZXJzaW9uKENvbW1hbmQpOgogICAgZGVzY3JpcHRp
b24gPSAicmVwb3J0IGdlbmVyYXRlZCB2ZXJzaW9uIHN0cmluZyIKICAgIHVz
ZXJfb3B0aW9ucyA9IFtdCiAgICBib29sZWFuX29wdGlvbnMgPSBbXQogICAg
ZGVmIGluaXRpYWxpemVfb3B0aW9ucyhzZWxmKToKICAgICAgICBwYXNzCiAg
ICBkZWYgZmluYWxpemVfb3B0aW9ucyhzZWxmKToKICAgICAgICBwYXNzCiAg
ICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHZlciA9IGdldF92ZXJzaW9uKHZl
cmJvc2U9VHJ1ZSkKICAgICAgICBwcmludCgiVmVyc2lvbiBpcyBjdXJyZW50
bHk6ICVzIiAlIHZlcikKCgpjbGFzcyBjbWRfYnVpbGQoX2J1aWxkKToKICAg
IGRlZiBydW4oc2VsZik6CiAgICAgICAgdmVyc2lvbnMgPSBnZXRfdmVyc2lv
bnModmVyYm9zZT1UcnVlKQogICAgICAgIF9idWlsZC5ydW4oc2VsZikKICAg
ICAgICAjIG5vdyBsb2NhdGUgX3ZlcnNpb24ucHkgaW4gdGhlIG5ldyBidWls
ZC8gZGlyZWN0b3J5IGFuZCByZXBsYWNlIGl0CiAgICAgICAgIyB3aXRoIGFu
IHVwZGF0ZWQgdmFsdWUKICAgICAgICBpZiB2ZXJzaW9uZmlsZV9idWlsZDoK
ICAgICAgICAgICAgdGFyZ2V0X3ZlcnNpb25maWxlID0gb3MucGF0aC5qb2lu
KHNlbGYuYnVpbGRfbGliLCB2ZXJzaW9uZmlsZV9idWlsZCkKICAgICAgICAg
ICAgcHJpbnQoIlVQREFUSU5HICVzIiAlIHRhcmdldF92ZXJzaW9uZmlsZSkK
ICAgICAgICAgICAgb3MudW5saW5rKHRhcmdldF92ZXJzaW9uZmlsZSkKICAg
ICAgICAgICAgd2l0aCBvcGVuKHRhcmdldF92ZXJzaW9uZmlsZSwgInciKSBh
cyBmOgogICAgICAgICAgICAgICAgZi53cml0ZShTSE9SVF9WRVJTSU9OX1BZ
ICUgdmVyc2lvbnMpCgppZiAnY3hfRnJlZXplJyBpbiBzeXMubW9kdWxlczog
ICMgY3hfZnJlZXplIGVuYWJsZWQ/CiAgICBmcm9tIGN4X0ZyZWV6ZS5kaXN0
IGltcG9ydCBidWlsZF9leGUgYXMgX2J1aWxkX2V4ZQoKICAgIGNsYXNzIGNt
ZF9idWlsZF9leGUoX2J1aWxkX2V4ZSk6CiAgICAgICAgZGVmIHJ1bihzZWxm
KToKICAgICAgICAgICAgdmVyc2lvbnMgPSBnZXRfdmVyc2lvbnModmVyYm9z
ZT1UcnVlKQogICAgICAgICAgICB0YXJnZXRfdmVyc2lvbmZpbGUgPSB2ZXJz
aW9uZmlsZV9zb3VyY2UKICAgICAgICAgICAgcHJpbnQoIlVQREFUSU5HICVz
IiAlIHRhcmdldF92ZXJzaW9uZmlsZSkKICAgICAgICAgICAgb3MudW5saW5r
KHRhcmdldF92ZXJzaW9uZmlsZSkKICAgICAgICAgICAgd2l0aCBvcGVuKHRh
cmdldF92ZXJzaW9uZmlsZSwgInciKSBhcyBmOgogICAgICAgICAgICAgICAg
Zi53cml0ZShTSE9SVF9WRVJTSU9OX1BZICUgdmVyc2lvbnMpCgogICAgICAg
ICAgICBfYnVpbGRfZXhlLnJ1bihzZWxmKQogICAgICAgICAgICBvcy51bmxp
bmsodGFyZ2V0X3ZlcnNpb25maWxlKQogICAgICAgICAgICB3aXRoIG9wZW4o
dmVyc2lvbmZpbGVfc291cmNlLCAidyIpIGFzIGY6CiAgICAgICAgICAgICAg
ICBhc3NlcnQgVkNTIGlzIG5vdCBOb25lLCAicGxlYXNlIHNldCB2ZXJzaW9u
ZWVyLlZDUyIKICAgICAgICAgICAgICAgIExPTkcgPSBMT05HX1ZFUlNJT05f
UFlbVkNTXQogICAgICAgICAgICAgICAgZi53cml0ZShMT05HICUgeyJET0xM
QVIiOiAiJCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRB
R19QUkVGSVgiOiB0YWdfcHJlZml4LAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJQQVJFTlRESVJfUFJFRklYIjogcGFyZW50ZGlyX3ByZWZp
eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVkVSU0lPTkZJ
TEVfU09VUkNFIjogdmVyc2lvbmZpbGVfc291cmNlLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIH0pCgpjbGFzcyBjbWRfc2Rpc3QoX3NkaXN0
KToKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgdmVyc2lvbnMgPSBnZXRf
dmVyc2lvbnModmVyYm9zZT1UcnVlKQogICAgICAgIHNlbGYuX3ZlcnNpb25l
ZXJfZ2VuZXJhdGVkX3ZlcnNpb25zID0gdmVyc2lvbnMKICAgICAgICAjIHVu
bGVzcyB3ZSB1cGRhdGUgdGhpcywgdGhlIGNvbW1hbmQgd2lsbCBrZWVwIHVz
aW5nIHRoZSBvbGQgdmVyc2lvbgogICAgICAgIHNlbGYuZGlzdHJpYnV0aW9u
Lm1ldGFkYXRhLnZlcnNpb24gPSB2ZXJzaW9uc1sidmVyc2lvbiJdCiAgICAg
ICAgcmV0dXJuIF9zZGlzdC5ydW4oc2VsZikKCiAgICBkZWYgbWFrZV9yZWxl
YXNlX3RyZWUoc2VsZiwgYmFzZV9kaXIsIGZpbGVzKToKICAgICAgICBfc2Rp
c3QubWFrZV9yZWxlYXNlX3RyZWUoc2VsZiwgYmFzZV9kaXIsIGZpbGVzKQog
ICAgICAgICMgbm93IGxvY2F0ZSBfdmVyc2lvbi5weSBpbiB0aGUgbmV3IGJh
c2VfZGlyIGRpcmVjdG9yeSAocmVtZW1iZXJpbmcKICAgICAgICAjIHRoYXQg
aXQgbWF5IGJlIGEgaGFyZGxpbmspIGFuZCByZXBsYWNlIGl0IHdpdGggYW4g
dXBkYXRlZCB2YWx1ZQogICAgICAgIHRhcmdldF92ZXJzaW9uZmlsZSA9IG9z
LnBhdGguam9pbihiYXNlX2RpciwgdmVyc2lvbmZpbGVfc291cmNlKQogICAg
ICAgIHByaW50KCJVUERBVElORyAlcyIgJSB0YXJnZXRfdmVyc2lvbmZpbGUp
CiAgICAgICAgb3MudW5saW5rKHRhcmdldF92ZXJzaW9uZmlsZSkKICAgICAg
ICB3aXRoIG9wZW4odGFyZ2V0X3ZlcnNpb25maWxlLCAidyIpIGFzIGY6CiAg
ICAgICAgICAgIGYud3JpdGUoU0hPUlRfVkVSU0lPTl9QWSAlIHNlbGYuX3Zl
cnNpb25lZXJfZ2VuZXJhdGVkX3ZlcnNpb25zKQoKSU5JVF9QWV9TTklQUEVU
ID0gIiIiCmZyb20gLl92ZXJzaW9uIGltcG9ydCBnZXRfdmVyc2lvbnMKX192
ZXJzaW9uX18gPSBnZXRfdmVyc2lvbnMoKVsndmVyc2lvbiddCmRlbCBnZXRf
dmVyc2lvbnMKIiIiCgpjbGFzcyBjbWRfdXBkYXRlX2ZpbGVzKENvbW1hbmQp
OgogICAgZGVzY3JpcHRpb24gPSAiaW5zdGFsbC91cGdyYWRlIFZlcnNpb25l
ZXIgZmlsZXM6IF9faW5pdF9fLnB5IFNSQy9fdmVyc2lvbi5weSIKICAgIHVz
ZXJfb3B0aW9ucyA9IFtdCiAgICBib29sZWFuX29wdGlvbnMgPSBbXQogICAg
ZGVmIGluaXRpYWxpemVfb3B0aW9ucyhzZWxmKToKICAgICAgICBwYXNzCiAg
ICBkZWYgZmluYWxpemVfb3B0aW9ucyhzZWxmKToKICAgICAgICBwYXNzCiAg
ICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHByaW50KCIgY3JlYXRpbmcgJXMi
ICUgdmVyc2lvbmZpbGVfc291cmNlKQogICAgICAgIHdpdGggb3Blbih2ZXJz
aW9uZmlsZV9zb3VyY2UsICJ3IikgYXMgZjoKICAgICAgICAgICAgYXNzZXJ0
IFZDUyBpcyBub3QgTm9uZSwgInBsZWFzZSBzZXQgdmVyc2lvbmVlci5WQ1Mi
CiAgICAgICAgICAgIExPTkcgPSBMT05HX1ZFUlNJT05fUFlbVkNTXQogICAg
ICAgICAgICBmLndyaXRlKExPTkcgJSB7IkRPTExBUiI6ICIkIiwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJUQUdfUFJFRklYIjogdGFnX3ByZWZp
eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQQVJFTlRESVJfUFJF
RklYIjogcGFyZW50ZGlyX3ByZWZpeCwKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICJWRVJTSU9ORklMRV9TT1VSQ0UiOiB2ZXJzaW9uZmlsZV9zb3Vy
Y2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICBp
cHkgPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKHZlcnNpb25maWxl
X3NvdXJjZSksICJfX2luaXRfXy5weSIpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoaXB5KToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAg
d2l0aCBvcGVuKGlweSwgInIiKSBhcyBmOgogICAgICAgICAgICAgICAgICAg
IG9sZCA9IGYucmVhZCgpCiAgICAgICAgICAgIGV4Y2VwdCBFbnZpcm9ubWVu
dEVycm9yOgogICAgICAgICAgICAgICAgb2xkID0gIiIKICAgICAgICAgICAg
aWYgSU5JVF9QWV9TTklQUEVUIG5vdCBpbiBvbGQ6CiAgICAgICAgICAgICAg
ICBwcmludCgiIGFwcGVuZGluZyB0byAlcyIgJSBpcHkpCiAgICAgICAgICAg
ICAgICB3aXRoIG9wZW4oaXB5LCAiYSIpIGFzIGY6CiAgICAgICAgICAgICAg
ICAgICAgZi53cml0ZShJTklUX1BZX1NOSVBQRVQpCiAgICAgICAgICAgIGVs
c2U6CiAgICAgICAgICAgICAgICBwcmludCgiICVzIHVubW9kaWZpZWQiICUg
aXB5KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCIgJXMgZG9l
c24ndCBleGlzdCwgb2siICUgaXB5KQogICAgICAgICAgICBpcHkgPSBOb25l
CgogICAgICAgICMgTWFrZSBzdXJlIGJvdGggdGhlIHRvcC1sZXZlbCAidmVy
c2lvbmVlci5weSIgYW5kIHZlcnNpb25maWxlX3NvdXJjZQogICAgICAgICMg
KFBLRy9fdmVyc2lvbi5weSwgdXNlZCBieSBydW50aW1lIGNvZGUpIGFyZSBp
biBNQU5JRkVTVC5pbiwgc28KICAgICAgICAjIHRoZXknbGwgYmUgY29waWVk
IGludG8gc291cmNlIGRpc3RyaWJ1dGlvbnMuIFBpcCB3b24ndCBiZSBhYmxl
IHRvCiAgICAgICAgIyBpbnN0YWxsIHRoZSBwYWNrYWdlIHdpdGhvdXQgdGhp
cy4KICAgICAgICBtYW5pZmVzdF9pbiA9IG9zLnBhdGguam9pbihnZXRfcm9v
dCgpLCAiTUFOSUZFU1QuaW4iKQogICAgICAgIHNpbXBsZV9pbmNsdWRlcyA9
IHNldCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4obWFu
aWZlc3RfaW4sICJyIikgYXMgZjoKICAgICAgICAgICAgICAgIGZvciBsaW5l
IGluIGY6CiAgICAgICAgICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRo
KCJpbmNsdWRlICIpOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW5j
bHVkZSBpbiBsaW5lLnNwbGl0KClbMTpdOgogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc2ltcGxlX2luY2x1ZGVzLmFkZChpbmNsdWRlKQogICAgICAg
IGV4Y2VwdCBFbnZpcm9ubWVudEVycm9yOgogICAgICAgICAgICBwYXNzCiAg
ICAgICAgIyBUaGF0IGRvZXNuJ3QgY292ZXIgZXZlcnl0aGluZyBNQU5JRkVT
VC5pbiBjYW4gZG8KICAgICAgICAjIChodHRwOi8vZG9jcy5weXRob24ub3Jn
LzIvZGlzdHV0aWxzL3NvdXJjZWRpc3QuaHRtbCNjb21tYW5kcyksIHNvCiAg
ICAgICAgIyBpdCBtaWdodCBnaXZlIHNvbWUgZmFsc2UgbmVnYXRpdmVzLiBB
cHBlbmRpbmcgcmVkdW5kYW50ICdpbmNsdWRlJwogICAgICAgICMgbGluZXMg
aXMgc2FmZSwgdGhvdWdoLgogICAgICAgIGlmICJ2ZXJzaW9uZWVyLnB5IiBu
b3QgaW4gc2ltcGxlX2luY2x1ZGVzOgogICAgICAgICAgICBwcmludCgiIGFw
cGVuZGluZyAndmVyc2lvbmVlci5weScgdG8gTUFOSUZFU1QuaW4iKQogICAg
ICAgICAgICB3aXRoIG9wZW4obWFuaWZlc3RfaW4sICJhIikgYXMgZjoKICAg
ICAgICAgICAgICAgIGYud3JpdGUoImluY2x1ZGUgdmVyc2lvbmVlci5weVxu
IikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgiICd2ZXJzaW9u
ZWVyLnB5JyBhbHJlYWR5IGluIE1BTklGRVNULmluIikKICAgICAgICBpZiB2
ZXJzaW9uZmlsZV9zb3VyY2Ugbm90IGluIHNpbXBsZV9pbmNsdWRlczoKICAg
ICAgICAgICAgcHJpbnQoIiBhcHBlbmRpbmcgdmVyc2lvbmZpbGVfc291cmNl
ICgnJXMnKSB0byBNQU5JRkVTVC5pbiIgJQogICAgICAgICAgICAgICAgICB2
ZXJzaW9uZmlsZV9zb3VyY2UpCiAgICAgICAgICAgIHdpdGggb3BlbihtYW5p
ZmVzdF9pbiwgImEiKSBhcyBmOgogICAgICAgICAgICAgICAgZi53cml0ZSgi
aW5jbHVkZSAlc1xuIiAlIHZlcnNpb25maWxlX3NvdXJjZSkKICAgICAgICBl
bHNlOgogICAgICAgICAgICBwcmludCgiIHZlcnNpb25maWxlX3NvdXJjZSBh
bHJlYWR5IGluIE1BTklGRVNULmluIikKCiAgICAgICAgIyBNYWtlIFZDUy1z
cGVjaWZpYyBjaGFuZ2VzLiBGb3IgZ2l0LCB0aGlzIG1lYW5zIGNyZWF0aW5n
L2NoYW5naW5nCiAgICAgICAgIyAuZ2l0YXR0cmlidXRlcyB0byBtYXJrIF92
ZXJzaW9uLnB5IGZvciBleHBvcnQtdGltZSBrZXl3b3JkCiAgICAgICAgIyBz
dWJzdGl0dXRpb24uCiAgICAgICAgZG9fdmNzX2luc3RhbGwobWFuaWZlc3Rf
aW4sIHZlcnNpb25maWxlX3NvdXJjZSwgaXB5KQoKZGVmIGdldF9jbWRjbGFz
cygpOgogICAgY21kcyA9IHsndmVyc2lvbic6IGNtZF92ZXJzaW9uLAogICAg
ICAgICAgICAndmVyc2lvbmVlcic6IGNtZF91cGRhdGVfZmlsZXMsCiAgICAg
ICAgICAgICdidWlsZCc6IGNtZF9idWlsZCwKICAgICAgICAgICAgJ3NkaXN0
JzogY21kX3NkaXN0LAogICAgICAgICAgICB9CiAgICBpZiAnY3hfRnJlZXpl
JyBpbiBzeXMubW9kdWxlczogICMgY3hfZnJlZXplIGVuYWJsZWQ/CiAgICAg
ICAgY21kc1snYnVpbGRfZXhlJ10gPSBjbWRfYnVpbGRfZXhlCiAgICAgICAg
ZGVsIGNtZHNbJ2J1aWxkJ10KCiAgICByZXR1cm4gY21kcwo=

"""

v = base64.b64decode(VERSIONEER_b64)
if os.path.exists("versioneer.py"):
    print("overwriting existing versioneer.py")
with open("versioneer.py", "wb") as f:
    f.write(v)
print("versioneer.py (0.12) installed into local tree")
print("Now please follow instructions in the docstring.")
