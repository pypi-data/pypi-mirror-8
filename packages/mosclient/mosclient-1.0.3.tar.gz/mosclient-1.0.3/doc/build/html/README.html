<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python SDK及客户端 &mdash; 美团云MOS Python SDK及客户端 20131014 文档</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '20131014',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="美团云MOS Python SDK及客户端 20131014 文档" href="index.html" />
    <link rel="next" title="SDK API文档" href="client.html" />
    <link rel="prev" title="美团云MOS Python SDK及客户端" href="index.html" />

  </head>
  <body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python-sdk">
<h1>Python SDK及客户端<a class="headerlink" href="#python-sdk" title="永久链接至标题">¶</a></h1>
<p><a class="reference external" href="http://mcsapi-python.readthedocs.org/zh_CN/latest/"><img alt="Documentation Status" src="https://readthedocs.org/projects/mcsapi-python/badge/?version=latest" /></a></p>
<p>我们提供了方便调用MOS API的Python SDK以及基于该SDK实现的客户端。</p>
<div class="section" id="id1">
<h2>安装<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<div class="section" id="pip">
<h3>使用pip安装<a class="headerlink" href="#pip" title="永久链接至标题">¶</a></h3>
<p>在命令行下可以直接使用pip进行安装:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo pip install mosclient
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>从源码安装<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>从 <a class="reference external" href="https://github.com/meituan/mcsapi_python/archive/master.zip">github下载最新版</a> 代码并解压，或者执行如下命令获取源码:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/meituan/mcsapi_python.git
</pre></div>
</div>
<p>进入mcsapi_python目录执行下述命令安装客户端可执行文件climos以及相应的python SDK:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install
</pre></div>
</div>
<p>访问MOS控制台的 <a class="reference external" href="https://mos.meituan.com/console/#api">API页面</a> 获得API入口URL、ACCESS Key和Secret。</p>
</div>
</div>
<div class="section" id="id3">
<h2>使用Python SDK<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>通过mosclient.client.Client生成客户端实例，API接口说明实现参见 <a class="reference external" href="http://mcsapi-python.readthedocs.org/zh_CN/latest/client.html">SDK API文档</a> 。</p>
<p>示例代码如下：</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">mosclient.client</span>

<span class="n">version</span> <span class="o">=</span> <span class="s">&#39;1&#39;</span>
<span class="n">key</span> <span class="o">=</span> <span class="s">&#39;MOS_ACCESS_KEY&#39;</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">&#39;MOS_ACCESS_SECRET&#39;</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&#39;https://mosapi.meituan.com/mcs/v1&#39;</span>
<span class="n">region</span> <span class="o">=</span> <span class="s">&#39;Beijing&#39;</span>

<span class="n">cli</span> <span class="o">=</span> <span class="n">mosclient</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>

<span class="n">balance</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">GetBalance</span><span class="p">()</span>
<span class="k">print</span> <span class="n">balance</span>
</pre></div>
</div>
</div>
<div class="section" id="python">
<h2>使用Python客户端<a class="headerlink" href="#python" title="永久链接至标题">¶</a></h2>
<p>安装客户端软件后，执行以下步骤开始使用MOS API Python客户端。</p>
<div class="section" id="id4">
<h3>设置环境变量<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>在MOS控制台 <a class="reference external" href="https://mos.meituan.com/console/#api">API页面</a> 获取个人的MOS ACCESS Key和Secret，以及API入口URL，同时需要配置要访问的区域(Region)。目前美团云只有一个Region，即&#8221;Beijing&#8221;。设置如下环境变量</p>
<div class="highlight-python"><div class="highlight"><pre>export MOS_ACCESS=4ba303cc17454cc7904e044db2a3c912
export MOS_SECRET=2952f821201341a38978ac4a4a292ce8
export MOS_URL=https://mosapi.meituan.com/mcs/v1
export MOS_REGION=Beijing
</pre></div>
</div>
</div>
<div class="section" id="climos">
<h3>执行climos客户端<a class="headerlink" href="#climos" title="永久链接至标题">¶</a></h3>
<p>climos是命令行的客户端工具，用户可以在终端运行，下面的示例是如何使用命令行创建一台机器：</p>
<div class="highlight-python"><div class="highlight"><pre># 输出climos命令行工具帮助信息
&gt; climos help

# 获取当前余额
&gt; climos GetBalance

# 列出所有可用的虚拟机镜像模板，选择一个模板，并记下模板ID，如8e76df8f-3476-4eed-8469-ed22daa1334c (templateID)
&gt; climos DescribeTemplates

# 列出所有可用的虚拟机类型，选择一个类型，并记下类型ID，如C1_M1 (instanceTypeID)
&gt; climos DescribeInstanceTypes

# 创建虚拟机，注意需要帐户中有足够余额
&gt; climos CreateInstance 8e76df8f-3476-4eed-8469-ed22daa1334c C1_M1
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
    <h3><a href="index.html">內容目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Python SDK及客户端</a><ul>
<li><a class="reference internal" href="#id1">安装</a><ul>
<li><a class="reference internal" href="#pip">使用pip安装</a></li>
<li><a class="reference internal" href="#id2">从源码安装</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">使用Python SDK</a></li>
<li><a class="reference internal" href="#python">使用Python客户端</a><ul>
<li><a class="reference internal" href="#id4">设置环境变量</a></li>
<li><a class="reference internal" href="#climos">执行climos客户端</a></li>
</ul>
</li>
</ul>
</li>
</ul>


  <h4>上一个主题</h4>
  <p class="topless"><a href="index.html"
                        title="上一章">美团云MOS Python SDK及客户端</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="client.html"
                        title="下一章">SDK API文档</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

  </body>
</html>