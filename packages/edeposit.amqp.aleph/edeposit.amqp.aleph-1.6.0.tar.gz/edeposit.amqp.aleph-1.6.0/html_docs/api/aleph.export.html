<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Export module &mdash; edeposit.amqp.aleph 1.6.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="edeposit.amqp.aleph 1.6.0 documentation" href="../index.html" />
    <link rel="up" title="aleph package" href="aleph.html" />
    <link rel="next" title="Settings and configuration" href="aleph.settings.html" />
    <link rel="prev" title="ISBN validation module" href="aleph.isbn.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aleph.settings.html" title="Settings and configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="aleph.isbn.html" title="ISBN validation module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">edeposit.amqp.aleph 1.6.0 documentation</a> &raquo;</li>
          <li><a href="aleph.html" accesskey="U">aleph package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-aleph.export">
<span id="export-module"></span><h1>Export module<a class="headerlink" href="#module-aleph.export" title="Permalink to this headline">¶</a></h1>
<p>This module is used to put data to Aleph. It is based on custom made webform,
which is currently used to report new books by publishers.</p>
<p>Most important function from this module is <a class="reference internal" href="#aleph.export.exportEPublication" title="aleph.export.exportEPublication"><tt class="xref py py-func docutils literal"><span class="pre">exportEPublication()</span></tt></a>,
which will do everything, that is needed to do, to export
<a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">EPublication</span></tt></a> structure to the Aleph.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This whole module is highly dependent on processes, which are defined as
import processes at the Czech National Library.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you want to use export ability in your library, you should rewrite this
and take care, that you are sending data somewhere, where someone will
process them. Otherwise, you can fill your library&#8217;s database with crap.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Source code of the webform is not available at this moment (it was created
by third party), but it is possible, that it will be in future. This will
highly depend on number of people, which will use this project.</p>
</div>
<dl class="exception">
<dt id="aleph.export.ExportException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">ExportException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#ExportException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="aleph.export.InvalidISBNException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">InvalidISBNException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#InvalidISBNException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.InvalidISBNException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="aleph.export.ExportRejectedException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">ExportRejectedException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#ExportRejectedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportRejectedException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="aleph.export.PostData">
<em class="property">class </em><tt class="descclassname">aleph.export.</tt><tt class="descname">PostData</tt><big>(</big><em>epub</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#PostData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to transform data from
<a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">EPublication</span></tt></a> to dictionary, which is sent as POST request to
Aleph third-party <a class="reference external" href="http://aleph.nkp.cz/F/?func=file&amp;file_name=service-isbn">webform</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Class is used instead of simple function, because there is 29 POST
parameters with internal dependencies, which need to be processed and
validated before they can be passed to webform.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<em>EPublication</em>) &#8211;
structure, which will be converted (see
<a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">EPublication</span></tt></a> for details).</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aleph.export.PostData._POST">
<tt class="descname">_POST</tt><em class="property"> dict</em><a class="headerlink" href="#aleph.export.PostData._POST" title="Permalink to this definition">¶</a></dt>
<dd><p>dictionary with parsed data</p>
</dd></dl>

<dl class="attribute">
<dt id="aleph.export.PostData.mapping">
<tt class="descname">mapping</tt><em class="property"> dict</em><a class="headerlink" href="#aleph.export.PostData.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>dictionary with some of mapping, which are applied to
<a class="reference internal" href="#aleph.export.PostData._POST" title="aleph.export.PostData._POST"><tt class="xref py py-attr docutils literal"><span class="pre">_POST</span></tt></a> dict in post processing</p>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t manipulate <a class="reference internal" href="#aleph.export.PostData._POST" title="aleph.export.PostData._POST"><tt class="xref py py-attr docutils literal"><span class="pre">_POST</span></tt></a> property directly, if you didn&#8217;t really
know the internal structure and how the <a class="reference internal" href="#aleph.export.PostData.mapping" title="aleph.export.PostData.mapping"><tt class="xref py py-attr docutils literal"><span class="pre">mapping</span></tt></a> is applied.</p>
</div>
<dl class="method">
<dt id="aleph.export.PostData.get_POST_data">
<tt class="descname">get_POST_data</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#PostData.get_POST_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData.get_POST_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><em>dict</em> &#8211;
POST data, which can be sent to webform using                   <a class="reference external" href="http://docs.python.org/2.7/library/urllib.html#module-urllib" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">urllib</span></tt></a> or similar library</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aleph.export.exportEPublication">
<tt class="descclassname">aleph.export.</tt><tt class="descname">exportEPublication</tt><big>(</big><em>epub</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#exportEPublication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.exportEPublication" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <cite>epub</cite> <a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">EPublication</span></tt></a> object to Aleph, where it will be
processed by librarians.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<em>EPublication</em>) &#8211;
structure for export</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The export function is expecting some of the EPublication properties to
be filled with non-blank data.</p>
<p>Specifically:</p>
<ul class="last simple">
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.ISBN" title="aleph.datastructures.epublication.EPublication.ISBN"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.ISBN</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.nazev" title="aleph.datastructures.epublication.EPublication.nazev"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.nazev</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.mistoVydani" title="aleph.datastructures.epublication.EPublication.mistoVydani"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.mistoVydani</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.datumVydani" title="aleph.datastructures.epublication.EPublication.datumVydani"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.datumVydani</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.poradiVydani" title="aleph.datastructures.epublication.EPublication.poradiVydani"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.poradiVydani</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.zpracovatelZaznamu" title="aleph.datastructures.epublication.EPublication.zpracovatelZaznamu"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.zpracovatelZaznamu</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.vazba" title="aleph.datastructures.epublication.EPublication.vazba"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.vazba</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.format" title="aleph.datastructures.epublication.EPublication.format"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.format</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.format" title="aleph.datastructures.epublication.EPublication.format"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.format</span></tt></a></li>
<li><a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication.nakladatelVydavatel" title="aleph.datastructures.epublication.EPublication.nakladatelVydavatel"><tt class="xref py py-attr docutils literal"><span class="pre">EPublication.nakladatelVydavatel</span></tt></a></li>
</ul>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/nkp_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="aleph.isbn.html"
                        title="previous chapter">ISBN validation module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="aleph.settings.html"
                        title="next chapter">Settings and configuration</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/aleph.export.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aleph.settings.html" title="Settings and configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="aleph.isbn.html" title="ISBN validation module"
             >previous</a> |</li>
        <li><a href="../index.html">edeposit.amqp.aleph 1.6.0 documentation</a> &raquo;</li>
          <li><a href="aleph.html" >aleph package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014 E-deposit team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>