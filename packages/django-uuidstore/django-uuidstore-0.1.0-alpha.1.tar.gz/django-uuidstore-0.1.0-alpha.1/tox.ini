[tox]
usedevelop = True
envlist =
    py27dj14,
    py27dj15,
    py27dj16,
    py27dj17,
    py34dj16,
    py34dj17,
    flake8,
    flake8,
    docs,

[testenv]
commands = python setup.py test

[testenv:py27dj14]
basepython = python2.7
deps =
    Django >= 1.4.2, < 1.5

[testenv:py27dj15]
basepython = python2.7
deps =
    Django >= 1.5, < 1.6

[testenv:py27dj16]
basepython = python2.7
deps =
    Django >= 1.6, < 1.7

[testenv:py27dj17]
basepython = python2.7
deps =
    Django >= 1.7, < 1.8

[testenv:py34dj16]
basepython = python3.4
deps =
    Django >= 1.6, < 1.7

[testenv:py34dj17]
basepython = python3.4
deps =
    Django >= 1.7, < 1.8

[flake8]
max_line_length=79
exclude = uuidstore/migrations/*,uuidstore/south_migrations/*

[testenv:flake8]
basepython = python
deps = 
    flake8
    django
commands = flake8 uuidstore example setup.py

[testenv:docs]
basepython = python
changedir = docs
deps = -r{toxinidir}/docs/requirements.txt
commands =
    sphinx-build -W -b html -d {envtmpdir}/doctrees . {envtmpdir}/html
