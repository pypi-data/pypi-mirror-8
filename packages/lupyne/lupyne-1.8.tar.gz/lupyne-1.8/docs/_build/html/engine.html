<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>engine &mdash; Lupyne 1.8 documentation</title>
    
    <link rel="stylesheet" href="_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Lupyne 1.8 documentation" href="index.html" />
    <link rel="next" title="server" href="server.html" />
    <link rel="prev" title="Lupyne’s documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="server.html" title="server"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Lupyne’s documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Lupyne 1.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-lupyne.engine">
<span id="engine"></span><h1>engine<a class="headerlink" href="#module-lupyne.engine" title="Permalink to this headline">¶</a></h1>
<p>Pythonic wrapper around <a class="reference external" href="http://lucene.apache.org/pylucene/">PyLucene</a> search engine.</p>
<p>Provides high-level interfaces to indexes and documents,
abstracting away java lucene primitives.</p>
<ul class="simple">
<li><a class="reference internal" href="#tokenfilter">TokenFilter</a>, <a class="reference internal" href="#analyzer">Analyzer</a>, <a class="reference internal" href="#indexsearcher">IndexSearcher</a>, <a class="reference internal" href="#multisearcher">MultiSearcher</a>, <a class="reference internal" href="#indexwriter">IndexWriter</a>, <a class="reference internal" href="#indexer">Indexer</a>, <a class="reference internal" href="#parallelindexer">ParallelIndexer</a></li>
<li><a class="reference internal" href="#document">Document</a>, <a class="reference internal" href="#field">Field</a>, <a class="reference internal" href="#mapfield">MapField</a>, <a class="reference internal" href="#nestedfield">NestedField</a>, <a class="reference internal" href="#docvaluesfield">DocValuesField</a>, <a class="reference internal" href="#numericfield">NumericField</a>, <a class="reference internal" href="#datetimefield">DateTimeField</a></li>
<li><a class="reference internal" href="#query">Query</a>, <a class="reference internal" href="#sortfield">SortField</a>, <a class="reference internal" href="#termsfilter">TermsFilter</a></li>
<li><a class="reference internal" href="#pointfield">PointField</a>, <a class="reference internal" href="#polygonfield">PolygonField</a></li>
</ul>
<div class="section" id="module-lupyne.engine.indexers">
<span id="indexers"></span><h2>indexers<a class="headerlink" href="#module-lupyne.engine.indexers" title="Permalink to this headline">¶</a></h2>
<p>Wrappers for lucene Index{Read,Search,Writ}ers.</p>
<p>The final <a class="reference internal" href="#indexer">Indexer</a> classes exposes a high-level Searcher and Writer.</p>
<div class="section" id="tokenstream">
<h3>TokenStream<a class="headerlink" href="#tokenstream" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.TokenStream">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">TokenStream</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream" title="Permalink to this definition">¶</a></dt>
<dd><p>TokenStream mixin with support for iteration and attributes cached as properties.</p>
<dl class="attribute">
<dt id="lupyne.engine.indexers.TokenStream.offset">
<tt class="descname">offset</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream.offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Start and stop character offset.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.TokenStream.payload">
<tt class="descname">payload</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream.payload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Payload bytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.TokenStream.positionIncrement">
<tt class="descname">positionIncrement</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream.positionIncrement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream.positionIncrement" title="Permalink to this definition">¶</a></dt>
<dd><p>Position relative to the previous token.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.TokenStream.term">
<tt class="descname">term</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream.term"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream.term" title="Permalink to this definition">¶</a></dt>
<dd><p>Term text.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.TokenStream.type">
<tt class="descname">type</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenStream.type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenStream.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Lexical type.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tokenfilter">
<h3>TokenFilter<a class="headerlink" href="#tokenfilter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.TokenFilter">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">TokenFilter</tt><big>(</big><em>input</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">PythonTokenFilter</span></tt>, <a class="reference internal" href="#lupyne.engine.indexers.TokenStream" title="lupyne.engine.indexers.TokenStream"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.indexers.TokenStream</span></tt></a></p>
<p>Create an iterable lucene TokenFilter from a TokenStream.
Subclass and override <a class="reference internal" href="#lupyne.engine.indexers.TokenFilter.incrementToken" title="lupyne.engine.indexers.TokenFilter.incrementToken"><tt class="xref py py-meth docutils literal"><span class="pre">incrementToken()</span></tt></a> or <a class="reference internal" href="#lupyne.engine.indexers.TokenFilter.setattrs" title="lupyne.engine.indexers.TokenFilter.setattrs"><tt class="xref py py-meth docutils literal"><span class="pre">setattrs()</span></tt></a>.</p>
<dl class="method">
<dt id="lupyne.engine.indexers.TokenFilter.incrementToken">
<tt class="descname">incrementToken</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenFilter.incrementToken"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenFilter.incrementToken" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance to next token and return whether the stream is not empty.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.TokenFilter.setattrs">
<tt class="descname">setattrs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#TokenFilter.setattrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.TokenFilter.setattrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Customize current token.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="analyzer">
<h3>Analyzer<a class="headerlink" href="#analyzer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.Analyzer">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">Analyzer</tt><big>(</big><em>tokenizer</em>, <em>*filters</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Analyzer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Analyzer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a lucene Analyzer which chains together a tokenizer and filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tokenizer</strong> &#8211; lucene Analyzer or Tokenizer factory</li>
<li><strong>filters</strong> &#8211; lucene TokenFilters</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.indexers.Analyzer.parse">
<tt class="descname">parse</tt><big>(</big><em>query</em>, <em>field=''</em>, <em>op=''</em>, <em>version=None</em>, <em>parser=None</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Analyzer.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Analyzer.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parsed lucene Query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; query string</li>
<li><strong>field</strong> &#8211; default query field name, sequence of names, or boost mapping</li>
<li><strong>op</strong> &#8211; default query operator (&#8216;or&#8217;, &#8216;and&#8217;)</li>
<li><strong>version</strong> &#8211; lucene Version</li>
<li><strong>parser</strong> &#8211; custom PythonQueryParser class</li>
<li><strong>attrs</strong> &#8211; additional attributes to set on the parser</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.Analyzer.tokens">
<tt class="descname">tokens</tt><big>(</big><em>text</em>, <em>field=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Analyzer.tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Analyzer.tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene TokenStream from text.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indexreader">
<h3>IndexReader<a class="headerlink" href="#indexreader" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.IndexReader">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">IndexReader</tt><big>(</big><em>reader</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Delegated lucene IndexReader, with a mapping interface of ids to document objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reader</strong> &#8211; lucene IndexReader</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.__contains__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.__contains__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.copy">
<tt class="descname">copy</tt><big>(</big><em>dest</em>, <em>query=None</em>, <em>exclude=None</em>, <em>merge=0</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the index to the destination directory.
Optimized to use hard links if the destination is a file system path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dest</strong> &#8211; destination directory path or lucene Directory</li>
<li><strong>query</strong> &#8211; optional lucene Query to select documents</li>
<li><strong>exclude</strong> &#8211; optional lucene Query to exclude documents</li>
<li><strong>merge</strong> &#8211; optionally merge into maximum number of segments</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexReader.directory">
<tt class="descname">directory</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.directory" title="Permalink to this definition">¶</a></dt>
<dd><p>reader&#8217;s lucene Directory</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.docs">
<tt class="descname">docs</tt><big>(</big><em>name</em>, <em>value</em>, <em>counts=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate doc ids which contain given term, optionally with frequency counts.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.morelikethis">
<tt class="descname">morelikethis</tt><big>(</big><em>doc</em>, <em>*fields</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.morelikethis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.morelikethis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MoreLikeThis query for document.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>doc</strong> &#8211; document id or text</li>
<li><strong>fields</strong> &#8211; document fields to use, optional for termvectors</li>
<li><strong>attrs</strong> &#8211; additional attributes to set on the morelikethis object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.names">
<tt class="descname">names</tt><big>(</big><em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return field names, given option description.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.2: </span>lucene requires FieldInfo filter attributes instead of option</p>
</div>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.numbers">
<tt class="descname">numbers</tt><big>(</big><em>name</em>, <em>step=0</em>, <em>type=&lt;type 'int'&gt;</em>, <em>counts=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate decoded numeric term values, optionally with frequency counts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; field name</li>
<li><strong>step</strong> &#8211; precision step to select terms</li>
<li><strong>type</strong> &#8211; int or float</li>
<li><strong>counts</strong> &#8211; include frequency counts</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexReader.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.path" title="Permalink to this definition">¶</a></dt>
<dd><p>FSDirectory path</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.positions">
<tt class="descname">positions</tt><big>(</big><em>name</em>, <em>value</em>, <em>payloads=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate doc ids and positions which contain given term, optionally only with payloads.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.positionvector">
<tt class="descname">positionvector</tt><big>(</big><em>id</em>, <em>field</em>, <em>offsets=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.positionvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.positionvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate terms and positions for given doc id and field, optionally with character offsets.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexReader.readers">
<tt class="descname">readers</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.readers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.readers" title="Permalink to this definition">¶</a></dt>
<dd><p>segment readers</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexReader.segments">
<tt class="descname">segments</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.segments" title="Permalink to this definition">¶</a></dt>
<dd><p>segment filenames with document counts</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.spans">
<tt class="descname">spans</tt><big>(</big><em>query</em>, <em>positions=False</em>, <em>payloads=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.spans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.spans" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate docs with occurrence counts for a span query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; lucene SpanQuery</li>
<li><strong>positions</strong> &#8211; optionally include slice positions instead of counts</li>
<li><strong>payloads</strong> &#8211; optionally only include slice positions with payloads</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.terms">
<tt class="descname">terms</tt><big>(</big><em>name</em>, <em>value=''</em>, <em>stop=None</em>, <em>counts=False</em>, <em>distance=0</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a slice of term values, optionally with frequency counts.
Supports a range of terms, wildcard terms, or fuzzy terms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; field name</li>
<li><strong>value</strong> &#8211; term prefix or lower bound for range terms</li>
<li><strong>stop</strong> &#8211; optional upper bound for range terms</li>
<li><strong>counts</strong> &#8211; include frequency counts</li>
<li><strong>distance</strong> &#8211; maximum edit distance for fuzzy terms</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexReader.termvector">
<tt class="descname">termvector</tt><big>(</big><em>id</em>, <em>field</em>, <em>counts=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.termvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.termvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate terms for given doc id and field, optionally with frequency counts.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexReader.timestamp">
<tt class="descname">timestamp</tt><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexReader.timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexReader.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>timestamp of reader&#8217;s last commit</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indexsearcher">
<h3>IndexSearcher<a class="headerlink" href="#indexsearcher" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.IndexSearcher">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">IndexSearcher</tt><big>(</big><em>directory</em>, <em>analyzer=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher" title="lupyne.engine.indexers.IndexSearcher"><tt class="xref py py-class docutils literal"><span class="pre">IndexSearcher</span></tt></a>, <a class="reference internal" href="#lupyne.engine.indexers.IndexReader" title="lupyne.engine.indexers.IndexReader"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.indexers.IndexReader</span></tt></a></p>
<p>Inherited lucene IndexSearcher, with a mixed-in IndexReader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>directory</strong> &#8211; directory path, lucene Directory, or lucene IndexReader</li>
<li><strong>analyzer</strong> &#8211; lucene Analyzer, default StandardAnalyzer</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#document">Document</a>.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.__del__">
<tt class="descname">__del__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes index.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexSearcher.filters">
<tt class="descname">filters</tt><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of cached filters by field, also used for facet counts.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexSearcher.sorters">
<tt class="descname">sorters</tt><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.sorters" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of cached sorters by field and associated parsers.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexSearcher.spellcheckers">
<tt class="descname">spellcheckers</tt><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.spellcheckers" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of cached spellcheckers by field.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexSearcher.termsfilters">
<tt class="descname">termsfilters</tt><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.termsfilters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of registered termsfilters.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.comparator">
<tt class="descname">comparator</tt><big>(</big><em>field</em>, <em>type='string'</em>, <em>parser=None</em>, <em>multi=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.comparator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.comparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return cache of field values suitable for sorting, using a cached <a class="reference internal" href="#sortfield">SortField</a> if available.
Parsing values into an array is memory optimized.
Map values into a list for speed optimization.
Comparators are not thread-safe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; field name</li>
<li><strong>type</strong> &#8211; type object or name compatible with FieldCache</li>
<li><strong>parser</strong> &#8211; lucene FieldCache.Parser or callable applied to field values</li>
<li><strong>multi</strong> &#8211; retrieve multi-valued string terms as a tuple</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.correct">
<tt class="descname">correct</tt><big>(</big><em>field</em>, <em>text</em>, <em>distance=2</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate potential words ordered by increasing edit distance and decreasing frequency.
For optimal performance only iterate the required slice size of corrections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>distance</strong> &#8211; the maximum edit distance to consider for enumeration</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.count">
<tt class="descname">count</tt><big>(</big><em>*query</em>, <em>**options</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of hits for given query or term.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.search" title="lupyne.engine.indexers.IndexSearcher.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a> compatible query, or optimally a name and value</li>
<li><strong>options</strong> &#8211; additional <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.search" title="lupyne.engine.indexers.IndexSearcher.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a> options</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.distances">
<tt class="descname">distances</tt><big>(</big><em>lng</em>, <em>lat</em>, <em>lngfield</em>, <em>latfield</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.distances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Return distance comparator computed from cached lat/lng fields.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.facets">
<tt class="descname">facets</tt><big>(</big><em>query</em>, <em>*keys</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return mapping of document counts for the intersection with each facet.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.6: </span>filters are no longer implicitly cached, a <a class="reference internal" href="#groupingsearch">GroupingSearch</a> is used instead</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; query string, lucene Query, or lucene Filter</li>
<li><strong>keys</strong> &#8211; field names, term tuples, or any keys to previously cached filters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.get">
<tt class="descname">get</tt><big>(</big><em>id</em>, <em>*fields</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#document">Document</a> with only selected fields loaded.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.groupby">
<tt class="descname">groupby</tt><big>(</big><em>field</em>, <em>query</em>, <em>filter=None</em>, <em>count=None</em>, <em>start=0</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.groupby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#hits">Hits</a> grouped by field using a <a class="reference internal" href="#groupingsearch">GroupingSearch</a>.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.highlighter">
<tt class="descname">highlighter</tt><big>(</big><em>query</em>, <em>field</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.highlighter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.highlighter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#highlighter">Highlighter</a> or if applicable <a class="reference internal" href="#fastvectorhighlighter">FastVectorHighlighter</a> specific to searcher and query.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.indexers.IndexSearcher.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>directory</em>, <em>analyzer=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Open <a class="reference internal" href="#indexsearcher">IndexSearcher</a> with a lucene RAMDirectory, loading index into memory.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.match">
<tt class="descname">match</tt><big>(</big><em>document</em>, <em>*queries</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate scores for all queries against a given document mapping.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.reopen">
<tt class="descname">reopen</tt><big>(</big><em>filters=False</em>, <em>sorters=False</em>, <em>spellcheckers=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.reopen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.reopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current <a class="reference internal" href="#indexsearcher">IndexSearcher</a>, only creating a new one if necessary.
Any registered <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.termsfilters" title="lupyne.engine.indexers.IndexSearcher.termsfilters"><tt class="xref py py-attr docutils literal"><span class="pre">termsfilters</span></tt></a> are also refreshed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filters</strong> &#8211; refresh cached facet <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.filters" title="lupyne.engine.indexers.IndexSearcher.filters"><tt class="xref py py-attr docutils literal"><span class="pre">filters</span></tt></a></li>
<li><strong>sorters</strong> &#8211; refresh cached <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.sorters" title="lupyne.engine.indexers.IndexSearcher.sorters"><tt class="xref py py-attr docutils literal"><span class="pre">sorters</span></tt></a> with associated parsers</li>
<li><strong>spellcheckers</strong> &#8211; refresh cached <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.spellcheckers" title="lupyne.engine.indexers.IndexSearcher.spellcheckers"><tt class="xref py py-attr docutils literal"><span class="pre">spellcheckers</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.search">
<tt class="descname">search</tt><big>(</big><em>query=None</em>, <em>filter=None</em>, <em>count=None</em>, <em>sort=None</em>, <em>reverse=False</em>, <em>scores=False</em>, <em>maxscore=False</em>, <em>timeout=None</em>, <em>**parser</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Run query and return <a class="reference internal" href="#hits">Hits</a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.4: </span>sort param for lucene only;  use Hits.sorted with a callable</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; query string or lucene Query</li>
<li><strong>filter</strong> &#8211; lucene Filter</li>
<li><strong>count</strong> &#8211; maximum number of hits to retrieve</li>
<li><strong>sort</strong> &#8211; lucene Sort parameters</li>
<li><strong>reverse</strong> &#8211; reverse flag used with sort</li>
<li><strong>scores</strong> &#8211; compute scores for candidate results when sorting</li>
<li><strong>maxscore</strong> &#8211; compute maximum score of all results when sorting</li>
<li><strong>timeout</strong> &#8211; stop search after elapsed number of seconds</li>
<li><strong>parser</strong> &#8211; <a class="reference internal" href="#lupyne.engine.indexers.Analyzer.parse" title="lupyne.engine.indexers.Analyzer.parse"><tt class="xref py py-meth docutils literal"><span class="pre">Analyzer.parse()</span></tt></a> options</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.sorter">
<tt class="descname">sorter</tt><big>(</big><em>field</em>, <em>type='string'</em>, <em>parser=None</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.sorter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.sorter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#sortfield">SortField</a> with cached attributes if available.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.spellchecker">
<tt class="descname">spellchecker</tt><big>(</big><em>field</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.spellchecker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.spellchecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Return and cache spellchecker for given field.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.suggest">
<tt class="descname">suggest</tt><big>(</big><em>field</em>, <em>prefix</em>, <em>count=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.suggest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.suggest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered suggested words for prefix.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexSearcher.termsfilter">
<tt class="descname">termsfilter</tt><big>(</big><em>field</em>, <em>values=()</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexSearcher.termsfilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexSearcher.termsfilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return registered <a class="reference internal" href="#termsfilter">TermsFilter</a>, which will be refreshed whenever the searcher is reopened.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.7.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This interface is experimental and might change in incompatible ways in the next release.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="multisearcher">
<h3>MultiSearcher<a class="headerlink" href="#multisearcher" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.MultiSearcher">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">MultiSearcher</tt><big>(</big><em>reader</em>, <em>analyzer=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#MultiSearcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.MultiSearcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher" title="lupyne.engine.indexers.IndexSearcher"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.indexers.IndexSearcher</span></tt></a></p>
<p>IndexSearcher with underlying lucene MultiReader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>reader</strong> &#8211; directory paths, Directories, IndexReaders, or a single MultiReader</li>
<li><strong>analyzer</strong> &#8211; lucene Analyzer, default StandardAnalyzer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="indexwriter">
<h3>IndexWriter<a class="headerlink" href="#indexwriter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.IndexWriter">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">IndexWriter</tt><big>(</big><em>directory=None</em>, <em>mode='a'</em>, <em>analyzer=None</em>, <em>version=None</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.indexers.IndexWriter" title="lupyne.engine.indexers.IndexWriter"><tt class="xref py py-class docutils literal"><span class="pre">IndexWriter</span></tt></a></p>
<p>Inherited lucene IndexWriter.
Supports setting fields parameters explicitly, so documents can be represented as dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>directory</strong> &#8211; directory path or lucene Directory, default RAMDirectory</li>
<li><strong>mode</strong> &#8211; file mode (rwa), except updating (+) is implied</li>
<li><strong>analyzer</strong> &#8211; lucene Analyzer, default StandardAnalyzer</li>
<li><strong>version</strong> &#8211; lucene Version argument passed to IndexWriterConfig or StandardAnalyzer, default is latest</li>
<li><strong>attrs</strong> &#8211; additional attributes to set on IndexWriterConfig</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lupyne.engine.indexers.IndexWriter.fields">
<tt class="descname">fields</tt><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of assigned fields.  May be used directly, instead of <a class="reference internal" href="#lupyne.engine.indexers.IndexWriter.set" title="lupyne.engine.indexers.IndexWriter.set"><tt class="xref py py-meth docutils literal"><span class="pre">set()</span></tt></a> method, for further customization.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.__del__">
<tt class="descname">__del__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes index.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.__iadd__">
<tt class="descname">__iadd__</tt><big>(</big><em>directory</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.__iadd__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.__iadd__" title="Permalink to this definition">¶</a></dt>
<dd><p>Add directory (or reader, searcher, writer) to index.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.add">
<tt class="descname">add</tt><big>(</big><em>document=()</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <a class="reference internal" href="#lupyne.engine.indexers.IndexWriter.document" title="lupyne.engine.indexers.IndexWriter.document"><tt class="xref py py-meth docutils literal"><span class="pre">document()</span></tt></a> to index with optional boost.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.indexers.IndexWriter.check">
<em class="property">classmethod </em><tt class="descname">check</tt><big>(</big><em>directory</em>, <em>fix=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check and optionally fix unlocked index, returning lucene CheckIndex.Status.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.delete">
<tt class="descname">delete</tt><big>(</big><em>*query</em>, <em>**options</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove documents which match given query or term.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> &#8211; <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.search" title="lupyne.engine.indexers.IndexSearcher.search"><tt class="xref py py-meth docutils literal"><span class="pre">IndexSearcher.search()</span></tt></a> compatible query, or optimally a name and value</li>
<li><strong>options</strong> &#8211; additional <a class="reference internal" href="#lupyne.engine.indexers.Analyzer.parse" title="lupyne.engine.indexers.Analyzer.parse"><tt class="xref py py-meth docutils literal"><span class="pre">Analyzer.parse()</span></tt></a> options</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.document">
<tt class="descname">document</tt><big>(</big><em>items=()</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene Document from mapping of field names to one or multiple values.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.set">
<tt class="descname">set</tt><big>(</big><em>name</em>, <em>cls=&lt;class 'lupyne.engine.documents.Field'&gt;</em>, <em>**settings</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign settings to field name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; registered name of field</li>
<li><strong>cls</strong> &#8211; optional <a class="reference internal" href="#field">Field</a> constructor</li>
<li><strong>settings</strong> &#8211; stored, indexed, etc. options compatible with <a class="reference internal" href="#field">Field</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.snapshot">
<tt class="descname">snapshot</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return context manager of an index commit snapshot.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.4: </span>lucene identifies snapshots by commit generation</p>
</div>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.IndexWriter.update">
<tt class="descname">update</tt><big>(</big><em>name</em>, <em>value=''</em>, <em>document=()</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#IndexWriter.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.IndexWriter.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically delete documents which match given term and add the new <a class="reference internal" href="#lupyne.engine.indexers.IndexWriter.document" title="lupyne.engine.indexers.IndexWriter.document"><tt class="xref py py-meth docutils literal"><span class="pre">document()</span></tt></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.7: </span>update in-place if only DocValues are given</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indexer">
<h3>Indexer<a class="headerlink" href="#indexer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.indexers.Indexer">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">Indexer</tt><big>(</big><em>directory=None</em>, <em>mode='a'</em>, <em>analyzer=None</em>, <em>version=None</em>, <em>nrt=False</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Indexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.indexers.IndexWriter" title="lupyne.engine.indexers.IndexWriter"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.indexers.IndexWriter</span></tt></a></p>
<p>An all-purpose interface to an index.
Creates an <a class="reference internal" href="#indexwriter">IndexWriter</a> with a delegated <a class="reference internal" href="#indexsearcher">IndexSearcher</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nrt</strong> &#8211; optionally use a near real-time searcher</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.indexers.Indexer.commit">
<tt class="descname">commit</tt><big>(</big><em>merge=False</em>, <em>**caches</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Indexer.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Indexer.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit writes and <a class="reference internal" href="#lupyne.engine.indexers.Indexer.refresh" title="lupyne.engine.indexers.Indexer.refresh"><tt class="xref py py-meth docutils literal"><span class="pre">refresh()</span></tt></a> searcher.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>merge</strong> &#8211; merge segments with deletes, or optionally specify maximum number of segments</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.Indexer.refresh">
<tt class="descname">refresh</tt><big>(</big><em>**caches</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#Indexer.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.Indexer.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Store refreshed searcher with <a class="reference internal" href="#lupyne.engine.indexers.IndexSearcher.reopen" title="lupyne.engine.indexers.IndexSearcher.reopen"><tt class="xref py py-meth docutils literal"><span class="pre">IndexSearcher.reopen()</span></tt></a> caches.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="parallelindexer">
<h3>ParallelIndexer<a class="headerlink" href="#parallelindexer" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<dl class="class">
<dt id="lupyne.engine.indexers.ParallelIndexer">
<em class="property">class </em><tt class="descclassname">lupyne.engine.indexers.</tt><tt class="descname">ParallelIndexer</tt><big>(</big><em>field</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#ParallelIndexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.ParallelIndexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.indexers.Indexer" title="lupyne.engine.indexers.Indexer"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.indexers.Indexer</span></tt></a></p>
<p>Indexer which tracks a unique identifying field.
Handles atomic updates of rapidly changing fields, managing <a class="reference internal" href="#lupyne.engine.indexers.ParallelIndexer.termsfilters" title="lupyne.engine.indexers.ParallelIndexer.termsfilters"><tt class="xref py py-attr docutils literal"><span class="pre">termsfilters</span></tt></a>.
Assign custom settings or cache custom sorter for primary field if necessary.</p>
<dl class="attribute">
<dt id="lupyne.engine.indexers.ParallelIndexer.termsfilters">
<tt class="descname">termsfilters</tt><a class="headerlink" href="#lupyne.engine.indexers.ParallelIndexer.termsfilters" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of filters to synchronized termsfilters.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.ParallelIndexer.refresh">
<tt class="descname">refresh</tt><big>(</big><em>**caches</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#ParallelIndexer.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.ParallelIndexer.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Store refreshed searcher and synchronize <a class="reference internal" href="#lupyne.engine.indexers.ParallelIndexer.termsfilters" title="lupyne.engine.indexers.ParallelIndexer.termsfilters"><tt class="xref py py-attr docutils literal"><span class="pre">termsfilters</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.ParallelIndexer.termsfilter">
<tt class="descname">termsfilter</tt><big>(</big><em>filter</em>, <em>*others</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#ParallelIndexer.termsfilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.ParallelIndexer.termsfilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#termsfilter">TermsFilter</a> synced to given filter and optionally associated with other indexers.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.indexers.ParallelIndexer.update">
<tt class="descname">update</tt><big>(</big><em>value</em>, <em>document=()</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/indexers.html#ParallelIndexer.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.indexers.ParallelIndexer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically update document based on unique field.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lupyne.engine.documents">
<span id="documents"></span><h2>documents<a class="headerlink" href="#module-lupyne.engine.documents" title="Permalink to this headline">¶</a></h2>
<p>Wrappers for lucene Fields and Documents.</p>
<div class="section" id="document">
<h3>Document<a class="headerlink" href="#document" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.5: </span>stored numeric types returned as numbers</p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.Document">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">Document</tt><big>(</big><em>doc</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Document.dict" title="lupyne.engine.documents.Document.dict"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>Multimapping of field names to values, but default getters return the first value.</p>
<dl class="method">
<dt id="lupyne.engine.documents.Document.dict">
<tt class="descname">dict</tt><big>(</big><em>*names</em>, <em>**defaults</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Document.dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Document.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict representation of document.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>names</strong> &#8211; names of multi-valued fields to return as a list</li>
<li><strong>defaults</strong> &#8211; include only given fields, using default values as necessary</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Document.getlist">
<tt class="descname">getlist</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Document.getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Document.getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of all values for given field.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hit">
<h3>Hit<a class="headerlink" href="#hit" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.documents.Hit">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">Hit</tt><big>(</big><em>doc</em>, <em>id</em>, <em>score</em>, <em>keys=()</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Document" title="lupyne.engine.documents.Document"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.Document</span></tt></a></p>
<p>A Document from a search result, with <tt class="xref py py-attr docutils literal"><span class="pre">id</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">score</span></tt>, and optional sort <tt class="xref py py-attr docutils literal"><span class="pre">keys</span></tt>.</p>
<dl class="method">
<dt id="lupyne.engine.documents.Hit.dict">
<tt class="descname">dict</tt><big>(</big><em>*names</em>, <em>**defaults</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hit.dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict representation of document with __id__, __score__, and any sort __keys__.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hits">
<h3>Hits<a class="headerlink" href="#hits" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.documents.Hits">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">Hits</tt><big>(</big><em>searcher</em>, <em>scoredocs</em>, <em>count=None</em>, <em>maxscore=None</em>, <em>fields=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits" title="Permalink to this definition">¶</a></dt>
<dd><p>Search results: lazily evaluated and memory efficient.
Provides a read-only sequence interface to hit objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searcher</strong> &#8211; <a class="reference internal" href="#indexsearcher">IndexSearcher</a> which can retrieve documents</li>
<li><strong>scoredocs</strong> &#8211; lucene ScoreDocs</li>
<li><strong>count</strong> &#8211; total number of hits</li>
<li><strong>maxscore</strong> &#8211; maximum score</li>
<li><strong>fields</strong> &#8211; optional field selectors</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.Hits.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.filter">
<tt class="descname">filter</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#hits">Hits</a> filtered by function applied to doc ids.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.groupby">
<tt class="descname">groupby</tt><big>(</big><em>func</em>, <em>count=None</em>, <em>docs=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.groupby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered list of <a class="reference internal" href="#hits">Hits</a> grouped by value of function applied to doc ids.
Optionally limit the number of groups and docs per group.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.items">
<tt class="descname">items</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate zipped ids and scores.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.select">
<tt class="descname">select</tt><big>(</big><em>*fields</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Only load selected fields.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Hits.sorted">
<tt class="descname">sorted</tt><big>(</big><em>key</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Hits.sorted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Hits.sorted" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#hits">Hits</a> sorted by key function applied to doc ids.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="groups">
<h3>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.6.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This interface is experimental and might change in incompatible ways in the next release.</p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.Groups">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">Groups</tt><big>(</big><em>searcher</em>, <em>groupdocs</em>, <em>count=None</em>, <em>maxscore=None</em>, <em>fields=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequence of grouped <a class="reference internal" href="#hits">Hits</a>.</p>
<dl class="method">
<dt id="lupyne.engine.documents.Groups.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Groups.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Groups.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Groups.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Groups.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Groups.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.documents.Groups.facets">
<tt class="descname">facets</tt><a class="reference internal" href="_modules/lupyne/engine/documents.html#Groups.facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Groups.facets" title="Permalink to this definition">¶</a></dt>
<dd><p>mapping of field values and counts</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.Groups.select">
<tt class="descname">select</tt><big>(</big><em>*fields</em><big>)</big><a class="headerlink" href="#lupyne.engine.documents.Groups.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Only load selected fields.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="groupingsearch">
<h3>GroupingSearch<a class="headerlink" href="#groupingsearch" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.5.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This interface is experimental and might change in incompatible ways in the next release.</p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.GroupingSearch">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">GroupingSearch</tt><big>(</big><em>field</em>, <em>sort=None</em>, <em>cache=True</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#GroupingSearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.GroupingSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited lucene GroupingSearch with optimized faceting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>field</strong> &#8211; unique field name to group by</li>
<li><strong>sort</strong> &#8211; lucene Sort to order groups and docs</li>
<li><strong>cache</strong> &#8211; use unlimited caching</li>
<li><strong>attrs</strong> &#8211; additional attributes to set</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.GroupingSearch.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#GroupingSearch.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.GroupingSearch.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.GroupingSearch.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#GroupingSearch.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.GroupingSearch.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.GroupingSearch.search">
<tt class="descname">search</tt><big>(</big><em>searcher</em>, <em>query</em>, <em>filter=None</em>, <em>count=None</em>, <em>start=0</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#GroupingSearch.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.GroupingSearch.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Run query and return <a class="reference internal" href="#groups">Groups</a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="field">
<h3>Field<a class="headerlink" href="#field" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.6: </span>lucene Field.{Store,Index,TermVector} dropped in favor of FieldType attributes</p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.Field">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">Field</tt><big>(</big><em>name</em>, <em>stored=False</em>, <em>indexed=True</em>, <em>boost=1.0</em>, <em>**settings</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Field" title="Permalink to this definition">¶</a></dt>
<dd><p>Saved parameters which can generate lucene Fields given values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of field</li>
<li><strong>boost</strong> &#8211; boost factor</li>
<li><strong>indexed, settings</strong> (<em>stored,</em>) &#8211; lucene FieldType attributes</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.Field.items">
<tt class="descname">items</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#Field.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Field.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate lucene Fields suitable for adding to a document.</p>
</dd></dl>

<dl class="attribute">
<dt id="lupyne.engine.documents.Field.settings">
<tt class="descname">settings</tt><a class="reference internal" href="_modules/lupyne/engine/documents.html#Field.settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.Field.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>dict representation of settings</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mapfield">
<h3>MapField<a class="headerlink" href="#mapfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.documents.MapField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">MapField</tt><big>(</big><em>name</em>, <em>func</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#MapField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.MapField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Field" title="lupyne.engine.documents.Field"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.Field</span></tt></a></p>
<p>Field which applies a function across its values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; callable</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.MapField.items">
<tt class="descname">items</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#MapField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.MapField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate fields with mapped values.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nestedfield">
<h3>NestedField<a class="headerlink" href="#nestedfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.documents.NestedField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">NestedField</tt><big>(</big><em>name</em>, <em>sep='.'</em>, <em>tokenized=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NestedField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NestedField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Field" title="lupyne.engine.documents.Field"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.Field</span></tt></a></p>
<p>Field which indexes every component into its own field.
Original value may be stored for convenience.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sep</strong> &#8211; field separator used on name and values</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.NestedField.items">
<tt class="descname">items</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NestedField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NestedField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate indexed component fields.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NestedField.prefix">
<tt class="descname">prefix</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NestedField.prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NestedField.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prefix query of the closest possible prefixed field.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NestedField.range">
<tt class="descname">range</tt><big>(</big><em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NestedField.range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NestedField.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range query of the closest possible prefixed field.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NestedField.values">
<tt class="descname">values</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NestedField.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NestedField.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate component field values in order.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="docvaluesfield">
<h3>DocValuesField<a class="headerlink" href="#docvaluesfield" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.6.</span></p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.DocValuesField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">DocValuesField</tt><big>(</big><em>name</em>, <em>type</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DocValuesField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DocValuesField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Field" title="lupyne.engine.documents.Field"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.Field</span></tt></a></p>
<p>Field which stores a per-document values, used for efficient sorting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of field</li>
<li><strong>type</strong> &#8211; lucene DocValuesType string</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.DocValuesField.items">
<tt class="descname">items</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DocValuesField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DocValuesField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate lucene DocValuesFields suitable for adding to a document.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="numericfield">
<h3>NumericField<a class="headerlink" href="#numericfield" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.5: </span>recommended to specify initial int or float type</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.6: </span>custom step removed in favor of numericPrecisionStep</p>
</div>
<dl class="class">
<dt id="lupyne.engine.documents.NumericField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">NumericField</tt><big>(</big><em>name</em>, <em>type=None</em>, <em>tokenized=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NumericField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NumericField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.Field" title="lupyne.engine.documents.Field"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.Field</span></tt></a></p>
<p>Field which indexes numbers in a prefix tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of field</li>
<li><strong>type</strong> &#8211; optional int, float, or lucene NumericType string</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.documents.NumericField.filter">
<tt class="descname">filter</tt><big>(</big><em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NumericField.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NumericField.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene NumericRangeFilter.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NumericField.items">
<tt class="descname">items</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NumericField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NumericField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate lucene NumericFields suitable for adding to a document.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NumericField.range">
<tt class="descname">range</tt><big>(</big><em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NumericField.range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NumericField.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene NumericRangeQuery.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.NumericField.term">
<tt class="descname">term</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#NumericField.term"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.NumericField.term" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range query to match single term.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="datetimefield">
<h3>DateTimeField<a class="headerlink" href="#datetimefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.documents.DateTimeField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.documents.</tt><tt class="descname">DateTimeField</tt><big>(</big><em>name</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.NumericField" title="lupyne.engine.documents.NumericField"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.NumericField</span></tt></a></p>
<p>Field which indexes datetimes as a NumericField of timestamps.
Supports datetimes, dates, and any prefix of time tuples.</p>
<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.duration">
<tt class="descname">duration</tt><big>(</big><em>date</em>, <em>days=0</em>, <em>**delta</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return date range query within time span of date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>date</strong> &#8211; origin date or tuple</li>
<li><strong>days,delta</strong> &#8211; timedelta parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.items">
<tt class="descname">items</tt><big>(</big><em>*dates</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate lucene NumericFields of timestamps.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.prefix">
<tt class="descname">prefix</tt><big>(</big><em>date</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range query which matches the date prefix.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.range">
<tt class="descname">range</tt><big>(</big><em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return NumericRangeQuery of timestamps.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.timestamp">
<tt class="descname">timestamp</tt><big>(</big><em>date</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return utc timestamp from date or time tuple.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.documents.DateTimeField.within">
<tt class="descname">within</tt><big>(</big><em>days=0</em>, <em>weeks=0</em>, <em>utc=True</em>, <em>**delta</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/documents.html#DateTimeField.within"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.documents.DateTimeField.within" title="Permalink to this definition">¶</a></dt>
<dd><p>Return date range query within current time and delta.
If the delta is an exact number of days, then dates will be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>days,weeks</strong> &#8211; number of days to offset from today</li>
<li><strong>utc</strong> &#8211; optionally use utc instead of local time</li>
<li><strong>delta</strong> &#8211; additional timedelta parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lupyne.engine.queries">
<span id="queries"></span><h2>queries<a class="headerlink" href="#module-lupyne.engine.queries" title="Permalink to this headline">¶</a></h2>
<p>Query wrappers and search utilities.</p>
<div class="section" id="query">
<h3>Query<a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.Query">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">Query</tt><big>(</big><em>base</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited lucene Query, with dynamic base class acquisition.
Uses class methods and operator overloading for convenient query construction.</p>
<dl class="method">
<dt id="lupyne.engine.queries.Query.__and__">
<tt class="descname">__and__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.__and__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#booleanquery">BooleanQuery</a> +self +other&gt;</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.Query.__or__">
<tt class="descname">__or__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.__or__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#booleanquery">BooleanQuery</a> self other&gt;</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.Query.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.__sub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#booleanquery">BooleanQuery</a> self -other&gt;</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.all">
<em class="property">classmethod </em><tt class="descname">all</tt><big>(</big><em>*queries</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#booleanquery">BooleanQuery</a> (AND) from queries and terms.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.any">
<em class="property">classmethod </em><tt class="descname">any</tt><big>(</big><em>*queries</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.any"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.any" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#booleanquery">BooleanQuery</a> (OR) from queries and terms.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.Query.constant">
<tt class="descname">constant</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.constant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene ConstantScoreQuery.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.disjunct">
<em class="property">classmethod </em><tt class="descname">disjunct</tt><big>(</big><em>multiplier</em>, <em>*queries</em>, <em>**terms</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.disjunct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.disjunct" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene DisjunctionMaxQuery from queries and terms.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.Query.filter">
<tt class="descname">filter</tt><big>(</big><em>cache=True</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene CachingWrapperFilter, optionally just QueryWrapperFilter.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.fuzzy">
<em class="property">classmethod </em><tt class="descname">fuzzy</tt><big>(</big><em>name</em>, <em>value</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.fuzzy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.fuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene FuzzyQuery.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.multiphrase">
<em class="property">classmethod </em><tt class="descname">multiphrase</tt><big>(</big><em>name</em>, <em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.multiphrase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.multiphrase" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene MultiPhraseQuery.  None may be used as a placeholder.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.near">
<em class="property">classmethod </em><tt class="descname">near</tt><big>(</big><em>name</em>, <em>*values</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.near"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.near" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#lupyne.engine.queries.SpanQuery.near" title="lupyne.engine.queries.SpanQuery.near"><tt class="xref py py-meth docutils literal"><span class="pre">SpanNearQuery</span></tt></a> from terms.
Term values which supply another field name will be masked.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.phrase">
<em class="property">classmethod </em><tt class="descname">phrase</tt><big>(</big><em>name</em>, <em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.phrase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.phrase" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene PhraseQuery.  None may be used as a placeholder.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.prefix">
<em class="property">classmethod </em><tt class="descname">prefix</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene PrefixQuery.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.range">
<em class="property">classmethod </em><tt class="descname">range</tt><big>(</big><em>name</em>, <em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene RangeQuery, by default with a half-open interval.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.regexp">
<em class="property">classmethod </em><tt class="descname">regexp</tt><big>(</big><em>name</em>, <em>value</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.regexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.regexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene RegexpQuery.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.span">
<em class="property">classmethod </em><tt class="descname">span</tt><big>(</big><em>*term</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.span"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.span" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference internal" href="#spanquery">SpanQuery</a> from term name and value or a MultiTermQuery.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.term">
<em class="property">classmethod </em><tt class="descname">term</tt><big>(</big><em>name</em>, <em>value</em>, <em>boost=1.0</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.term"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.term" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene TermQuery.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.Query.terms">
<tt class="descname">terms</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate set of query term items.</p>
</dd></dl>

<dl class="classmethod">
<dt id="lupyne.engine.queries.Query.wildcard">
<em class="property">classmethod </em><tt class="descname">wildcard</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Query.wildcard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Query.wildcard" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene WildcardQuery.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="booleanquery">
<h3>BooleanQuery<a class="headerlink" href="#booleanquery" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.BooleanQuery">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">BooleanQuery</tt><big>(</big><em>base</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.queries.Query" title="lupyne.engine.queries.Query"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.queries.Query</span></tt></a></p>
<p>Inherited lucene BooleanQuery with sequence interface to clauses.</p>
<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__iand__">
<tt class="descname">__iand__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__iand__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__iand__" title="Permalink to this definition">¶</a></dt>
<dd><p>add +other</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__ior__">
<tt class="descname">__ior__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__ior__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__ior__" title="Permalink to this definition">¶</a></dt>
<dd><p>add other</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.BooleanQuery.__isub__">
<tt class="descname">__isub__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#BooleanQuery.__isub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.BooleanQuery.__isub__" title="Permalink to this definition">¶</a></dt>
<dd><p>add -other</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spanquery">
<h3>SpanQuery<a class="headerlink" href="#spanquery" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.SpanQuery">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">SpanQuery</tt><big>(</big><em>base</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.queries.Query" title="lupyne.engine.queries.Query"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.queries.Query</span></tt></a></p>
<p>Inherited lucene SpanQuery with additional span constructors.</p>
<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>slc</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;SpanFirstQuery: spanFirst(self, other.stop)&gt;</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.__sub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;SpanNotQuery: spanNot(self, other)&gt;</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.__or__">
<tt class="descname">__or__</tt><big>(</big><em>*spans_</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.__or__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;SpanOrQuery: spanOr(spans)&gt;</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.mask">
<tt class="descname">mask</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene FieldMaskingSpanQuery, which allows combining span queries from different fields.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.near">
<tt class="descname">near</tt><big>(</big><em>*spans_</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.near"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.near" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene SpanNearQuery from SpanQueries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>slop</strong> &#8211; default 0</li>
<li><strong>inOrder</strong> &#8211; default True</li>
<li><strong>collectPayloads</strong> &#8211; default True</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpanQuery.payload">
<tt class="descname">payload</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpanQuery.payload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpanQuery.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene SpanPayloadCheckQuery from payload values.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="termsfilter">
<h3>TermsFilter<a class="headerlink" href="#termsfilter" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<dl class="class">
<dt id="lupyne.engine.queries.TermsFilter">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">TermsFilter</tt><big>(</big><em>field</em>, <em>values=()</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">CachingWrapperFilter</span></tt></p>
<p>Caching filter based on a unique field and set of matching values.
Optimized for many terms and docs, with support for incremental updates.
Suitable for searching external metadata associated with indexed identifiers.
Call <a class="reference internal" href="#lupyne.engine.queries.TermsFilter.refresh" title="lupyne.engine.queries.TermsFilter.refresh"><tt class="xref py py-meth docutils literal"><span class="pre">refresh()</span></tt></a> to cache a new (or reopened) searcher.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>field</strong> &#8211; field name</li>
<li><strong>values</strong> &#8211; initial term values, synchronized with the cached filters</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.queries.TermsFilter.add">
<tt class="descname">add</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a few term values.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.TermsFilter.discard">
<tt class="descname">discard</tt><big>(</big><em>*values</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter.discard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard a few term values.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.TermsFilter.filter">
<tt class="descname">filter</tt><big>(</big><em>values</em>, <em>cache=True</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene TermsFilter, optionally using the FieldCache.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.TermsFilter.refresh">
<tt class="descname">refresh</tt><big>(</big><em>searcher</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh cached bitsets of current values for new segments of searcher.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.TermsFilter.update">
<tt class="descname">update</tt><big>(</big><em>values</em>, <em>op='or'</em>, <em>cache=True</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#TermsFilter.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.TermsFilter.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update allowed values and corresponding cached bitsets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>values</strong> &#8211; additional term values</li>
<li><strong>op</strong> &#8211; set operation used to combine terms and docs: <em>and</em>, <em>or</em>, <em>andNot</em></li>
<li><strong>cache</strong> &#8211; optionally cache all term values using FieldCache</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sortfield">
<h3>SortField<a class="headerlink" href="#sortfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.SortField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">SortField</tt><big>(</big><em>name</em>, <em>type='string'</em>, <em>parser=None</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SortField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SortField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.queries.SortField" title="lupyne.engine.queries.SortField"><tt class="xref py py-class docutils literal"><span class="pre">SortField</span></tt></a></p>
<p>Inherited lucene SortField used for caching FieldCache parsers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; field name</li>
<li><strong>type</strong> &#8211; type object or name compatible with SortField constants</li>
<li><strong>parser</strong> &#8211; lucene FieldCache.Parser or callable applied to field values</li>
<li><strong>reverse</strong> &#8211; reverse flag used with sort</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.queries.SortField.comparator">
<tt class="descname">comparator</tt><big>(</big><em>searcher</em>, <em>multi=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SortField.comparator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SortField.comparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indexed values from default FieldCache using the given searcher.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SortField.filter">
<tt class="descname">filter</tt><big>(</big><em>start</em>, <em>stop</em>, <em>lower=True</em>, <em>upper=False</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SortField.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SortField.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lucene FieldCacheRangeFilter based on field and type.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SortField.terms">
<tt class="descname">terms</tt><big>(</big><em>filter</em>, <em>*readers</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SortField.terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SortField.terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate field cache terms from docs which match filter from all segments.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="highlighter">
<h3>Highlighter<a class="headerlink" href="#highlighter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.Highlighter">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">Highlighter</tt><big>(</big><em>searcher</em>, <em>query</em>, <em>field</em>, <em>terms=False</em>, <em>fields=False</em>, <em>tag=''</em>, <em>formatter=None</em>, <em>encoder=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Highlighter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Highlighter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.queries.Highlighter" title="lupyne.engine.queries.Highlighter"><tt class="xref py py-class docutils literal"><span class="pre">Highlighter</span></tt></a></p>
<p>Inherited lucene Highlighter with stored analysis options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searcher</strong> &#8211; <a class="reference internal" href="#indexsearcher">IndexSearcher</a> used for analysis, scoring, and optionally text retrieval</li>
<li><strong>query</strong> &#8211; lucene Query</li>
<li><strong>field</strong> &#8211; field name of text</li>
<li><strong>terms</strong> &#8211; highlight any matching term in query regardless of position</li>
<li><strong>fields</strong> &#8211; highlight matching terms from any field</li>
<li><strong>tag</strong> &#8211; optional html tag name</li>
<li><strong>formatter</strong> &#8211; optional lucene Formatter</li>
<li><strong>encoder</strong> &#8211; optional lucene Encoder</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.queries.Highlighter.fragments">
<tt class="descname">fragments</tt><big>(</big><em>doc</em>, <em>count=1</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#Highlighter.fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.Highlighter.fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return highlighted text fragments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>doc</strong> &#8211; text string or doc id to be highlighted</li>
<li><strong>count</strong> &#8211; maximum number of fragments</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fastvectorhighlighter">
<h3>FastVectorHighlighter<a class="headerlink" href="#fastvectorhighlighter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.FastVectorHighlighter">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">FastVectorHighlighter</tt><big>(</big><em>searcher</em>, <em>query</em>, <em>field</em>, <em>terms=False</em>, <em>fields=False</em>, <em>tag=''</em>, <em>fragListBuilder=None</em>, <em>fragmentsBuilder=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#FastVectorHighlighter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.FastVectorHighlighter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.queries.FastVectorHighlighter" title="lupyne.engine.queries.FastVectorHighlighter"><tt class="xref py py-class docutils literal"><span class="pre">FastVectorHighlighter</span></tt></a></p>
<p>Inherited lucene FastVectorHighlighter with stored query.
Fields must be stored and have term vectors with offsets and positions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searcher</strong> &#8211; <a class="reference internal" href="#indexsearcher">IndexSearcher</a> with stored term vectors</li>
<li><strong>query</strong> &#8211; lucene Query</li>
<li><strong>field</strong> &#8211; field name of text</li>
<li><strong>terms</strong> &#8211; highlight any matching term in query regardless of position</li>
<li><strong>fields</strong> &#8211; highlight matching terms from any field</li>
<li><strong>tag</strong> &#8211; optional html tag name</li>
<li><strong>fragListBuilder</strong> &#8211; optional lucene FragListBuilder</li>
<li><strong>fragmentsBuilder</strong> &#8211; optional lucene FragmentsBuilder</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.queries.FastVectorHighlighter.fragments">
<tt class="descname">fragments</tt><big>(</big><em>id</em>, <em>count=1</em>, <em>size=100</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#FastVectorHighlighter.fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.FastVectorHighlighter.fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return highlighted text fragments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; document id</li>
<li><strong>count</strong> &#8211; maximum number of fragments</li>
<li><strong>size</strong> &#8211; maximum number of characters in fragment</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spellchecker">
<h3>SpellChecker<a class="headerlink" href="#spellchecker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.SpellChecker">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">SpellChecker</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellChecker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
<p>Correct spellings and suggest words for queries.
Supply a vocabulary mapping words to (reverse) sort keys, such as document frequencies.</p>
<dl class="method">
<dt id="lupyne.engine.queries.SpellChecker.correct">
<tt class="descname">correct</tt><big>(</big><em>word</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellChecker.correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellChecker.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate ordered sets of words by increasing edit distance.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpellChecker.edits">
<tt class="descname">edits</tt><big>(</big><em>word</em>, <em>length=0</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellChecker.edits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellChecker.edits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set of potential words one edit distance away, mapped to valid prefix lengths.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpellChecker.suggest">
<tt class="descname">suggest</tt><big>(</big><em>prefix</em>, <em>count=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellChecker.suggest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellChecker.suggest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered suggested words for prefix.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spellparser">
<h3>SpellParser<a class="headerlink" href="#spellparser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.queries.SpellParser">
<em class="property">class </em><tt class="descclassname">lupyne.engine.queries.</tt><tt class="descname">SpellParser</tt><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited lucene QueryParser which corrects spelling.
Assign a searcher attribute or override <a class="reference internal" href="#lupyne.engine.queries.SpellParser.correct" title="lupyne.engine.queries.SpellParser.correct"><tt class="xref py py-meth docutils literal"><span class="pre">correct()</span></tt></a> implementation.</p>
<dl class="attribute">
<dt id="lupyne.engine.queries.SpellParser.searcher">
<tt class="descname">searcher</tt><a class="headerlink" href="#lupyne.engine.queries.SpellParser.searcher" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#indexsearcher">IndexSearcher</a></p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpellParser.correct">
<tt class="descname">correct</tt><big>(</big><em>term</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellParser.correct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellParser.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Return term with text replaced as necessary.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.queries.SpellParser.rewrite">
<tt class="descname">rewrite</tt><big>(</big><em>query</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/queries.html#SpellParser.rewrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.queries.SpellParser.rewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Return term or phrase query with corrected terms substituted.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lupyne.engine.spatial">
<span id="spatial"></span><h2>spatial<a class="headerlink" href="#module-lupyne.engine.spatial" title="Permalink to this headline">¶</a></h2>
<p>Geospatial fields.</p>
<p>Latitude/longitude coordinates are encoded into the quadkeys of MS Virtual Earth,
which are also compatible with Google Maps and OSGEO Tile Map Service.
See <a class="reference external" href="http://www.maptiler.org/google-maps-coordinates-tile-bounds-projection/">http://www.maptiler.org/google-maps-coordinates-tile-bounds-projection/</a>.</p>
<p>The quadkeys are then indexed using a prefix tree, creating a cartesian tier of tiles.</p>
<div class="section" id="tiler">
<h3>Tiler<a class="headerlink" href="#tiler" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.spatial.Tiler">
<em class="property">class </em><tt class="descclassname">lupyne.engine.spatial.</tt><tt class="descname">Tiler</tt><big>(</big><em>tileSize=256</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Utilities for transforming lat/lngs, projected coordinates, and tile coordinates.</p>
<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.coords">
<tt class="descname">coords</tt><big>(</big><em>tile</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler.coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler.coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return TMS coordinates of tile.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.decode">
<tt class="descname">decode</tt><big>(</big><em>tile</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lat/lng bounding box (bottom, left, top, right) of tile.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.encode">
<tt class="descname">encode</tt><big>(</big><em>lat</em>, <em>lng</em>, <em>precision</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler.encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tile from latitude, longitude and precision level.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.project">
<tt class="descname">project</tt><big>(</big><em>lat</em>, <em>lon</em><big>)</big><a class="headerlink" href="#lupyne.engine.spatial.Tiler.project" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts given lat/lon in WGS84 Datum to XY in Spherical Mercator EPSG:900913</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.radiate">
<tt class="descname">radiate</tt><big>(</big><em>lat</em>, <em>lng</em>, <em>distance</em>, <em>precision</em>, <em>limit=inf</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler.radiate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler.radiate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate tile keys within distance of given point, adjusting precision to limit the number considered.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.Tiler.walk">
<tt class="descname">walk</tt><big>(</big><em>left</em>, <em>bottom</em>, <em>right</em>, <em>top</em>, <em>precision</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#Tiler.walk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.Tiler.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate tile keys which span bounding box of meters.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pointfield">
<h3>PointField<a class="headerlink" href="#pointfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.spatial.PointField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.spatial.</tt><tt class="descname">PointField</tt><big>(</big><em>name</em>, <em>precision=30</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.documents.NumericField" title="lupyne.engine.documents.NumericField"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.documents.NumericField</span></tt></a>, <a class="reference internal" href="#lupyne.engine.spatial.Tiler" title="lupyne.engine.spatial.Tiler"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.spatial.Tiler</span></tt></a></p>
<p>Geospatial points, which create a tiered index of tiles.
Points must still be stored if exact distances are required upon retrieval.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>precision</strong> &#8211; zoom level, i.e., length of encoded value</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lupyne.engine.spatial.PointField.items">
<tt class="descname">items</tt><big>(</big><em>*points</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate tiles from points (lng, lat).</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.PointField.near">
<tt class="descname">near</tt><big>(</big><em>lng</em>, <em>lat</em>, <em>precision=None</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField.near"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField.near" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prefix query for point at given precision.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.PointField.prefix">
<tt class="descname">prefix</tt><big>(</big><em>tile</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField.prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range query which is equivalent to the prefix of the tile.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.PointField.ranges">
<tt class="descname">ranges</tt><big>(</big><em>tiles</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField.ranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField.ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate range queries by grouping adjacent tiles.</p>
</dd></dl>

<dl class="method">
<dt id="lupyne.engine.spatial.PointField.within">
<tt class="descname">within</tt><big>(</big><em>lng</em>, <em>lat</em>, <em>distance</em>, <em>limit=4</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PointField.within"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PointField.within" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range queries for any tiles which could be within distance of given point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lng,lat</strong> &#8211; point</li>
<li><strong>distance</strong> &#8211; search radius in meters</li>
<li><strong>limit</strong> &#8211; maximum number of tiles to consider</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="polygonfield">
<h3>PolygonField<a class="headerlink" href="#polygonfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.spatial.PolygonField">
<em class="property">class </em><tt class="descclassname">lupyne.engine.spatial.</tt><tt class="descname">PolygonField</tt><big>(</big><em>name</em>, <em>precision=30</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PolygonField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PolygonField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.spatial.PointField" title="lupyne.engine.spatial.PointField"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.spatial.PointField</span></tt></a></p>
<p>PointField which implicitly supports polygons (technically linear rings of points).
Differs from points in that all necessary tiles are included to match the points&#8217; boundary.
As with PointField, the tiered tiles are a search optimization, not a distance calculator.</p>
<dl class="method">
<dt id="lupyne.engine.spatial.PolygonField.items">
<tt class="descname">items</tt><big>(</big><em>*polygons</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#PolygonField.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.PolygonField.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all covered tiles from polygons.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="distancecomparator">
<h3>DistanceComparator<a class="headerlink" href="#distancecomparator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="lupyne.engine.spatial.DistanceComparator">
<em class="property">class </em><tt class="descclassname">lupyne.engine.spatial.</tt><tt class="descname">DistanceComparator</tt><big>(</big><em>lng</em>, <em>lat</em>, <em>lngs</em>, <em>lats</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#DistanceComparator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.DistanceComparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lupyne.engine.spatial.Tiler" title="lupyne.engine.spatial.Tiler"><tt class="xref py py-class docutils literal"><span class="pre">lupyne.engine.spatial.Tiler</span></tt></a></p>
<p>Distance comparator computed from cached lat/lngs.</p>
<dl class="method">
<dt id="lupyne.engine.spatial.DistanceComparator.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/lupyne/engine/spatial.html#DistanceComparator.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lupyne.engine.spatial.DistanceComparator.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">engine</a><ul>
<li><a class="reference internal" href="#module-lupyne.engine.indexers">indexers</a><ul>
<li><a class="reference internal" href="#tokenstream">TokenStream</a></li>
<li><a class="reference internal" href="#tokenfilter">TokenFilter</a></li>
<li><a class="reference internal" href="#analyzer">Analyzer</a></li>
<li><a class="reference internal" href="#indexreader">IndexReader</a></li>
<li><a class="reference internal" href="#indexsearcher">IndexSearcher</a></li>
<li><a class="reference internal" href="#multisearcher">MultiSearcher</a></li>
<li><a class="reference internal" href="#indexwriter">IndexWriter</a></li>
<li><a class="reference internal" href="#indexer">Indexer</a></li>
<li><a class="reference internal" href="#parallelindexer">ParallelIndexer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lupyne.engine.documents">documents</a><ul>
<li><a class="reference internal" href="#document">Document</a></li>
<li><a class="reference internal" href="#hit">Hit</a></li>
<li><a class="reference internal" href="#hits">Hits</a></li>
<li><a class="reference internal" href="#groups">Groups</a></li>
<li><a class="reference internal" href="#groupingsearch">GroupingSearch</a></li>
<li><a class="reference internal" href="#field">Field</a></li>
<li><a class="reference internal" href="#mapfield">MapField</a></li>
<li><a class="reference internal" href="#nestedfield">NestedField</a></li>
<li><a class="reference internal" href="#docvaluesfield">DocValuesField</a></li>
<li><a class="reference internal" href="#numericfield">NumericField</a></li>
<li><a class="reference internal" href="#datetimefield">DateTimeField</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lupyne.engine.queries">queries</a><ul>
<li><a class="reference internal" href="#query">Query</a></li>
<li><a class="reference internal" href="#booleanquery">BooleanQuery</a></li>
<li><a class="reference internal" href="#spanquery">SpanQuery</a></li>
<li><a class="reference internal" href="#termsfilter">TermsFilter</a></li>
<li><a class="reference internal" href="#sortfield">SortField</a></li>
<li><a class="reference internal" href="#highlighter">Highlighter</a></li>
<li><a class="reference internal" href="#fastvectorhighlighter">FastVectorHighlighter</a></li>
<li><a class="reference internal" href="#spellchecker">SpellChecker</a></li>
<li><a class="reference internal" href="#spellparser">SpellParser</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lupyne.engine.spatial">spatial</a><ul>
<li><a class="reference internal" href="#tiler">Tiler</a></li>
<li><a class="reference internal" href="#pointfield">PointField</a></li>
<li><a class="reference internal" href="#polygonfield">PolygonField</a></li>
<li><a class="reference internal" href="#distancecomparator">DistanceComparator</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Lupyne&#8217;s documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="server.html"
                        title="next chapter">server</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/engine.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="server.html" title="server"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Lupyne’s documentation"
             >previous</a> |</li>
        <li><a href="index.html">Lupyne 1.8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2014, Aric Coady.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>