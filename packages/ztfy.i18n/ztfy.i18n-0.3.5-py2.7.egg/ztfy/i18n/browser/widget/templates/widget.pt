<div tal:define="langs view/langs" tal:attributes="class view/klass" i18n:domain="ztfy.i18n">
	<tal:if condition="python:len(langs) > 1">
		<div class="tabs"
			 tal:attributes="id string:I18nControl_${view/name}">
			<ul>
				<li style="margin-right: 12px;"><span><a tal:attributes="href string:javascript:i18nTabs.switchTabs('${view/name}');" 
					onmousedown="return false;">&nbsp;<img class="transposer" tal:attributes="src string:/--static--/ztfy.i18n/img/transpose.png" alt="Transpose" i18n:attributes="alt" />&nbsp;</a></span></li>
				<tal:loop repeat="lang langs">
					<li tal:define="label string:${view/name}.${lang}"
						tal:attributes="id string:I18nHeader_${label};
										class python:(repeat['lang'].start() and 'current') or None">
						<span>
							<a tal:attributes="href string:javascript:i18nTabs.displayTab('${label}');"
							   onmousedown="return false;"><img tal:attributes="src string:/--static--/ztfy.i18n/img/flags/${lang}.png; alt string:Language (${lang});" />&nbsp;<span
							   tal:replace="lang" /><span class="notnull" tal:omit-tag="" tal:condition="python:view.hasValue(lang)">...</span></a>
						</span>
					</li>
				</tal:loop>
			</ul>
		</div>
		<div class="tabs_wrapper"
			 tal:attributes="id string:I18nPanel_${view/name}">
			<tal:loop repeat="lang langs">
				<div tal:define="label string:${view/name}.${lang}"
					 tal:attributes="id string:I18nTab_${label};
									 label string:${label};
									 class python:(repeat['lang'].start() and 'panel current' or 'panel')">
					<div tal:define="klass python:(not repeat['lang'].start()) and ' notfirst' or ''"
						 tal:attributes="class string:panel_flag${klass};
										 id string:I18nFlag_${label};">
						<img tal:attributes="src string:/--static--/ztfy.i18n/img/flags/${lang}.png; alt string:Language (${lang});" />&nbsp;<span class="lang" tal:content="lang" />
					</div>
					<div class="panel_widget" tal:attributes="id string:I18nWidget_${label}">
						<tal:x replace="structure python:view.getWidget(lang)"></tal:x>
					</div>
					<div class="spacer"><!-- IE bugfix - do not remove --></div>
				</div>
			</tal:loop>
		</div>
	</tal:if>
	<tal:if condition="python:len(langs) == 1">
		<tal:x replace="structure python:view.getWidget(langs[0])" />
	</tal:if>
</div>
