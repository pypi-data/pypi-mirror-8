<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PURPOSE &mdash; Trigger 1.4.2b15 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.4.2b15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Trigger 1.4.2b15 documentation" href="index.html" />
 
<style type="text/css">
    span.changelog-support {color: #4070A0;}
    span.changelog-bug {color: #A04040;}
    span.changelog-feature {color: #40A056;}
    a.changelog-release {font-weight: bold;}
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Trigger 1.4.2b15 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>{#</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>TITLE</strong></td>
<td><em>Device Name</em> Configuration Template</td>
</tr>
<tr class="row-even"><td><strong>VERSION</strong></td>
<td><em>Version Number</em></td>
</tr>
<tr class="row-odd"><td><strong>PUBLICATION DATE</strong></td>
<td><em>Date of Publication</em></td>
</tr>
<tr class="row-even"><td><strong>CATEGORY</strong></td>
<td>Configuration Template</td>
</tr>
<tr class="row-odd"><td><strong>STATUS</strong></td>
<td><em>Draft, Proposed, Accepted, Deprecated</em></td>
</tr>
</tbody>
</table>
<p>#}</p>
<p>{#</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#purpose" id="id1">PURPOSE</a></li>
<li><a class="reference internal" href="#notes" id="id2">NOTES</a></li>
<li><a class="reference internal" href="#variable-definitions" id="id3">VARIABLE DEFINITIONS</a></li>
<li><a class="reference internal" href="#configuration-template" id="id4">CONFIGURATION TEMPLATE</a></li>
</ul>
</div>
<p>#}</p>
<p>{#</p>
<div class="section" id="purpose">
<h1><a class="toc-backref" href="#id1">PURPOSE</a><a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h1>
<p>This section must include one paragraph defining the function of this class of device.</p>
<p>#}</p>
<p>{#</p>
</div>
<div class="section" id="notes">
<h1><a class="toc-backref" href="#id2">NOTES</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h1>
<p>Any information necessary for the proper configuration and installation of this device in the network which would not be represented in the config file itself would go here.  If no notes are needed, then this section should include &#8220;Not Applicable&#8221;.</p>
<p>#}</p>
<p>{#</p>
</div>
<div class="section" id="variable-definitions">
<h1><a class="toc-backref" href="#id3">VARIABLE DEFINITIONS</a><a class="headerlink" href="#variable-definitions" title="Permalink to this headline">¶</a></h1>
<p>Any variables necessary to form the configuration will be explained in this section.  Variables will be surrounded two curly braces and a space on either side.  Variable names will formatted as any combination of lower case letters, numbers and underscores.  They must start with a letter.  Variable names must have four characters at a minimum and at most 24 characters.</p>
<p>Examples:</p>
<dl class="docutils">
<dt>{{ hostname }}</dt>
<dd>The hostname of the device</dd>
<dt>{{ mgmt_ip }}</dt>
<dd>The IP address assigned to the device</dd>
<dt>{{ tacacs_server }}</dt>
<dd>A TACACS server</dd>
</dl>
<p>#}</p>
<p>{#</p>
</div>
<div class="section" id="configuration-template">
<h1><a class="toc-backref" href="#id4">CONFIGURATION TEMPLATE</a><a class="headerlink" href="#configuration-template" title="Permalink to this headline">¶</a></h1>
<p>#}
This is an example of a configuration template.</p>
<p>Although it should be kept to a minimum, commenting is allowed within a configuration.  There are two types of comments that will be supported in the templates; comments that will appear in the network device configuration and comments that will not.  Comments that should not appear in the network device should begin with &#8220;{#&#8221; and end with &#8220;#}&#8221;.  These comments will be visible in the template, but will not be displayed in the generated configuration.</p>
<div class="highlight-python"><div class="highlight"><pre>{# This is a comment that will not appear on the device. #}
</pre></div>
</div>
<p>Comments that need to appear on the devices themselves, should use the vendor specific commenting format.  For example, Juniper templates can include &#8220;/*&#8221; and &#8220;*/&#8221; to allow comments to appear in the device configuration.</p>
<div class="highlight-python"><div class="highlight"><pre>/* This is an example comment that will appear on a Juniper device. */
</pre></div>
</div>
<p>Some configurations will require repeated portions of the configuration.  This is possible with a variable where the value is a list.  This is an example loop from a Juniper configuration.</p>
<div class="highlight-python"><div class="highlight"><pre>{% for dns_server in dns_servers %}
    ip name-server {{ dns_server }}
{% endfor %}
</pre></div>
</div>
<p>Repeated configuration sections may also be required with multiple, related variables.  This is also possible using a mapping (aka a dictionary in Python).  This is an example loop from an Arista configuration using a mapping.</p>
<div class="highlight-python"><div class="highlight"><pre>{% for snmp_server, snmp_comm in snmp_servers.iteritems() %}
    snmp-server host {{ tac_server }} version 2c {{ snmp_comm }}
{% endfor %}
</pre></div>
</div>
<p>There may also be cases where specific commands need to be alternated across a pair of devices or more generally across the network.  This can be supported with if statements.  This is an eample for alternating the primary TACACS server between a pair of Juniper devices.</p>
<div class="highlight-python"><div class="highlight"><pre>{% if even(mgmt_ip.split(&#39;.&#39;)) %}
{% for tac_server in tacacs_servers %}
    tacacs-server host {{ tac_server }} timeout 1
{% endfor %}
{% else %}
{% for tac_server in reverse(tacacs_servers) %}
    tacacs-server host {{ tac_server }} timeout 1
{% endfor %}
{% endif %}
</pre></div>
</div>
<p>Additional examples of supported syntax will be included as required configuration complexity increases.</p>
<p>This is the end of the example configuration.
{#</p>
<p>Revision History</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="15%" />
<col width="12%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Revision</strong></td>
<td><strong>Updater</strong></td>
<td><strong>Date</strong></td>
<td><strong>Comment</strong></td>
</tr>
<tr class="row-even"><td>0.1</td>
<td>Eileen Watson</td>
<td>02/17/2014</td>
<td>Initial version</td>
</tr>
</tbody>
</table>
<p>#}</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PURPOSE</a></li>
<li><a class="reference internal" href="#notes">NOTES</a></li>
<li><a class="reference internal" href="#variable-definitions">VARIABLE DEFINITIONS</a></li>
<li><a class="reference internal" href="#configuration-template">CONFIGURATION TEMPLATE</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/template.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Trigger 1.4.2b15 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2014, AOL Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>