<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">
      
<!-- standard-plone template, @@userprofile replace the standard content #LM -->
<head>
	<tal:comment tal:condition="nothing">
		jQuery masked input js integrated here, because javascripts are loaded before action can be set. 
	</tal:comment>

    <metal:slot fill-slot="javascript_head_slot">
        <script type="text/javascript"
            tal:attributes="src string:${context/absolute_url}/++resource++ityou.extuserprofile.javascripts/jquery.jeditable.mini.js"></script>
        <script type="text/javascript"
            tal:attributes="src string:${context/absolute_url}/++resource++ityou.extuserprofile.javascripts/jquery.jeditable.masked.js"></script>
        <script type="text/javascript"
            tal:attributes="src string:${context/absolute_url}/++resource++ityou.extuserprofile.javascripts/userprofile-editable-jq.js"></script>
    </metal:slot>

        <script type="text/javascript"
            tal:attributes="src string:${context/absolute_url}/form_tabbing.js"></script>
    <metal:block fill-slot="top_slot"
        tal:define="dummy python:request.set('disable_border',1);
                    disable_column_two python:request.set('disable_plone.rightcolumn',1);" />

  <metal:slot fill-slot="style_slot">
        <link rel="stylesheet" media="all" type="text/css" tal:attributes="href string:${context/absolute_url}/++resource++ityou.extuserprofile.stylesheets/userprofile.css" />
  </metal:slot>
              
</head>
<body>
    <metal:main fill-slot="main"
            tal:define="
                         site_properties here/portal_properties/site_properties;
                         allowAnonymousViewAbout python:site_properties.getProperty('allowAnonymousViewAbout', True);
                         isAnon context/@@plone_portal_state/anonymous;
                         raiseUnauthorized python:(not isAnon or allowAnonymousViewAbout) or here.raiseUnauthorized();
                         url_unquote_plus python:modules['Products.PythonScripts.standard'].url_unquote_plus;
                         ">
        <tal:main-macro metal:define-macro="main">
            <div id="content-core">
            	<!-- replaces the original author.pt -->
                <div tal:replace="structure context/@@userprofile">User Profile</div>
            </div>
        </tal:main-macro>
    </metal:main>
</body>
</html>
