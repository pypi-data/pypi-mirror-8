

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pytesmo.grid package &mdash; pytesmo 0.2.4 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="pytesmo 0.2.4 documentation" href="../index.html"/>
        <link rel="up" title="pytesmo package" href="pytesmo.html"/>
        <link rel="prev" title="pytesmo.colormaps package" href="pytesmo.colormaps.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> pytesmo</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to pytesmo a python Toolbox for the Evaluation of Soil Moisture Observations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#supported-datasets">Supported Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-and-plotting-ascat-h25-data-from-netcdf-format">Reading and plotting ASCAT H25 data from netCDF format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-and-plotting-h-saf-images">Reading and plotting H-SAF images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-h-saf-images">Reading H-SAF images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-the-h07-product">Reading the H07 product</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-the-h08-product">Reading the H08 product</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-the-h14-product">Reading the H14 product</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-and-plotting-data-from-the-ismn">Reading and plotting data from the ISMN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#calculating-anomalies-and-climatologies">Calculating anomalies and climatologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#comparing-ascat-and-insitu-data-from-the-ismn">Comparing ASCAT and insitu data from the ISMN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#reading-and-plotting-ascat-data-from-binary-format">Reading and plotting ASCAT data from binary format</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="pytesmo.html">pytesmo package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pytesmo.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#module-pytesmo.df_metrics">pytesmo.df_metrics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#module-pytesmo.metrics">pytesmo.metrics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#module-pytesmo.scaling">pytesmo.scaling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#module-pytesmo.temporal_matching">pytesmo.temporal_matching module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytesmo.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">pytesmo</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="pytesmo.html">pytesmo package</a> &raquo;</li>
      
    <li>pytesmo.grid package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/_rst/pytesmo.grid.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="pytesmo-grid-package">
<h1>pytesmo.grid package<a class="headerlink" href="#pytesmo-grid-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytesmo.grid.grids">
<span id="pytesmo-grid-grids-module"></span><h2>pytesmo.grid.grids module<a class="headerlink" href="#module-pytesmo.grid.grids" title="Permalink to this headline">¶</a></h2>
<p>Created on Aug 26, 2013</p>
<p>&#64;author: Christoph Paulik <a class="reference external" href="mailto:Christoph&#46;Paulik&#37;&#52;&#48;geo&#46;tuwien&#46;ac&#46;at">Christoph<span>&#46;</span>Paulik<span>&#64;</span>geo<span>&#46;</span>tuwien<span>&#46;</span>ac<span>&#46;</span>at</a></p>
<dl class="class">
<dt id="pytesmo.grid.grids.BasicGrid">
<em class="property">class </em><tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">BasicGrid</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>gpis=None</em>, <em>subset=None</em>, <em>setup_kdTree=True</em>, <em>shape=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Grid that just has lat,lon coordinates and can find the
nearest neighbour. It can also yield the gpi, lat, lon
information in order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes of the points in the grid</p>
</div></blockquote>
<p><strong>lat</strong> : numpy.array</p>
<blockquote>
<div><p>latitudes of the points in the grid</p>
</div></blockquote>
<p><strong>gpis</strong> : numpy.array, optional</p>
<blockquote>
<div><p>if the gpi numbers are in a different order than the
lon and lat arrays an array containing the gpi numbers
can be given
if no array is given here the lon lat arrays are given
gpi numbers starting at 0</p>
</div></blockquote>
<p><strong>subset</strong> : numpy.array, optional</p>
<blockquote>
<div><p>if the active part of the array is only a subset of
all the points then the subset array which is a index
into lon and lat can be given here</p>
</div></blockquote>
<p><strong>setup_kdTree</strong> : boolean, optional</p>
<blockquote>
<div><p>if set (default) then the kdTree for nearest neighbour
search will be built on initialization</p>
</div></blockquote>
<p><strong>shape</strong> : tuple, optional</p>
<blockquote class="last">
<div><p>if given the grid can be reshaped into the given shape
this indicates that it is a regular grid and fills the
attributes self.londim and self.latdim which
define the grid only be the meridian coordinates(self.londim) and
the coordinates of the circles of latitude(self.latdim).
The shape has to be given as (latdim, londim)
It it is not given the shape is set to the length of the input
lon and lat arrays.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>arrlon</td>
<td>(numpy.array) array of all longitudes of the grid</td>
</tr>
<tr class="row-even"><td>arrlat</td>
<td>(numpy.array) array of all latitudes of the grid</td>
</tr>
<tr class="row-odd"><td>n_gpi</td>
<td>(int) number of gpis in the grid</td>
</tr>
<tr class="row-even"><td>gpidirect</td>
<td>(boolean) if true the gpi number is equal to the index of arrlon and arrlat</td>
</tr>
<tr class="row-odd"><td>gpis</td>
<td>(numpy.array) gpi number for elements in arrlon and arrlat gpi[i] is located at arrlon[i],arrlat[i]</td>
</tr>
<tr class="row-even"><td>subset</td>
<td>(numpy.array) if given then this contains the indices of a subset of the grid. This can be used if only a part of a grid is interesting for a application. e.g. land points, or only a specific country</td>
</tr>
<tr class="row-odd"><td>allpoints</td>
<td>(boolean) if False only a subset of the grid is active</td>
</tr>
<tr class="row-even"><td>activearrlon</td>
<td>(numpy.array) array of longitudes that are active, is defined by arrlon[subset] if a subset is given otherwise equal to arrlon</td>
</tr>
<tr class="row-odd"><td>activearrlat</td>
<td>(numpy.array) array of latitudes that are active, is defined by arrlat[subset] if a subset is given otherwise equal to arrlat</td>
</tr>
<tr class="row-even"><td>activegpis</td>
<td>(numpy.array) array of gpis that are active, is defined by gpis[subset] if a subset is given otherwise equal to gpis</td>
</tr>
<tr class="row-odd"><td>issplit</td>
<td>(boolean) if True then the array was split in n parts with the self.split function</td>
</tr>
<tr class="row-even"><td>kdTree</td>
<td>(object) grid.nearest_neighbor.findGeoNN object for nearest neighbor search</td>
</tr>
<tr class="row-odd"><td>shape</td>
<td>(tuple, optional) if given during initialization then this is the shape the grid can be reshaped to this only makes sense for regular lat,lon grids</td>
</tr>
<tr class="row-even"><td>latdim</td>
<td>(numpy.array, optional) if shape is given this attribute has contains all latitudes that make up the regular lat,lon grid</td>
</tr>
<tr class="row-odd"><td>londim</td>
<td>(numpy.array, optional) if shape is given this attribute has contains all longitudes that make up the regular lat,lon grid</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.calc_lut" title="pytesmo.grid.grids.BasicGrid.calc_lut"><tt class="xref py py-obj docutils literal"><span class="pre">calc_lut</span></tt></a>(other[,&nbsp;max_dist,&nbsp;into_subset])</td>
<td>takes other BasicGrid or CellGrid objects and computes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.find_nearest_gpi" title="pytesmo.grid.grids.BasicGrid.find_nearest_gpi"><tt class="xref py py-obj docutils literal"><span class="pre">find_nearest_gpi</span></tt></a>(lon,&nbsp;lat[,&nbsp;max_dist])</td>
<td>finds nearest gpi, builds kdTree if it does not yet exist</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.get_bbox_grid_points" title="pytesmo.grid.grids.BasicGrid.get_bbox_grid_points"><tt class="xref py py-obj docutils literal"><span class="pre">get_bbox_grid_points</span></tt></a>([latmin,&nbsp;latmax,&nbsp;...])</td>
<td>Returns all grid points located in a submitted geographic box,</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.get_grid_points" title="pytesmo.grid.grids.BasicGrid.get_grid_points"><tt class="xref py py-obj docutils literal"><span class="pre">get_grid_points</span></tt></a>(*args)</td>
<td>Returns all active grid points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.gpi2lonlat" title="pytesmo.grid.grids.BasicGrid.gpi2lonlat"><tt class="xref py py-obj docutils literal"><span class="pre">gpi2lonlat</span></tt></a>(gpi)</td>
<td>Longitude and Latitude for given GPI.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.gpi2rowcol" title="pytesmo.grid.grids.BasicGrid.gpi2rowcol"><tt class="xref py py-obj docutils literal"><span class="pre">gpi2rowcol</span></tt></a>(gpi)</td>
<td>if the grid can be reshaped into a</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.grid_points" title="pytesmo.grid.grids.BasicGrid.grid_points"><tt class="xref py py-obj docutils literal"><span class="pre">grid_points</span></tt></a>(*args)</td>
<td>Yields all grid points in order</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.split" title="pytesmo.grid.grids.BasicGrid.split"><tt class="xref py py-obj docutils literal"><span class="pre">split</span></tt></a>(n)</td>
<td>function splits the grid into n parts</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.to_cell_grid" title="pytesmo.grid.grids.BasicGrid.to_cell_grid"><tt class="xref py py-obj docutils literal"><span class="pre">to_cell_grid</span></tt></a>([cellsize,&nbsp;cellsize_lat,&nbsp;...])</td>
<td>convert grid to cellgrid with a cell partition of</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.BasicGrid.unite" title="pytesmo.grid.grids.BasicGrid.unite"><tt class="xref py py-obj docutils literal"><span class="pre">unite</span></tt></a>()</td>
<td>unites a split array, so that it can be iterated over as a whole</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.calc_lut">
<tt class="descname">calc_lut</tt><big>(</big><em>other</em>, <em>max_dist=inf</em>, <em>into_subset=False</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.calc_lut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.calc_lut" title="Permalink to this definition">¶</a></dt>
<dd><p>takes other BasicGrid or CellGrid objects and computes
a lookup table between them.
the lut will have the size of self.n_gpis and will
for every grid point have the nearest index into other.arrlon etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> : grid object</p>
<blockquote>
<div><p>to which to calculate the lut to</p>
</div></blockquote>
<p><strong>max_dist</strong> : float, optional</p>
<blockquote>
<div><p>maximum allowed distance in meters</p>
</div></blockquote>
<p><strong>into_subset</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>if set the returned lut will have the index into the subset
if the other grid is a subset of a grid.
Example:
if e.g. ind_l is used for the warp_grid some datasets will
be given as arrays with len(ind_l) elements. These
datasets can not be indexed with gpi numbers but have to
be indexed with indices into the subset</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.find_nearest_gpi">
<tt class="descname">find_nearest_gpi</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>max_dist=inf</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.find_nearest_gpi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.find_nearest_gpi" title="Permalink to this definition">¶</a></dt>
<dd><p>finds nearest gpi, builds kdTree if it does not yet exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon</strong> : float</p>
<blockquote>
<div><p>longitude of point</p>
</div></blockquote>
<p><strong>lat</strong> : float</p>
<blockquote>
<div><p>latitude of point</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpi</strong> : long</p>
<blockquote>
<div><p>grid point index</p>
</div></blockquote>
<p><strong>distance</strong> : float</p>
<blockquote class="last">
<div><p>distance of gpi to given lon, lat
At the moment not on a great circle but in spherical cartesian coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.get_bbox_grid_points">
<tt class="descname">get_bbox_grid_points</tt><big>(</big><em>latmin=-90</em>, <em>latmax=90</em>, <em>lonmin=-180</em>, <em>lonmax=180</em>, <em>coords=False</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.get_bbox_grid_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.get_bbox_grid_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all grid points located in a submitted geographic box,
optinal as coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>latmin</strong> : float, optional</p>
<blockquote>
<div><p>minimum latitude</p>
</div></blockquote>
<p><strong>latmax</strong> : float, optional</p>
<blockquote>
<div><p>maximum latitude</p>
</div></blockquote>
<p><strong>lonmin</strong> : float, optional</p>
<blockquote>
<div><p>minimum latitude</p>
</div></blockquote>
<p><strong>lonmax</strong> : float, optional</p>
<blockquote>
<div><p>maximum latitude</p>
</div></blockquote>
<p><strong>coords</strong> : boolean, optional</p>
<blockquote>
<div><p>set to True if coordinates should be returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpi</strong> : numpy.array</p>
<blockquote>
<div><p>grid point indices, if coords=False</p>
</div></blockquote>
<p><strong>lat</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes of gpis, if coords=True</p>
</div></blockquote>
<p><strong>lon</strong> : numpy.array</p>
<blockquote class="last">
<div><p>longitudes of gpis, if coords=True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.get_grid_points">
<tt class="descname">get_grid_points</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.get_grid_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.get_grid_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all active grid points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int, optional</p>
<blockquote>
<div><p>if the grid is split in n parts using the split function
then this function will only return the nth part of the
grid</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpis</strong> : numpy.array</p>
<p><strong>arrlon</strong> : numpy.array</p>
<p class="last">arrlat :numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.gpi2lonlat">
<tt class="descname">gpi2lonlat</tt><big>(</big><em>gpi</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.gpi2lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.gpi2lonlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Longitude and Latitude for given GPI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gpi</strong> : int32</p>
<blockquote>
<div><p>Grid Point Index.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lon</strong> : float</p>
<blockquote>
<div><p>Longitude (deg) of GPI.</p>
</div></blockquote>
<p class="last"><strong>lat</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.gpi2rowcol">
<tt class="descname">gpi2rowcol</tt><big>(</big><em>gpi</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.gpi2rowcol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.gpi2rowcol" title="Permalink to this definition">¶</a></dt>
<dd><p>if the grid can be reshaped into a
sensible 2D shape then this function gives
the row(latitude dimension) and column(longitude dimension)
indices of the gpi in the 2D grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gpi</strong> : int32</p>
<blockquote>
<div><p>Grid Point Index.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>row</strong> : int</p>
<blockquote>
<div><p>row in 2D array</p>
</div></blockquote>
<p><strong>col</strong> : int</p>
<blockquote class="last">
<div><p>column in 2D array</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.grid_points">
<tt class="descname">grid_points</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.grid_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.grid_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields all grid points in order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int, optional</p>
<blockquote>
<div><p>if the grid is split in n parts using the split function
then this iterator will only iterate of the nth part of the
grid</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpi</strong> : long</p>
<blockquote>
<div><p>grid point index</p>
</div></blockquote>
<p><strong>lon</strong> : float</p>
<blockquote>
<div><p>longitude of gpi</p>
</div></blockquote>
<p><strong>lat</strong> : float</p>
<blockquote class="last">
<div><p>longitude of gpi</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.split">
<tt class="descname">split</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.split" title="Permalink to this definition">¶</a></dt>
<dd><p>function splits the grid into n parts
this changes not function but grid_points() which takes
the argument n and will only iterate through this part of
the grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote class="last">
<div><p>number of parts the grid should be split into</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.to_cell_grid">
<tt class="descname">to_cell_grid</tt><big>(</big><em>cellsize=5.0</em>, <em>cellsize_lat=None</em>, <em>cellsize_lon=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.to_cell_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.to_cell_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>convert grid to cellgrid with a cell partition of
cellsize</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cellsize</strong> : float, optional</p>
<blockquote>
<div><p>cell size in degrees</p>
</div></blockquote>
<p><strong>cellsize_lon</strong> : float, optional</p>
<blockquote>
<div><p>Cell size in degrees on the longitude axis</p>
</div></blockquote>
<p><strong>cellsize_lat</strong> : float, optional</p>
<blockquote>
<div><p>Cell size in degrees on the latitude axis</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cell_grid</strong> : CellGrid object</p>
<blockquote class="last">
<div><p>cell grid object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.BasicGrid.unite">
<tt class="descname">unite</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#BasicGrid.unite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.BasicGrid.unite" title="Permalink to this definition">¶</a></dt>
<dd><p>unites a split array, so that it can be iterated over as a whole
again</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pytesmo.grid.grids.CellGrid">
<em class="property">class </em><tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">CellGrid</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>cells</em>, <em>gpis=None</em>, <em>subset=None</em>, <em>setup_kdTree=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytesmo.grid.grids.BasicGrid" title="pytesmo.grid.grids.BasicGrid"><tt class="xref py py-class docutils literal"><span class="pre">pytesmo.grid.grids.BasicGrid</span></tt></a></p>
<p>Grid that has lat,lon coordinates as well as cell informatin.
It can find nearest neighbour. It can also yield the gpi, lat, lon, cell
information in cell order. This is important if the data on the grid
is saved in cell files on disk as we can go through all grid points
with optimized IO performance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes of the points in the grid</p>
</div></blockquote>
<p><strong>lat</strong> : numpy.array</p>
<blockquote>
<div><p>latitudes of the points in the grid</p>
</div></blockquote>
<p><strong>cells</strong> : numpy.array</p>
<blockquote>
<div><p>of same shape as lon and lat, containing the cell number
of each gpi</p>
</div></blockquote>
<p><strong>gpis</strong> : numpy.array, optional</p>
<blockquote>
<div><p>if the gpi numbers are in a different order than the
lon and lat arrays an array containing the gpi numbers
can be given</p>
</div></blockquote>
<p><strong>subset</strong> : numpy.array, optional</p>
<blockquote class="last">
<div><p>if the active part of the array is only a subset of
all the points then the subset array which is a index
into lon, lat and cells can be given here</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>arrcell</td>
<td>(numpy.array) array of cell number with same shape as arrlon,arrlat</td>
</tr>
<tr class="row-even"><td>activearrcell</td>
<td>(numpy.array) array of longitudes that are active, is defined by arrlon[subset] if a subset is given otherwise equal to arrlon</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">calc_lut</span></tt>(other[,&nbsp;max_dist,&nbsp;into_subset])</td>
<td>takes other BasicGrid or CellGrid objects and computes</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">find_nearest_gpi</span></tt>(lon,&nbsp;lat[,&nbsp;max_dist])</td>
<td>finds nearest gpi, builds kdTree if it does not yet exist</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_bbox_grid_points</span></tt>([latmin,&nbsp;latmax,&nbsp;...])</td>
<td>Returns all grid points located in a submitted geographic box,</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.CellGrid.get_cells" title="pytesmo.grid.grids.CellGrid.get_cells"><tt class="xref py py-obj docutils literal"><span class="pre">get_cells</span></tt></a>()</td>
<td>function to get all cell numbers of the grid</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.CellGrid.get_grid_points" title="pytesmo.grid.grids.CellGrid.get_grid_points"><tt class="xref py py-obj docutils literal"><span class="pre">get_grid_points</span></tt></a>(*args)</td>
<td>Returns all active grid points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.CellGrid.gpi2cell" title="pytesmo.grid.grids.CellGrid.gpi2cell"><tt class="xref py py-obj docutils literal"><span class="pre">gpi2cell</span></tt></a>(gpi)</td>
<td>Cell for given GPI.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">gpi2lonlat</span></tt>(gpi)</td>
<td>Longitude and Latitude for given GPI.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">gpi2rowcol</span></tt>(gpi)</td>
<td>if the grid can be reshaped into a</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">grid_points</span></tt>(*args)</td>
<td>Yields all grid points in order</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pytesmo.grid.grids.CellGrid.grid_points_for_cell" title="pytesmo.grid.grids.CellGrid.grid_points_for_cell"><tt class="xref py py-obj docutils literal"><span class="pre">grid_points_for_cell</span></tt></a>(cell)</td>
<td>get all grid points for a given cell number</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pytesmo.grid.grids.CellGrid.split" title="pytesmo.grid.grids.CellGrid.split"><tt class="xref py py-obj docutils literal"><span class="pre">split</span></tt></a>(n)</td>
<td>function splits the grid into n parts</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">to_cell_grid</span></tt>([cellsize,&nbsp;cellsize_lat,&nbsp;...])</td>
<td>convert grid to cellgrid with a cell partition of</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">unite</span></tt>()</td>
<td>unites a split array, so that it can be iterated over as a whole</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pytesmo.grid.grids.CellGrid.get_cells">
<tt class="descname">get_cells</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid.get_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid.get_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>function to get all cell numbers of the grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cells</strong> : numpy.array</p>
<blockquote class="last">
<div><p>unique cell numbers</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.CellGrid.get_grid_points">
<tt class="descname">get_grid_points</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid.get_grid_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid.get_grid_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all active grid points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int, optional</p>
<blockquote>
<div><p>if the grid is split in n parts using the split function
then this function will only return the nth part of the
grid</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpis</strong> : numpy.array</p>
<p><strong>arrlon</strong> : numpy.array</p>
<p>arrlat :numpy.array</p>
<p class="last"><strong>cells</strong> : numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.CellGrid.gpi2cell">
<tt class="descname">gpi2cell</tt><big>(</big><em>gpi</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid.gpi2cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid.gpi2cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Cell for given GPI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gpi</strong> : int32</p>
<blockquote>
<div><p>Grid Point Index.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cell</strong> : int</p>
<blockquote>
<div><p>Cell number of GPI.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>IndexError</strong></p>
<blockquote class="last">
<div><p>if gpi is not found</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.CellGrid.grid_points_for_cell">
<tt class="descname">grid_points_for_cell</tt><big>(</big><em>cell</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid.grid_points_for_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid.grid_points_for_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>get all grid points for a given cell number</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell</strong> : int</p>
<blockquote>
<div><p>cell number</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gpis</strong> : numpy.array</p>
<blockquote>
<div><p>gpis belonging to cell</p>
</div></blockquote>
<p><strong>lons</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes belonging to the gpis</p>
</div></blockquote>
<p><strong>lats</strong> : numpy.array</p>
<blockquote class="last">
<div><p>latitudes belonging to the gpis</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pytesmo.grid.grids.CellGrid.split">
<tt class="descname">split</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#CellGrid.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.CellGrid.split" title="Permalink to this definition">¶</a></dt>
<dd><p>function splits the grid into n parts
this changes not function but grid_points() which takes
the argument n and will only iterate through this part of
the grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote class="last">
<div><p>number of parts the grid should be split into</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pytesmo.grid.grids.GridDefinitionError">
<em class="property">exception </em><tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">GridDefinitionError</tt><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#GridDefinitionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.GridDefinitionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/exceptions.html#exceptions.Exception" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="pytesmo.grid.grids.GridIterationError">
<em class="property">exception </em><tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">GridIterationError</tt><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#GridIterationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.GridIterationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/exceptions.html#exceptions.Exception" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="pytesmo.grid.grids.genreg_grid">
<tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">genreg_grid</tt><big>(</big><em>grd_spc_lat=1</em>, <em>grd_spc_lon=1</em>, <em>minlat=-90.0</em>, <em>maxlat=90.0</em>, <em>minlon=-180.0</em>, <em>maxlon=180.0</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#genreg_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.genreg_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a global regular lon lat grid which starts in the North Western
Corner of minlon, maxlat.
The grid points are defined to be in the middle of a grid cell.
e.g. the first point on a 1x1 degree grid with
minlon -180.0 and maxlat 90.0 will be at
-179.5 longitude, 89.5 latitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>grd_spc_lat: float, optional</strong></p>
<blockquote>
<div><p>grid spacing in latitude direction</p>
</div></blockquote>
<p><strong>grd_spc_lon: float, optional</strong></p>
<blockquote>
<div><p>grid spacing in longitude direction</p>
</div></blockquote>
<p><strong>minlat</strong> : float, optional</p>
<blockquote>
<div><p>minimum latitude of the grid</p>
</div></blockquote>
<p><strong>maxlat</strong> : float, optional</p>
<blockquote>
<div><p>maximum latitude of the grid</p>
</div></blockquote>
<p><strong>minlon</strong> : float, optional</p>
<blockquote>
<div><p>minimum longitude of the grid</p>
</div></blockquote>
<p><strong>maxlon</strong> : float, optional</p>
<blockquote class="last">
<div><p>maximum longitude of the grid</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytesmo.grid.grids.gridfromdims">
<tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">gridfromdims</tt><big>(</big><em>londim</em>, <em>latdim</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#gridfromdims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.gridfromdims" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines new grid object from latitude and longitude dimensions.
latitude and longitude dimensions are 1D arrays that give the
latitude and longitude values of a 2D latitude-longitude array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>londim: numpy.array</strong></p>
<blockquote>
<div><p>longitude dimension</p>
</div></blockquote>
<p><strong>latdim: numpy.array</strong></p>
<blockquote class="last">
<div><p>latitude dimension</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytesmo.grid.grids.lonlat2cell">
<tt class="descclassname">pytesmo.grid.grids.</tt><tt class="descname">lonlat2cell</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>cellsize=5.0</em>, <em>cellsize_lon=None</em>, <em>cellsize_lat=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/grids.html#lonlat2cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.grids.lonlat2cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Partition lon, lat points into cells.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lat: float64, or numpy.array</strong></p>
<blockquote>
<div><p>Latitude.</p>
</div></blockquote>
<p><strong>lon: float64, or numpy.array</strong></p>
<blockquote>
<div><p>Longitude.</p>
</div></blockquote>
<p><strong>cellsize: float</strong></p>
<blockquote>
<div><p>Cell size in degrees</p>
</div></blockquote>
<p><strong>cellsize_lon</strong> : float, optional</p>
<blockquote>
<div><p>Cell size in degrees on the longitude axis</p>
</div></blockquote>
<p><strong>cellsize_lat</strong> : float, optional</p>
<blockquote>
<div><p>Cell size in degrees on the latitude axis</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cell: int32, or numpy.array</p>
<blockquote class="last">
<div><p>Cell.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pytesmo.grid.nearest_neighbor">
<span id="pytesmo-grid-nearest-neighbor-module"></span><h2>pytesmo.grid.nearest_neighbor module<a class="headerlink" href="#module-pytesmo.grid.nearest_neighbor" title="Permalink to this headline">¶</a></h2>
<p>Created on Jul 30, 2013</p>
<p>&#64;author: Christoph Paulik <a class="reference external" href="mailto:christoph&#46;paulik&#37;&#52;&#48;geo&#46;tuwien&#46;ac&#46;at">christoph<span>&#46;</span>paulik<span>&#64;</span>geo<span>&#46;</span>tuwien<span>&#46;</span>ac<span>&#46;</span>at</a></p>
<dl class="class">
<dt id="pytesmo.grid.nearest_neighbor.findGeoNN">
<em class="property">class </em><tt class="descclassname">pytesmo.grid.nearest_neighbor.</tt><tt class="descname">findGeoNN</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>R=6370997.0</em>, <em>grid=False</em>, <em>kd_tree_name='pykdtree'</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/nearest_neighbor.html#findGeoNN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.nearest_neighbor.findGeoNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>class that takes lat,lon coordinates, transformes them to cartesian (X,Y,Z)
coordinates and provides a interface to scipy.spatial.kdTree
as well as pykdtree if installed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon</strong> : numpy.array or list</p>
<blockquote>
<div><p>longitudes of the points in the grid</p>
</div></blockquote>
<p><strong>lat</strong> : numpy.array or list</p>
<blockquote>
<div><p>latitudes of the points in the grid</p>
</div></blockquote>
<p><strong>R</strong> : float, optional</p>
<blockquote>
<div><p>Radius of the earth to use for calculating 3D coordinates</p>
</div></blockquote>
<p><strong>grid</strong> : boolean, optional</p>
<blockquote>
<div><p>if True then lon and lat are assumed to be the coordinates of a grid
and will be used in numpy.meshgrid to get coordinates for all
grid points</p>
</div></blockquote>
<p><strong>kd_tree_name</strong> : string, optional</p>
<blockquote class="last">
<div><p>name of kdTree implementation to use, either
&#8216;pykdtree&#8217; to use pykdtree or
&#8216;scipy&#8217; to use scipy.spatial.kdTree
Fallback is always scipy if any other string is given
or if pykdtree is not installed. standard is pykdtree since it is faster</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>R</td>
<td>(float) earth radius to use in computation of x,y,z coordinates</td>
</tr>
<tr class="row-even"><td>coords</td>
<td>(numpy.array) 3D array of cartesian x,y,z coordinates</td>
</tr>
<tr class="row-odd"><td>kd_tree_name: string</td>
<td>name of kdTree implementation to use, either &#8216;pykdtree&#8217; to use pykdtree or &#8216;scipy&#8217; to use scipy.spatial.kdTree Fallback is always scipy if any other string is given or if pykdtree is not installed</td>
</tr>
<tr class="row-even"><td>kdtree: object</td>
<td>kdTree object that is built only once and saved in this attribute</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>find_nearest_index(lon,lat)</td>
<td>finds the nearest neighbor of the given lon,lat coordinates in the lon,lat arrays given during initialization and returns the index of the nearest neighbour in those arrays.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pytesmo.grid.nearest_neighbor.findGeoNN.find_nearest_index">
<tt class="descname">find_nearest_index</tt><big>(</big><em>lon</em>, <em>lat</em>, <em>max_dist=inf</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/nearest_neighbor.html#findGeoNN.find_nearest_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.nearest_neighbor.findGeoNN.find_nearest_index" title="Permalink to this definition">¶</a></dt>
<dd><p>finds nearest index, builds kdTree if it does not yet exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon</strong> : float, list or numpy.array</p>
<blockquote>
<div><p>longitude of point</p>
</div></blockquote>
<p><strong>lat</strong> : float, list or numpy.array</p>
<blockquote>
<div><p>latitude of point</p>
</div></blockquote>
<p><strong>max_dist</strong> : float, optional</p>
<blockquote>
<div><p>maximum distance to consider for search</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : float, numpy.array</p>
<blockquote>
<div><p>distances of query coordinates to the nearest grid point,
distance is given in cartesian coordinates and is not the
great circle distance at the moment. This should be OK for
most applications that look for the nearest neighbor which
should not be hundreds of kilometers away.</p>
</div></blockquote>
<p><strong>ind</strong> : int, numpy.array</p>
<blockquote>
<div><p>indices of nearest neighbor</p>
</div></blockquote>
<p><strong>index_lon</strong> : numpy.array, optional</p>
<blockquote>
<div><p>if self.grid is True then return index into lon array of grid definition</p>
</div></blockquote>
<p><strong>index_lat</strong> : numpy.array, optional</p>
<blockquote class="last">
<div><p>if self.grid is True then return index into lat array of grid definition</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pytesmo.grid.netcdf">
<span id="pytesmo-grid-netcdf-module"></span><h2>pytesmo.grid.netcdf module<a class="headerlink" href="#module-pytesmo.grid.netcdf" title="Permalink to this headline">¶</a></h2>
<p>Created on Jan 21, 2014</p>
<p>Module for saving grid to netCDF</p>
<p>&#64;author: Christoph Paulik <a class="reference external" href="mailto:christoph&#46;paulik&#37;&#52;&#48;geo&#46;tuwien&#46;ac&#46;at">christoph<span>&#46;</span>paulik<span>&#64;</span>geo<span>&#46;</span>tuwien<span>&#46;</span>ac<span>&#46;</span>at</a></p>
<dl class="function">
<dt id="pytesmo.grid.netcdf.load_grid">
<tt class="descclassname">pytesmo.grid.netcdf.</tt><tt class="descname">load_grid</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/netcdf.html#load_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.netcdf.load_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>load a grid from netCDF file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>filename</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>grid</strong> : BasicGrid or CellGrid instance</p>
<blockquote class="last">
<div><p>grid instance initialized with the loaded data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytesmo.grid.netcdf.save_grid">
<tt class="descclassname">pytesmo.grid.netcdf.</tt><tt class="descname">save_grid</tt><big>(</big><em>filename</em>, <em>grid</em>, <em>subset_name='land_points'</em>, <em>subset_meaning='water land'</em>, <em>global_attrs=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/netcdf.html#save_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.netcdf.save_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>save a BasicGrid or CellGrid to netCDF
it is assumed that a subset should be used as land_points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>name of file</p>
</div></blockquote>
<p><strong>grid</strong> : BasicGrid or CellGrid object</p>
<blockquote>
<div><p>grid whose definition to save to netCDF</p>
</div></blockquote>
<p><strong>subset_name</strong> : string, optional</p>
<blockquote>
<div><p>long_name of the variable &#8216;subset_flag&#8217;
if the subset symbolises something other than a land/sea mask</p>
</div></blockquote>
<p><strong>subset_meaning</strong> : string, optional</p>
<blockquote>
<div><p>will be written into flag_meanings metadata of variable &#8216;subset_flag&#8217;</p>
</div></blockquote>
<p><strong>global_attrs</strong> : dict, optional</p>
<blockquote class="last">
<div><p>if given will be written as global attributs into netCDF file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytesmo.grid.netcdf.save_lonlat">
<tt class="descclassname">pytesmo.grid.netcdf.</tt><tt class="descname">save_lonlat</tt><big>(</big><em>filename</em>, <em>arrlon</em>, <em>arrlat</em>, <em>arrcell=None</em>, <em>gpis=None</em>, <em>subset_points=None</em>, <em>subset_name='land_points'</em>, <em>subset_meaning='water land'</em>, <em>global_attrs=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/netcdf.html#save_lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.netcdf.save_lonlat" title="Permalink to this definition">¶</a></dt>
<dd><p>saves grid information to netCDF file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>name of file</p>
</div></blockquote>
<p><strong>arrlon</strong> : numpy.array</p>
<blockquote>
<div><p>array of longitudes</p>
</div></blockquote>
<p><strong>arrlat</strong> : numpy.array</p>
<blockquote>
<div><p>array of latitudes</p>
</div></blockquote>
<p><strong>arrcell</strong> : numpy.array, optional</p>
<blockquote>
<div><p>array of cell numbers</p>
</div></blockquote>
<p><strong>gpis</strong> : numpy.array, optional</p>
<blockquote>
<div><p>gpi numbers if not index of arrlon, arrlat</p>
</div></blockquote>
<p><strong>subset_points</strong> : numpy.array, optional</p>
<blockquote>
<div><p>and indication if the given grid point is over land
must be an indices into arrlon, arrlat</p>
</div></blockquote>
<p><strong>subset_name</strong> : string, optional</p>
<blockquote>
<div><p>long_name of the variable &#8216;subset_flag&#8217;
if the subset symbolises something other than a land/sea mask</p>
</div></blockquote>
<p><strong>subset_meaning</strong> : string, optional</p>
<blockquote>
<div><p>will be written into flag_meanings metadata of variable &#8216;subset_flag&#8217;</p>
</div></blockquote>
<p><strong>global_attrs</strong> : dict, optional</p>
<blockquote class="last">
<div><p>if given will be written as global attributs into netCDF file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pytesmo.grid.resample">
<span id="pytesmo-grid-resample-module"></span><h2>pytesmo.grid.resample module<a class="headerlink" href="#module-pytesmo.grid.resample" title="Permalink to this headline">¶</a></h2>
<p>Created on Mar 25, 2014</p>
<p>&#64;author: Christoph Paulik <a class="reference external" href="mailto:christoph&#46;paulik&#37;&#52;&#48;geo&#46;tuwien&#46;ac&#46;at">christoph<span>&#46;</span>paulik<span>&#64;</span>geo<span>&#46;</span>tuwien<span>&#46;</span>ac<span>&#46;</span>at</a></p>
<dl class="function">
<dt id="pytesmo.grid.resample.resample_to_grid">
<tt class="descclassname">pytesmo.grid.resample.</tt><tt class="descname">resample_to_grid</tt><big>(</big><em>input_data</em>, <em>src_lon</em>, <em>src_lat</em>, <em>target_lon</em>, <em>target_lat</em>, <em>methods='nn'</em>, <em>weight_funcs=None</em>, <em>min_neighbours=1</em>, <em>search_rad=18000</em>, <em>neighbours=8</em>, <em>fill_values=None</em><big>)</big><a class="reference internal" href="../_modules/pytesmo/grid/resample.html#resample_to_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytesmo.grid.resample.resample_to_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>resamples data from dictionary of numpy arrays using pyresample
to given grid.
Searches for the neighbours and then resamples the data
to the grid given in togrid if at least
min_neighbours neighbours are found</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_data</strong> : dict of numpy.arrays</p>
<p><strong>src_lon</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes of the input data</p>
</div></blockquote>
<p><strong>src_lat</strong> : numpy.array</p>
<blockquote>
<div><p>src_latitudes of the input data</p>
</div></blockquote>
<p><strong>target_lon</strong> : numpy.array</p>
<blockquote>
<div><p>longitudes of the output data</p>
</div></blockquote>
<p><strong>target_src_lat</strong> : numpy.array</p>
<blockquote>
<div><p>src_latitudes of the output data</p>
</div></blockquote>
<p><strong>methods</strong> : string or dict, optional</p>
<blockquote>
<div><p>method of spatial averaging. this is given to pyresample
and can be
&#8216;nn&#8217; : nearest neighbour
&#8216;custom&#8217; : custom weight function has to be supplied in weight_funcs
see pyresample documentation for more details
can also be a dictionary with a method for each array in input data dict</p>
</div></blockquote>
<p><strong>weight_funcs</strong> : function or dict of functions, optional</p>
<blockquote>
<div><p>if method is &#8216;custom&#8217; a function like func(distance) has to be given
can also be a dictionary with a function for each array in input data dict</p>
</div></blockquote>
<p><strong>min_neighbours: int, optional</strong></p>
<blockquote>
<div><p>if given then only points with at least this number of neighbours will be
resampled
Default : 1</p>
</div></blockquote>
<p><strong>search_rad</strong> : float, optional</p>
<blockquote>
<div><p>search radius in meters of neighbour search
Default : 18000</p>
</div></blockquote>
<p><strong>neighbours</strong> : int, optional</p>
<blockquote>
<div><p>maximum number of neighbours to look for for each input grid point
Default : 8</p>
</div></blockquote>
<p><strong>fill_values</strong> : number or dict, optional</p>
<blockquote>
<div><p>if given the output array will be filled with this value if no valid
resampled value could be computed, if not a masked array will be returned
can also be a dict with a fill value for each variable</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<p><strong>data</strong> : dict of numpy.arrays</p>
<blockquote>
<div><p>resampled data on given grid</p>
</div></blockquote>
<p><strong>Raises</strong></p>
<p><strong>&#8212;&#8212;</strong></p>
<p><strong>ValueError :</strong></p>
<blockquote class="last">
<div><p>if empty dataset is resampled</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pytesmo.grid">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytesmo.grid" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="pytesmo.colormaps.html" class="btn btn-neutral" title="pytesmo.colormaps package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Christoph Paulik.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>