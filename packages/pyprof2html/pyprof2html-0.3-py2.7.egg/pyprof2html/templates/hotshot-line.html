{% extends 'base.html' %}

{% block content %}
  <div class="content">

    <div class="header">
        <div class="header-title"><a href="./index.html">Profile Report</a></div>
        <div class="header-time">
          Profile Time on <strong>{{ proftime }}</strong><br/>
          Reported Time on <strong>{{ reporttime }}</strong>
        </div>
    </div>

    <div class="profile-info">
    <h2>Profile Info</h2>
    <p>Profile Data Type: <span style="font-weight:bold"
                        >{{profile_datatype}}</span><br/>
       Total Time: <span style="font-weight:bold"
                   >{{ profdata['totaltime'] }}</span> CPU second<br/>
       Total Func Call: <span style="font-weight:bold"
                        >{{ profdata['totalcalls'] }}</span
                        > function calls</p>
    </div>

    <hr/>

    <div class="profile-table">
    <h2>Source Code&nbsp;&nbsp;&nbsp;<a href="index.html"
    >All functions data&nbsp;&raquo;</a></h2>
    <table class="prof">
    <tr>
    <th class="procheader" align="center" colspan="4">{{ filename }}</th>
    </tr>
    <tr align="right">
    <th class="prof" align="center"><span class="tdmg">num</span></th>
    <th class="prof" align="center"><span class="tdmg"
     >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
     ></th>
    <th class="prof" align="center"><span class="tdmg">calls</span></th>
    <th class="prof" align="center"><span class="tdmg">code</span></th>
    </tr>
    {% for item in profdata['data'] %}
        <tr>
        <td id="line{{ loop.index }}" class="profline_r"
        ><span class="tdms" style="color:#999999;">{{ loop.index }}</span></td>
        {% if item['sec'] == 'None' %}
            <td class="profline_r"><span class="tdms"></span></td>
            <td class="profline_r"><span class="tdms"></span></td>
        {% else %}
            <td class="profline_r" style="background-color:#ffffff;"
            ><span class="tdms">{{ item['sec'] }} sec</span></td>
            <td class="profline_r" style="background-color:#ffffff;"
            ><span class="tdms">{{ item['cnt'] }} call</span></td>
        {% endif %}
        {% if item['sec'] == 'None' %}
            <td class="profline_l"
             ><pre class="tdms">{{ item['line']|escape }}</pre></td>
        {% else %}
            <td class="profline_l"><pre class="tdms" style="font-weight:bold;"
             >{{ item['line']|escape }}</pre></td>
        {% endif %}
        </tr>
    {% endfor %}
    </table>
    </div>

    <div id="footer">
    <p>
    Generated by
    <a href="http://pypi.python.org/pypi/pyprof2html/">pyprof2html</a>: {{version}}
    &nbsp;&nbsp;&nbsp;Powered by <a href="http://www.python.org/">Python</a
    > and <a href="http://jinja.pocoo.org/2/">Jinja2</a>
    </p>
    </div>

  </div>
{% endblock content %}
